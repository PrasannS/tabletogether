(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function GT(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Gf={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function QT(){if(Py)return Gl;Py=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Gl.Fragment=e,Gl.jsx=i,Gl.jsxs=i,Gl}var ky;function KT(){return ky||(ky=1,Gf.exports=QT()),Gf.exports}var U=KT(),Qf={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function YT(){if(zy)return Rt;zy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,q={};function H(N,nt,ut){this.props=N,this.context=nt,this.refs=q,this.updater=ut||x}H.prototype.isReactComponent={},H.prototype.setState=function(N,nt){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,nt,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function K(){}K.prototype=H.prototype;function it(N,nt,ut){this.props=N,this.context=nt,this.refs=q,this.updater=ut||x}var X=it.prototype=new K;X.constructor=it,I(X,H.prototype),X.isPureReactComponent=!0;var at=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},St=Object.prototype.hasOwnProperty;function O(N,nt,ut,rt,pt,xt){return ut=xt.ref,{$$typeof:a,type:N,key:nt,ref:ut!==void 0?ut:null,props:xt}}function R(N,nt){return O(N.type,nt,void 0,void 0,void 0,N.props)}function w(N){return typeof N=="object"&&N!==null&&N.$$typeof===a}function V(N){var nt={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ut){return nt[ut]})}var L=/\/+/g;function k(N,nt){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):nt.toString(36)}function D(){}function Me(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(nt){N.status==="pending"&&(N.status="fulfilled",N.value=nt)},function(nt){N.status==="pending"&&(N.status="rejected",N.reason=nt)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ae(N,nt,ut,rt,pt){var xt=typeof N;(xt==="undefined"||xt==="boolean")&&(N=null);var Tt=!1;if(N===null)Tt=!0;else switch(xt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(N.$$typeof){case a:case e:Tt=!0;break;case E:return Tt=N._init,ae(Tt(N._payload),nt,ut,rt,pt)}}if(Tt)return pt=pt(N),Tt=rt===""?"."+k(N,0):rt,at(pt)?(ut="",Tt!=null&&(ut=Tt.replace(L,"$&/")+"/"),ae(pt,nt,ut,"",function(Pn){return Pn})):pt!=null&&(w(pt)&&(pt=R(pt,ut+(pt.key==null||N&&N.key===pt.key?"":(""+pt.key).replace(L,"$&/")+"/")+Tt)),nt.push(pt)),1;Tt=0;var we=rt===""?".":rt+":";if(at(N))for(var Zt=0;Zt<N.length;Zt++)rt=N[Zt],xt=we+k(rt,Zt),Tt+=ae(rt,nt,ut,xt,pt);else if(Zt=S(N),typeof Zt=="function")for(N=Zt.call(N),Zt=0;!(rt=N.next()).done;)rt=rt.value,xt=we+k(rt,Zt++),Tt+=ae(rt,nt,ut,xt,pt);else if(xt==="object"){if(typeof N.then=="function")return ae(Me(N),nt,ut,rt,pt);throw nt=String(N),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function $(N,nt,ut){if(N==null)return N;var rt=[],pt=0;return ae(N,rt,"","",function(xt){return nt.call(ut,xt,pt++)}),rt}function ot(N){if(N._status===-1){var nt=N._result;nt=nt(),nt.then(function(ut){(N._status===0||N._status===-1)&&(N._status=1,N._result=ut)},function(ut){(N._status===0||N._status===-1)&&(N._status=2,N._result=ut)}),N._status===-1&&(N._status=0,N._result=nt)}if(N._status===1)return N._result.default;throw N._result}var mt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function zt(){}return Rt.Children={map:$,forEach:function(N,nt,ut){$(N,function(){nt.apply(this,arguments)},ut)},count:function(N){var nt=0;return $(N,function(){nt++}),nt},toArray:function(N){return $(N,function(nt){return nt})||[]},only:function(N){if(!w(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Rt.Component=H,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=it,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return st.H.useMemoCache(N)}},Rt.cache=function(N){return function(){return N.apply(null,arguments)}},Rt.cloneElement=function(N,nt,ut){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var rt=I({},N.props),pt=N.key,xt=void 0;if(nt!=null)for(Tt in nt.ref!==void 0&&(xt=void 0),nt.key!==void 0&&(pt=""+nt.key),nt)!St.call(nt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&nt.ref===void 0||(rt[Tt]=nt[Tt]);var Tt=arguments.length-2;if(Tt===1)rt.children=ut;else if(1<Tt){for(var we=Array(Tt),Zt=0;Zt<Tt;Zt++)we[Zt]=arguments[Zt+2];rt.children=we}return O(N.type,pt,void 0,void 0,xt,rt)},Rt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Rt.createElement=function(N,nt,ut){var rt,pt={},xt=null;if(nt!=null)for(rt in nt.key!==void 0&&(xt=""+nt.key),nt)St.call(nt,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(pt[rt]=nt[rt]);var Tt=arguments.length-2;if(Tt===1)pt.children=ut;else if(1<Tt){for(var we=Array(Tt),Zt=0;Zt<Tt;Zt++)we[Zt]=arguments[Zt+2];pt.children=we}if(N&&N.defaultProps)for(rt in Tt=N.defaultProps,Tt)pt[rt]===void 0&&(pt[rt]=Tt[rt]);return O(N,xt,void 0,void 0,null,pt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(N){return{$$typeof:m,render:N}},Rt.isValidElement=w,Rt.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:ot}},Rt.memo=function(N,nt){return{$$typeof:y,type:N,compare:nt===void 0?null:nt}},Rt.startTransition=function(N){var nt=st.T,ut={};st.T=ut;try{var rt=N(),pt=st.S;pt!==null&&pt(ut,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(zt,mt)}catch(xt){mt(xt)}finally{st.T=nt}},Rt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Rt.use=function(N){return st.H.use(N)},Rt.useActionState=function(N,nt,ut){return st.H.useActionState(N,nt,ut)},Rt.useCallback=function(N,nt){return st.H.useCallback(N,nt)},Rt.useContext=function(N){return st.H.useContext(N)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(N,nt){return st.H.useDeferredValue(N,nt)},Rt.useEffect=function(N,nt,ut){var rt=st.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(N,nt)},Rt.useId=function(){return st.H.useId()},Rt.useImperativeHandle=function(N,nt,ut){return st.H.useImperativeHandle(N,nt,ut)},Rt.useInsertionEffect=function(N,nt){return st.H.useInsertionEffect(N,nt)},Rt.useLayoutEffect=function(N,nt){return st.H.useLayoutEffect(N,nt)},Rt.useMemo=function(N,nt){return st.H.useMemo(N,nt)},Rt.useOptimistic=function(N,nt){return st.H.useOptimistic(N,nt)},Rt.useReducer=function(N,nt,ut){return st.H.useReducer(N,nt,ut)},Rt.useRef=function(N){return st.H.useRef(N)},Rt.useState=function(N){return st.H.useState(N)},Rt.useSyncExternalStore=function(N,nt,ut){return st.H.useSyncExternalStore(N,nt,ut)},Rt.useTransition=function(){return st.H.useTransition()},Rt.version="19.1.0",Rt}var jy;function Md(){return jy||(jy=1,Qf.exports=YT()),Qf.exports}var F=Md();const XT=GT(F);var Kf={exports:{}},Ql={},Yf={exports:{}},Xf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function $T(){return By||(By=1,function(a){function e($,ot){var mt=$.length;$.push(ot);t:for(;0<mt;){var zt=mt-1>>>1,N=$[zt];if(0<o(N,ot))$[zt]=ot,$[mt]=N,mt=zt;else break t}}function i($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ot=$[0],mt=$.pop();if(mt!==ot){$[0]=mt;t:for(var zt=0,N=$.length,nt=N>>>1;zt<nt;){var ut=2*(zt+1)-1,rt=$[ut],pt=ut+1,xt=$[pt];if(0>o(rt,mt))pt<N&&0>o(xt,rt)?($[zt]=xt,$[pt]=mt,zt=pt):($[zt]=rt,$[ut]=mt,zt=ut);else if(pt<N&&0>o(xt,mt))$[zt]=xt,$[pt]=mt,zt=pt;else break t}}return ot}function o($,ot){var mt=$.sortIndex-ot.sortIndex;return mt!==0?mt:$.id-ot.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();a.unstable_now=function(){return d.now()-m}}var p=[],y=[],E=1,b=null,S=3,x=!1,I=!1,q=!1,H=!1,K=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function at($){for(var ot=i(y);ot!==null;){if(ot.callback===null)s(y);else if(ot.startTime<=$)s(y),ot.sortIndex=ot.expirationTime,e(p,ot);else break;ot=i(y)}}function st($){if(q=!1,at($),!I)if(i(p)!==null)I=!0,St||(St=!0,k());else{var ot=i(y);ot!==null&&ae(st,ot.startTime-$)}}var St=!1,O=-1,R=5,w=-1;function V(){return H?!0:!(a.unstable_now()-w<R)}function L(){if(H=!1,St){var $=a.unstable_now();w=$;var ot=!0;try{t:{I=!1,q&&(q=!1,it(O),O=-1),x=!0;var mt=S;try{e:{for(at($),b=i(p);b!==null&&!(b.expirationTime>$&&V());){var zt=b.callback;if(typeof zt=="function"){b.callback=null,S=b.priorityLevel;var N=zt(b.expirationTime<=$);if($=a.unstable_now(),typeof N=="function"){b.callback=N,at($),ot=!0;break e}b===i(p)&&s(p),at($)}else s(p);b=i(p)}if(b!==null)ot=!0;else{var nt=i(y);nt!==null&&ae(st,nt.startTime-$),ot=!1}}break t}finally{b=null,S=mt,x=!1}ot=void 0}}finally{ot?k():St=!1}}}var k;if(typeof X=="function")k=function(){X(L)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Me=D.port2;D.port1.onmessage=L,k=function(){Me.postMessage(null)}}else k=function(){K(L,0)};function ae($,ot){O=K(function(){$(a.unstable_now())},ot)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function($){switch(S){case 1:case 2:case 3:var ot=3;break;default:ot=S}var mt=S;S=ot;try{return $()}finally{S=mt}},a.unstable_requestPaint=function(){H=!0},a.unstable_runWithPriority=function($,ot){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var mt=S;S=$;try{return ot()}finally{S=mt}},a.unstable_scheduleCallback=function($,ot,mt){var zt=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?zt+mt:zt):mt=zt,$){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=mt+N,$={id:E++,callback:ot,priorityLevel:$,startTime:mt,expirationTime:N,sortIndex:-1},mt>zt?($.sortIndex=mt,e(y,$),i(p)===null&&$===i(y)&&(q?(it(O),O=-1):q=!0,ae(st,mt-zt))):($.sortIndex=N,e(p,$),I||x||(I=!0,St||(St=!0,k()))),$},a.unstable_shouldYield=V,a.unstable_wrapCallback=function($){var ot=S;return function(){var mt=S;S=ot;try{return $.apply(this,arguments)}finally{S=mt}}}}(Xf)),Xf}var qy;function ZT(){return qy||(qy=1,Yf.exports=$T()),Yf.exports}var $f={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function JT(){if(Hy)return Fe;Hy=1;var a=Md();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},Fe.flushSync=function(p){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=E,s.d.f()}},Fe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Fe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Fe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:x}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Fe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Fe.requestFormReset=function(p){s.d.r(p)},Fe.unstable_batchedUpdates=function(p,y){return p(y)},Fe.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.1.0",Fe}var Fy;function WT(){if(Fy)return $f.exports;Fy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),$f.exports=JT(),$f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function tA(){if(Gy)return Ql;Gy=1;var a=ZT(),e=Md(),i=WT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return m(h),t;if(f===l)return m(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===r){v=!0,r=h,l=f;break}if(T===l){v=!0,l=h,r=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===r){v=!0,r=f,l=h;break}if(T===l){v=!0,l=f,r=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),it=Symbol.for("react.consumer"),X=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case H:return"Profiler";case q:return"StrictMode";case st:return"Suspense";case St:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case X:return(t.displayName||"Context")+".Provider";case it:return(t._context.displayName||"Context")+".Consumer";case at:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var ae=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},zt=[],N=-1;function nt(t){return{current:t}}function ut(t){0>N||(t.current=zt[N],zt[N]=null,N--)}function rt(t,n){N++,zt[N]=t.current,t.current=n}var pt=nt(null),xt=nt(null),Tt=nt(null),we=nt(null);function Zt(t,n){switch(rt(Tt,n),rt(xt,t),rt(pt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?hy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=hy(n),t=fy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ut(pt),rt(pt,t)}function Pn(){ut(pt),ut(xt),ut(Tt)}function ji(t){t.memoizedState!==null&&rt(we,t);var n=pt.current,r=fy(n,t.type);n!==r&&(rt(xt,t),rt(pt,r))}function li(t){xt.current===t&&(ut(pt),ut(xt)),we.current===t&&(ut(we),jl._currentValue=mt)}var Vr=Object.prototype.hasOwnProperty,Mr=a.unstable_scheduleCallback,Or=a.unstable_cancelCallback,Ps=a.unstable_shouldYield,bo=a.unstable_requestPaint,gn=a.unstable_now,Fc=a.unstable_getCurrentPriorityLevel,ks=a.unstable_ImmediatePriority,ba=a.unstable_UserBlockingPriority,Ur=a.unstable_NormalPriority,Gc=a.unstable_LowPriority,Sa=a.unstable_IdlePriority,zs=a.log,So=a.unstable_setDisableYieldValue,se=null,Ht=null;function an(t){if(typeof zs=="function"&&So(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,t)}catch{}}var qe=Math.clz32?Math.clz32:Lr,Ro=Math.log,Qc=Math.LN2;function Lr(t){return t>>>=0,t===0?32:31-(Ro(t)/Qc|0)|0}var Pr=256,kr=4194304;function xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ra(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=xn(l):(v&=T,v!==0?h=xn(v):r||(r=T&~t,r!==0&&(h=xn(r))))):(T=l&~f,T!==0?h=xn(T):v!==0?h=xn(v):r||(r=l&~t,r!==0&&(h=xn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function zr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function js(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bs(){var t=Pr;return Pr<<=1,(Pr&4194048)===0&&(Pr=256),t}function qs(){var t=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),t}function oi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ui(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hs(t,n,r,l,h,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(r=v&~r;0<r;){var Z=31-qe(r),W=1<<Z;T[Z]=0,C[Z]=-1;var G=B[Z];if(G!==null)for(B[Z]=null,Z=0;Z<G.length;Z++){var Q=G[Z];Q!==null&&(Q.lane&=-536870913)}r&=~W}l!==0&&kn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function kn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Fs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-qe(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Bi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qi(){var t=ot.p;return t!==0?t:(t=window.event,t===void 0?32:Iy(t.type))}function wo(t,n){var r=ot.p;try{return ot.p=t,n()}finally{ot.p=r}}var te=Math.random().toString(36).slice(2),ve="__reactFiber$"+te,de="__reactProps$"+te,pn="__reactContainer$"+te,Gs="__reactEvents$"+te,Kc="__reactListeners$"+te,Hi="__reactHandles$"+te,Co="__reactResources$"+te,jr="__reactMarker$"+te;function Fi(t){delete t[ve],delete t[de],delete t[Gs],delete t[Kc],delete t[Hi]}function ci(t){var n=t[ve];if(n)return n;for(var r=t.parentNode;r;){if(n=r[pn]||r[ve]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=py(t);t!==null;){if(r=t[ve])return r;t=py(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[ve]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function jn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ye(t){var n=t[Co];return n||(n=t[Co]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[jr]=!0}var Qs=new Set,Ca={};function Dn(t,n){hi(t,n),hi(t+"Capture",n)}function hi(t,n){for(Ca[t]=n,t=0;t<n.length;t++)Qs.add(n[t])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Br={};function No(t){return Vr.call(Br,t)?!0:Vr.call(Do,t)?!1:xo.test(t)?Br[t]=!0:(Do[t]=!0,!1)}function Gi(t,n,r){if(No(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Oe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var qr,Io;function fi(t){if(qr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);qr=n&&n[1]||"",Io=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qr+t+Io}var xa=!1;function Da(t,n){if(!t||xa)return"";xa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var G=Q}Reflect.construct(t,[],W)}else{try{W.call()}catch(Q){G=Q}t.call(W.prototype)}}else{try{throw Error()}catch(Q){G=Q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var C=v.split(`
`),B=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===B.length)for(l=C.length-1,h=B.length-1;1<=l&&0<=h&&C[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==B[h]){var Z=`
`+C[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{xa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?fi(r):""}function Ks(t){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Da(t.type,!1);case 11:return Da(t.type.render,!1);case 1:return Da(t.type,!0);case 31:return fi("Activity");default:return""}}function Na(t){try{var n="";do n+=Ks(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ys(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Yc(t){var n=Ys(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ia(t){t._valueTracker||(t._valueTracker=Yc(t))}function Xs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ys(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Hr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Xc=/[\n"\\]/g;function me(t){return t.replace(Xc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,r,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Qi(t,v,Xe(n)):r!=null?Qi(t,v,Xe(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Xe(T):t.removeAttribute("name")}function Fr(t,n,r,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Qi(t,n,r){n==="number"&&Hr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function di(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function Gr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Qr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function $s(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Vo(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Vo(t,f,n[f])}function Zs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(t){return Zc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mi=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,pi=null;function Js(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[de]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[de]||null;if(!h)throw Error(s(90));sn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Xs(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&di(t,!!r.multiple,n,!1)}}}var qn=!1;function Mo(t,n,r){if(qn)return t(n,r);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(gi!==null||pi!==null)&&(wu(),gi&&(n=gi,t=pi,pi=gi=null,Js(n),t)))for(n=0;n<t.length;n++)Js(t[n])}}function Kr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[de]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Nn)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{vn=!1}var Hn=null,Ki=null,yi=null;function Ws(){if(yi)return yi;var t,n=Ki,r=n.length,l,h="value"in Hn?Hn.value:Hn.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===h[f-l];l++);return yi=h.slice(t,1<l?1-l:void 0)}function Fn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function tl(){return!1}function Ce(t){function n(r,l,h,f,v){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:tl,this.isPropagationStopped=tl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Ce(Bt),Xr=E({},Bt,{view:0,detail:0}),Oo=Ce(Xr),Oa,Ua,Qn,$r=E({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Oa=t.screenX-Qn.screenX,Ua=t.screenY-Qn.screenY):Ua=Oa=0,Qn=t),Oa)},movementY:function(t){return"movementY"in t?t.movementY:Ua}}),En=Ce($r),Uo=E({},$r,{dataTransfer:0}),Jc=Ce(Uo),Zr=E({},Xr,{relatedTarget:0}),La=Ce(Zr),el=E({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Pa=Ce(el),Lo=E({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ka=Ce(Lo),Wc=E({},Bt,{data:0}),nl=Ce(Wc),Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ko={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ko[t])?!!n[t]:!1}function Wr(){return il}var zo=E({},Xr,{key:function(t){if(t.key){var n=Jr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Fn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Po[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(t){return t.type==="keypress"?Fn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),za=Ce(zo),jo=E({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rl=Ce(jo),_i=E({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),Bo=Ce(_i),qo=E({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ho=Ce(qo),Fo=E({},$r,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=Ce(Fo),$e=E({},Bt,{newState:0,oldState:0}),Go=Ce($e),Qo=[9,13,27,32],Kn=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var g=Nn&&"TextEvent"in window&&!u,_=Nn&&(!Kn||u&&8<u&&11>=u),A=" ",z=!1;function Y(t,n){switch(t){case"keyup":return Qo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function Ee(t,n){switch(t){case"compositionend":return lt(n);case"keypress":return n.which!==32?null:(z=!0,A);case"textInput":return t=n.data,t===A&&z?null:t;default:return null}}function Ot(t,n){if(Mt)return t==="compositionend"||!Kn&&Y(t,n)?(t=Ws(),yi=Ki=Hn=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!xe[t.type]:n==="textarea"}function vi(t,n,r,l){gi?pi?pi.push(l):pi=[l]:gi=l,n=Vu(n,"onChange"),0<n.length&&(r=new Ma("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Yn=null;function al(t){sy(t,0)}function Ko(t){var n=jn(t);if(Xs(n))return t}function Cm(t,n){if(t==="change")return n}var xm=!1;if(Nn){var th;if(Nn){var eh="oninput"in document;if(!eh){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),eh=typeof Dm.oninput=="function"}th=eh}else th=!1;xm=th&&(!document.documentMode||9<document.documentMode)}function Nm(){Ue&&(Ue.detachEvent("onpropertychange",Im),Yn=Ue=null)}function Im(t){if(t.propertyName==="value"&&Ko(Yn)){var n=[];vi(n,Yn,t,_n(t)),Mo(al,n)}}function TE(t,n,r){t==="focusin"?(Nm(),Ue=n,Yn=r,Ue.attachEvent("onpropertychange",Im)):t==="focusout"&&Nm()}function AE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ko(Yn)}function bE(t,n){if(t==="click")return Ko(n)}function SE(t,n){if(t==="input"||t==="change")return Ko(n)}function RE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:RE;function sl(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Vr.call(n,h)||!ln(t[h],n[h]))return!1}return!0}function Vm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mm(t,n){var r=Vm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Vm(r)}}function Om(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Om(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Um(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Hr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Hr(t.document)}return n}function nh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var wE=Nn&&"documentMode"in document&&11>=document.documentMode,Ba=null,ih=null,ll=null,rh=!1;function Lm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;rh||Ba==null||Ba!==Hr(l)||(l=Ba,"selectionStart"in l&&nh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&sl(ll,l)||(ll=l,l=Vu(ih,"onSelect"),0<l.length&&(n=new Ma("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ba)))}function ta(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var qa={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},ah={},Pm={};Nn&&(Pm=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function ea(t){if(ah[t])return ah[t];if(!qa[t])return t;var n=qa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Pm)return ah[t]=n[r];return t}var km=ea("animationend"),zm=ea("animationiteration"),jm=ea("animationstart"),CE=ea("transitionrun"),xE=ea("transitionstart"),DE=ea("transitioncancel"),Bm=ea("transitionend"),qm=new Map,sh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sh.push("scrollEnd");function In(t,n){qm.set(t,n),Dn(n,[t])}var Hm=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=Hm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Na(n)},Hm.set(t,n),n)}return{value:t,source:n,stack:Na(n)}}var An=[],Ha=0,lh=0;function Yo(){for(var t=Ha,n=lh=Ha=0;n<t;){var r=An[n];An[n++]=null;var l=An[n];An[n++]=null;var h=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Fm(r,h,f)}}function Xo(t,n,r,l){An[Ha++]=t,An[Ha++]=n,An[Ha++]=r,An[Ha++]=l,lh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function oh(t,n,r,l){return Xo(t,n,r,l),$o(t)}function Fa(t,n){return Xo(t,null,null,n),$o(t)}function Fm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-qe(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function $o(t){if(50<Vl)throw Vl=0,gf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ga={};function NE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,r,l){return new NE(t,n,r,l)}function uh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ei(t,n){var r=t.alternate;return r===null?(r=on(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Gm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Zo(t,n,r,l,h,f){var v=0;if(l=t,typeof t=="function")uh(t)&&(v=1);else if(typeof t=="string")v=VT(t,r,pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=on(31,r,n,h),t.elementType=w,t.lanes=f,t;case I:return na(r.children,h,f,n);case q:v=8,h|=24;break;case H:return t=on(12,r,n,h|2),t.elementType=H,t.lanes=f,t;case st:return t=on(13,r,n,h),t.elementType=st,t.lanes=f,t;case St:return t=on(19,r,n,h),t.elementType=St,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case X:v=10;break t;case it:v=9;break t;case at:v=11;break t;case O:v=14;break t;case R:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=on(v,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function na(t,n,r,l){return t=on(7,t,l,n),t.lanes=r,t}function ch(t,n,r){return t=on(6,t,null,n),t.lanes=r,t}function hh(t,n,r){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Qa=[],Ka=0,Jo=null,Wo=0,bn=[],Sn=0,ia=null,Ti=1,Ai="";function ra(t,n){Qa[Ka++]=Wo,Qa[Ka++]=Jo,Jo=t,Wo=n}function Qm(t,n,r){bn[Sn++]=Ti,bn[Sn++]=Ai,bn[Sn++]=ia,ia=t;var l=Ti;t=Ai;var h=32-qe(l)-1;l&=~(1<<h),r+=1;var f=32-qe(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ti=1<<32-qe(n)+h|r<<h|l,Ai=f+t}else Ti=1<<f|r<<h|l,Ai=t}function fh(t){t.return!==null&&(ra(t,1),Qm(t,1,0))}function dh(t){for(;t===Jo;)Jo=Qa[--Ka],Qa[Ka]=null,Wo=Qa[--Ka],Qa[Ka]=null;for(;t===ia;)ia=bn[--Sn],bn[Sn]=null,Ai=bn[--Sn],bn[Sn]=null,Ti=bn[--Sn],bn[Sn]=null}var Ze=null,le=null,jt=!1,aa=null,Xn=!1,mh=Error(s(519));function sa(t){var n=Error(s(418,""));throw cl(Tn(n,t)),mh}function Km(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ve]=t,n[de]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<Ol.length;r++)It(Ol[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Fr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ia(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Gr(n,l.value,l.defaultValue,l.children),Ia(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||cy(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Mu),n=!0):n=!1,n||sa(t)}function Ym(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Ze=Ze.return}}function ol(t){if(t!==Ze)return!1;if(!jt)return Ym(t),jt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||If(t.type,t.memoizedProps)),r=!r),r&&le&&sa(t),Ym(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){le=Mn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,ur(t.type)?(t=Uf,Uf=null,le=t):le=n):le=Ze?Mn(t.stateNode.nextSibling):null;return!0}function ul(){le=Ze=null,jt=!1}function Xm(){var t=aa;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),aa=null),t}function cl(t){aa===null?aa=[t]:aa.push(t)}var gh=nt(null),la=null,bi=null;function Yi(t,n,r){rt(gh,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=gh.current,ut(gh)}function ph(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function yh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),ph(f.return,r,t),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),ph(v,r,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function hl(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;ln(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===we.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}h=h.return}t!==null&&yh(n,t,r,l),n.flags|=262144}function tu(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function oa(t){la=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return $m(la,t)}function eu(t,n){return la===null&&oa(t),$m(t,n)}function $m(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},bi===null){if(t===null)throw Error(s(308));bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else bi=bi.next=n;return r}var IE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},VE=a.unstable_scheduleCallback,ME=a.unstable_NormalPriority,Ae={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _h(){return{controller:new IE,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&VE(ME,function(){t.controller.abort()})}var dl=null,vh=0,Ya=0,Xa=null;function OE(t,n){if(dl===null){var r=dl=[];vh=0,Ya=Af(),Xa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return vh++,n.then(Zm,Zm),n}function Zm(){if(--vh===0&&dl!==null){Xa!==null&&(Xa.status="fulfilled");var t=dl;dl=null,Ya=0,Xa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function UE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Jm=$.S;$.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&OE(t,n),Jm!==null&&Jm(t,n)};var ua=nt(null);function Eh(){var t=ua.current;return t!==null?t:Jt.pooledCache}function nu(t,n){n===null?rt(ua,ua.current):rt(ua,n.pool)}function Wm(){var t=Eh();return t===null?null:{parent:Ae._currentValue,pool:t}}var ml=Error(s(460)),tg=Error(s(474)),iu=Error(s(542)),Th={then:function(){}};function eg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ru(){}function ng(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ru,ru),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rg(t),t;default:if(typeof n.status=="string")n.then(ru,ru);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rg(t),t}throw gl=n,ml}}var gl=null;function ig(){if(gl===null)throw Error(s(459));var t=gl;return gl=null,t}function rg(t){if(t===ml||t===iu)throw Error(s(483))}var Xi=!1;function Ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $i(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=$o(t),Fm(t,null,r),n}return Xo(t,l,n,r),$o(t)}function pl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Fs(t,r)}}function Sh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Rh=!1;function yl(){if(Rh){var t=Xa;if(t!==null)throw t}}function _l(t,n,r,l){Rh=!1;var h=t.updateQueue;Xi=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,B=C.next;C.next=null,v===null?f=B:v.next=B,v=C;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==v&&(T===null?Z.firstBaseUpdate=B:T.next=B,Z.lastBaseUpdate=C))}if(f!==null){var W=h.baseState;v=0,Z=B=C=null,T=f;do{var G=T.lane&-536870913,Q=G!==T.lane;if(Q?(Ut&G)===G:(l&G)===G){G!==0&&G===Ya&&(Rh=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var vt=t,yt=T;G=n;var Xt=r;switch(yt.tag){case 1:if(vt=yt.payload,typeof vt=="function"){W=vt.call(Xt,W,G);break t}W=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=yt.payload,G=typeof vt=="function"?vt.call(Xt,W,G):vt,G==null)break t;W=E({},W,G);break t;case 2:Xi=!0}}G=T.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(B=Z=Q,C=W):Z=Z.next=Q,v|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Z===null&&(C=W),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=Z,f===null&&(h.shared.lanes=0),ar|=v,t.lanes=v,t.memoizedState=W}}function ag(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function sg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ag(r[t],n)}var $a=nt(null),au=nt(0);function lg(t,n){t=Ii,rt(au,t),rt($a,n),Ii=t|n.baseLanes}function wh(){rt(au,Ii),rt($a,$a.current)}function Ch(){Ii=au.current,ut($a),ut(au)}var Ji=0,wt=null,Kt=null,ge=null,su=!1,Za=!1,ca=!1,lu=0,vl=0,Ja=null,LE=0;function ce(){throw Error(s(321))}function xh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function Dh(t,n,r,l,h,f){return Ji=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=t===null||t.memoizedState===null?Fg:Gg,ca=!1,f=r(l,h),ca=!1,Za&&(f=ug(n,r,l,h)),og(t),f}function og(t){$.H=du;var n=Kt!==null&&Kt.next!==null;if(Ji=0,ge=Kt=wt=null,su=!1,vl=0,Ja=null,n)throw Error(s(300));t===null||De||(t=t.dependencies,t!==null&&tu(t)&&(De=!0))}function ug(t,n,r,l){wt=t;var h=0;do{if(Za&&(Ja=null),vl=0,Za=!1,25<=h)throw Error(s(301));if(h+=1,ge=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=HE,f=n(r,l)}while(Za);return f}function PE(){var t=$.H,n=t.useState()[0];return n=typeof n.then=="function"?El(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(wt.flags|=1024),n}function Nh(){var t=lu!==0;return lu=0,t}function Ih(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Vh(t){if(su){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}su=!1}Ji=0,ge=Kt=wt=null,Za=!1,vl=lu=0,Ja=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?wt.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Kt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=ge===null?wt.memoizedState:ge.next;if(n!==null)ge=n,Kt=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ge===null?wt.memoizedState=ge=t:ge=ge.next=t}return ge}function Mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var n=vl;return vl+=1,Ja===null&&(Ja=[]),t=ng(Ja,t,n),n=wt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?Fg:Gg),t}function ou(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===X)return He(t)}throw Error(s(438,String(t)))}function Oh(t){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Mh(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function Ri(t,n){return typeof n=="function"?n(t):n}function uu(t){var n=pe();return Uh(n,Kt,t)}function Uh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=v=null,C=null,B=n,Z=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Ut&W)===W:(Ji&W)===W){var G=B.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===Ya&&(Z=!0);else if((Ji&G)===G){B=B.next,G===Ya&&(Z=!0);continue}else W={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=W,v=f):C=C.next=W,wt.lanes|=G,ar|=G;W=B.action,ca&&r(f,W),f=B.hasEagerState?B.eagerState:r(f,W)}else G={lane:W,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=G,v=f):C=C.next=G,wt.lanes|=W,ar|=W;B=B.next}while(B!==null&&B!==n);if(C===null?v=f:C.next=T,!ln(f,t.memoizedState)&&(De=!0,Z&&(r=Xa,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Lh(t){var n=pe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);ln(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function cg(t,n,r){var l=wt,h=pe(),f=jt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!ln((Kt||h).memoizedState,r);v&&(h.memoizedState=r,De=!0),h=h.queue;var T=dg.bind(null,l,h,t);if(Tl(2048,8,T,[t]),h.getSnapshot!==n||v||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Wa(9,cu(),fg.bind(null,l,h,r,n),null),Jt===null)throw Error(s(349));f||(Ji&124)!==0||hg(l,n,r)}return r}function hg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=Mh(),wt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function fg(t,n,r,l){n.value=r,n.getSnapshot=l,mg(n)&&gg(t)}function dg(t,n,r){return r(function(){mg(n)&&gg(t)})}function mg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function gg(t){var n=Fa(t,2);n!==null&&dn(n,t,2)}function Ph(t){var n=Je();if(typeof t=="function"){var r=t;if(t=r(),ca){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},n}function pg(t,n,r,l){return t.baseState=r,Uh(t,Kt,typeof l=="function"?l:Ri)}function kE(t,n,r,l,h){if(fu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};$.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,yg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function yg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=$.T,v={};$.T=v;try{var T=r(h,l),C=$.S;C!==null&&C(v,T),_g(t,n,T)}catch(B){kh(t,n,B)}finally{$.T=f}}else try{f=r(h,l),_g(t,n,f)}catch(B){kh(t,n,B)}}function _g(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){vg(t,n,l)},function(l){return kh(t,n,l)}):vg(t,n,r)}function vg(t,n,r){n.status="fulfilled",n.value=r,Eg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,yg(t,r)))}function kh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Eg(n),n=n.next;while(n!==l)}t.action=null}function Eg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Tg(t,n){return n}function Ag(t,n){if(jt){var r=Jt.formState;if(r!==null){t:{var l=wt;if(jt){if(le){e:{for(var h=le,f=Xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){le=Mn(h.nextSibling),l=h.data==="F!";break t}}sa(l)}l=!1}l&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tg,lastRenderedState:n},r.queue=l,r=Bg.bind(null,wt,l),l.dispatch=r,l=Ph(!1),f=Hh.bind(null,wt,!1,l.queue),l=Je(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=kE.bind(null,wt,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function bg(t){var n=pe();return Sg(n,Kt,t)}function Sg(t,n,r){if(n=Uh(t,n,Tg)[0],t=uu(Ri)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=El(n)}catch(v){throw v===ml?iu:v}else l=n;n=pe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,Wa(9,cu(),zE.bind(null,h,r),null)),[l,f,t]}function zE(t,n){t.action=n}function Rg(t){var n=pe(),r=Kt;if(r!==null)return Sg(n,r,t);pe(),n=n.memoizedState,r=pe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Wa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Mh(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function cu(){return{destroy:void 0,resource:void 0}}function wg(){return pe().memoizedState}function hu(t,n,r,l){var h=Je();l=l===void 0?null:l,wt.flags|=t,h.memoizedState=Wa(1|n,cu(),r,l)}function Tl(t,n,r,l){var h=pe();l=l===void 0?null:l;var f=h.memoizedState.inst;Kt!==null&&l!==null&&xh(l,Kt.memoizedState.deps)?h.memoizedState=Wa(n,f,r,l):(wt.flags|=t,h.memoizedState=Wa(1|n,f,r,l))}function Cg(t,n){hu(8390656,8,t,n)}function xg(t,n){Tl(2048,8,t,n)}function Dg(t,n){return Tl(4,2,t,n)}function Ng(t,n){return Tl(4,4,t,n)}function Ig(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Vg(t,n,r){r=r!=null?r.concat([t]):null,Tl(4,4,Ig.bind(null,n,t),r)}function zh(){}function Mg(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&xh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Og(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&xh(n,l[1]))return l[0];if(l=t(),ca){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l}function jh(t,n,r){return r===void 0||(Ji&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Pp(),wt.lanes|=t,ar|=t,r)}function Ug(t,n,r,l){return ln(r,n)?r:$a.current!==null?(t=jh(t,r,l),ln(t,n)||(De=!0),t):(Ji&42)===0?(De=!0,t.memoizedState=r):(t=Pp(),wt.lanes|=t,ar|=t,n)}function Lg(t,n,r,l,h){var f=ot.p;ot.p=f!==0&&8>f?f:8;var v=$.T,T={};$.T=T,Hh(t,!1,n,r);try{var C=h(),B=$.S;if(B!==null&&B(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=UE(C,l);Al(t,n,Z,fn(t))}else Al(t,n,l,fn(t))}catch(W){Al(t,n,{then:function(){},status:"rejected",reason:W},fn())}finally{ot.p=f,$.T=v}}function jE(){}function Bh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var h=Pg(t).queue;Lg(t,h,n,mt,r===null?jE:function(){return kg(t),r(l)})}function Pg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:mt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function kg(t){var n=Pg(t).next.queue;Al(t,n,{},fn())}function qh(){return He(jl)}function zg(){return pe().memoizedState}function jg(){return pe().memoizedState}function BE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=$i(r);var l=Zi(n,t,r);l!==null&&(dn(l,n,r),pl(l,n,r)),n={cache:_h()},t.payload=n;return}n=n.return}}function qE(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},fu(t)?qg(n,r):(r=oh(t,n,r,l),r!==null&&(dn(r,t,l),Hg(r,n,l)))}function Bg(t,n,r){var l=fn();Al(t,n,r,l)}function Al(t,n,r,l){var h={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(fu(t))qg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,r);if(h.hasEagerState=!0,h.eagerState=T,ln(T,v))return Xo(t,n,h,0),Jt===null&&Yo(),!1}catch{}finally{}if(r=oh(t,n,h,l),r!==null)return dn(r,t,l),Hg(r,n,l),!0}return!1}function Hh(t,n,r,l){if(l={lane:2,revertLane:Af(),action:l,hasEagerState:!1,eagerState:null,next:null},fu(t)){if(n)throw Error(s(479))}else n=oh(t,r,l,2),n!==null&&dn(n,t,2)}function fu(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function qg(t,n){Za=su=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Hg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Fs(t,r)}}var du={readContext:He,use:ou,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},Fg={readContext:He,use:ou,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Cg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,hu(4194308,4,Ig.bind(null,n,t),r)},useLayoutEffect:function(t,n){return hu(4194308,4,t,n)},useInsertionEffect:function(t,n){hu(4,2,t,n)},useMemo:function(t,n){var r=Je();n=n===void 0?null:n;var l=t();if(ca){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Je();if(r!==void 0){var h=r(n);if(ca){an(!0);try{r(n)}finally{an(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=qE.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=Ph(t);var n=t.queue,r=Bg.bind(null,wt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:zh,useDeferredValue:function(t,n){var r=Je();return jh(r,t,n)},useTransition:function(){var t=Ph(!1);return t=Lg.bind(null,wt,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=wt,h=Je();if(jt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(Ut&124)!==0||hg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Cg(dg.bind(null,l,f,t),[t]),l.flags|=2048,Wa(9,cu(),fg.bind(null,l,f,r,n),null),r},useId:function(){var t=Je(),n=Jt.identifierPrefix;if(jt){var r=Ai,l=Ti;r=(l&~(1<<32-qe(l)-1)).toString(32)+r,n=""+n+"R"+r,r=lu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=LE++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:qh,useFormState:Ag,useActionState:Ag,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Hh.bind(null,wt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Oh,useCacheRefresh:function(){return Je().memoizedState=BE.bind(null,wt)}},Gg={readContext:He,use:ou,useCallback:Mg,useContext:He,useEffect:xg,useImperativeHandle:Vg,useInsertionEffect:Dg,useLayoutEffect:Ng,useMemo:Og,useReducer:uu,useRef:wg,useState:function(){return uu(Ri)},useDebugValue:zh,useDeferredValue:function(t,n){var r=pe();return Ug(r,Kt.memoizedState,t,n)},useTransition:function(){var t=uu(Ri)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:cg,useId:zg,useHostTransitionStatus:qh,useFormState:bg,useActionState:bg,useOptimistic:function(t,n){var r=pe();return pg(r,Kt,t,n)},useMemoCache:Oh,useCacheRefresh:jg},HE={readContext:He,use:ou,useCallback:Mg,useContext:He,useEffect:xg,useImperativeHandle:Vg,useInsertionEffect:Dg,useLayoutEffect:Ng,useMemo:Og,useReducer:Lh,useRef:wg,useState:function(){return Lh(Ri)},useDebugValue:zh,useDeferredValue:function(t,n){var r=pe();return Kt===null?jh(r,t,n):Ug(r,Kt.memoizedState,t,n)},useTransition:function(){var t=Lh(Ri)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:cg,useId:zg,useHostTransitionStatus:qh,useFormState:Rg,useActionState:Rg,useOptimistic:function(t,n){var r=pe();return Kt!==null?pg(r,Kt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Oh,useCacheRefresh:jg},ts=null,bl=0;function mu(t){var n=bl;return bl+=1,ts===null&&(ts=[]),ng(ts,t,n)}function Sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function gu(t,n){throw n.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Qg(t){var n=t._init;return n(t._payload)}function Kg(t){function n(P,M){if(t){var j=P.deletions;j===null?(P.deletions=[M],P.flags|=16):j.push(M)}}function r(P,M){if(!t)return null;for(;M!==null;)n(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=Ei(P,M),P.index=0,P.sibling=null,P}function f(P,M,j){return P.index=j,t?(j=P.alternate,j!==null?(j=j.index,j<M?(P.flags|=67108866,M):j):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,M,j,J){return M===null||M.tag!==6?(M=ch(j,P.mode,J),M.return=P,M):(M=h(M,j),M.return=P,M)}function C(P,M,j,J){var ht=j.type;return ht===I?Z(P,M,j.props.children,J,j.key):M!==null&&(M.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&Qg(ht)===M.type)?(M=h(M,j.props),Sl(M,j),M.return=P,M):(M=Zo(j.type,j.key,j.props,null,P.mode,J),Sl(M,j),M.return=P,M)}function B(P,M,j,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=hh(j,P.mode,J),M.return=P,M):(M=h(M,j.children||[]),M.return=P,M)}function Z(P,M,j,J,ht){return M===null||M.tag!==7?(M=na(j,P.mode,J,ht),M.return=P,M):(M=h(M,j),M.return=P,M)}function W(P,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ch(""+M,P.mode,j),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return j=Zo(M.type,M.key,M.props,null,P.mode,j),Sl(j,M),j.return=P,j;case x:return M=hh(M,P.mode,j),M.return=P,M;case R:var J=M._init;return M=J(M._payload),W(P,M,j)}if(ae(M)||k(M))return M=na(M,P.mode,j,null),M.return=P,M;if(typeof M.then=="function")return W(P,mu(M),j);if(M.$$typeof===X)return W(P,eu(P,M),j);gu(P,M)}return null}function G(P,M,j,J){var ht=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ht!==null?null:T(P,M,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===ht?C(P,M,j,J):null;case x:return j.key===ht?B(P,M,j,J):null;case R:return ht=j._init,j=ht(j._payload),G(P,M,j,J)}if(ae(j)||k(j))return ht!==null?null:Z(P,M,j,J,null);if(typeof j.then=="function")return G(P,M,mu(j),J);if(j.$$typeof===X)return G(P,M,eu(P,j),J);gu(P,j)}return null}function Q(P,M,j,J,ht){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(j)||null,T(M,P,""+J,ht);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return P=P.get(J.key===null?j:J.key)||null,C(M,P,J,ht);case x:return P=P.get(J.key===null?j:J.key)||null,B(M,P,J,ht);case R:var Dt=J._init;return J=Dt(J._payload),Q(P,M,j,J,ht)}if(ae(J)||k(J))return P=P.get(j)||null,Z(M,P,J,ht,null);if(typeof J.then=="function")return Q(P,M,j,mu(J),ht);if(J.$$typeof===X)return Q(P,M,j,eu(M,J),ht);gu(M,J)}return null}function vt(P,M,j,J){for(var ht=null,Dt=null,dt=M,_t=M=0,Ie=null;dt!==null&&_t<j.length;_t++){dt.index>_t?(Ie=dt,dt=null):Ie=dt.sibling;var kt=G(P,dt,j[_t],J);if(kt===null){dt===null&&(dt=Ie);break}t&&dt&&kt.alternate===null&&n(P,dt),M=f(kt,M,_t),Dt===null?ht=kt:Dt.sibling=kt,Dt=kt,dt=Ie}if(_t===j.length)return r(P,dt),jt&&ra(P,_t),ht;if(dt===null){for(;_t<j.length;_t++)dt=W(P,j[_t],J),dt!==null&&(M=f(dt,M,_t),Dt===null?ht=dt:Dt.sibling=dt,Dt=dt);return jt&&ra(P,_t),ht}for(dt=l(dt);_t<j.length;_t++)Ie=Q(dt,P,_t,j[_t],J),Ie!==null&&(t&&Ie.alternate!==null&&dt.delete(Ie.key===null?_t:Ie.key),M=f(Ie,M,_t),Dt===null?ht=Ie:Dt.sibling=Ie,Dt=Ie);return t&&dt.forEach(function(mr){return n(P,mr)}),jt&&ra(P,_t),ht}function yt(P,M,j,J){if(j==null)throw Error(s(151));for(var ht=null,Dt=null,dt=M,_t=M=0,Ie=null,kt=j.next();dt!==null&&!kt.done;_t++,kt=j.next()){dt.index>_t?(Ie=dt,dt=null):Ie=dt.sibling;var mr=G(P,dt,kt.value,J);if(mr===null){dt===null&&(dt=Ie);break}t&&dt&&mr.alternate===null&&n(P,dt),M=f(mr,M,_t),Dt===null?ht=mr:Dt.sibling=mr,Dt=mr,dt=Ie}if(kt.done)return r(P,dt),jt&&ra(P,_t),ht;if(dt===null){for(;!kt.done;_t++,kt=j.next())kt=W(P,kt.value,J),kt!==null&&(M=f(kt,M,_t),Dt===null?ht=kt:Dt.sibling=kt,Dt=kt);return jt&&ra(P,_t),ht}for(dt=l(dt);!kt.done;_t++,kt=j.next())kt=Q(dt,P,_t,kt.value,J),kt!==null&&(t&&kt.alternate!==null&&dt.delete(kt.key===null?_t:kt.key),M=f(kt,M,_t),Dt===null?ht=kt:Dt.sibling=kt,Dt=kt);return t&&dt.forEach(function(FT){return n(P,FT)}),jt&&ra(P,_t),ht}function Xt(P,M,j,J){if(typeof j=="object"&&j!==null&&j.type===I&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:t:{for(var ht=j.key;M!==null;){if(M.key===ht){if(ht=j.type,ht===I){if(M.tag===7){r(P,M.sibling),J=h(M,j.props.children),J.return=P,P=J;break t}}else if(M.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&Qg(ht)===M.type){r(P,M.sibling),J=h(M,j.props),Sl(J,j),J.return=P,P=J;break t}r(P,M);break}else n(P,M);M=M.sibling}j.type===I?(J=na(j.props.children,P.mode,J,j.key),J.return=P,P=J):(J=Zo(j.type,j.key,j.props,null,P.mode,J),Sl(J,j),J.return=P,P=J)}return v(P);case x:t:{for(ht=j.key;M!==null;){if(M.key===ht)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){r(P,M.sibling),J=h(M,j.children||[]),J.return=P,P=J;break t}else{r(P,M);break}else n(P,M);M=M.sibling}J=hh(j,P.mode,J),J.return=P,P=J}return v(P);case R:return ht=j._init,j=ht(j._payload),Xt(P,M,j,J)}if(ae(j))return vt(P,M,j,J);if(k(j)){if(ht=k(j),typeof ht!="function")throw Error(s(150));return j=ht.call(j),yt(P,M,j,J)}if(typeof j.then=="function")return Xt(P,M,mu(j),J);if(j.$$typeof===X)return Xt(P,M,eu(P,j),J);gu(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(r(P,M.sibling),J=h(M,j),J.return=P,P=J):(r(P,M),J=ch(j,P.mode,J),J.return=P,P=J),v(P)):r(P,M)}return function(P,M,j,J){try{bl=0;var ht=Xt(P,M,j,J);return ts=null,ht}catch(dt){if(dt===ml||dt===iu)throw dt;var Dt=on(29,dt,null,P.mode);return Dt.lanes=J,Dt.return=P,Dt}finally{}}}var es=Kg(!0),Yg=Kg(!1),Rn=nt(null),$n=null;function Wi(t){var n=t.alternate;rt(be,be.current&1),rt(Rn,t),$n===null&&(n===null||$a.current!==null||n.memoizedState!==null)&&($n=t)}function Xg(t){if(t.tag===22){if(rt(be,be.current),rt(Rn,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else tr()}function tr(){rt(be,be.current),rt(Rn,Rn.current)}function wi(t){ut(Rn),$n===t&&($n=null),ut(be)}var be=nt(0);function pu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Of(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Fh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:E({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Gh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),h=$i(l);h.payload=n,r!=null&&(h.callback=r),n=Zi(t,h,l),n!==null&&(dn(n,t,l),pl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),h=$i(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Zi(t,h,l),n!==null&&(dn(n,t,l),pl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=$i(r);l.tag=2,n!=null&&(l.callback=n),n=Zi(t,l,r),n!==null&&(dn(n,t,r),pl(n,t,r))}};function $g(t,n,r,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!sl(r,l)||!sl(h,f):!0}function Zg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Gh.enqueueReplaceState(n,n.state,null)}function ha(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=E({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}var yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Jg(t){yu(t)}function Wg(t){console.error(t)}function tp(t){yu(t)}function _u(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ep(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Qh(t,n,r){return r=$i(r),r.tag=3,r.payload={element:null},r.callback=function(){_u(t,n)},r}function np(t){return t=$i(t),t.tag=3,t}function ip(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){ep(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ep(n,r,l),typeof h!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function FE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&hl(n,r,h,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return $n===null?yf():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Th?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),vf(t,l,h)),!1;case 22:return r.flags|=65536,l===Th?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),vf(t,l,h)),!1}throw Error(s(435,r.tag))}return vf(t,l,h),yf(),!1}if(jt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==mh&&(t=Error(s(422),{cause:l}),cl(Tn(t,r)))):(l!==mh&&(n=Error(s(423),{cause:l}),cl(Tn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Tn(l,r),h=Qh(t.stateNode,l,h),Sh(t,h),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,r),Il===null?Il=[f]:Il.push(f),oe!==4&&(oe=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Qh(r.stateNode,l,t),Sh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(sr===null||!sr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=np(h),ip(h,t,r,l),Sh(r,h),!1}r=r.return}while(r!==null);return!1}var rp=Error(s(461)),De=!1;function Le(t,n,r,l){n.child=t===null?Yg(n,null,r,l):es(n,t.child,r,l)}function ap(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return oa(n),l=Dh(t,n,r,v,f,h),T=Nh(),t!==null&&!De?(Ih(t,n,h),Ci(t,n,h)):(jt&&T&&fh(n),n.flags|=1,Le(t,n,l,h),n.child)}function sp(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!uh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,lp(t,n,f,l,h)):(t=Zo(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!tf(t,h)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:sl,r(v,l)&&t.ref===n.ref)return Ci(t,n,h)}return n.flags|=1,t=Ei(f,l),t.ref=n.ref,t.return=n,n.child=t}function lp(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(sl(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,tf(t,h))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ci(t,n,h)}return Kh(t,n,r,l,h)}function op(t,n,r){var l=n.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return up(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&nu(n,f!==null?f.cachePool:null),f!==null?lg(n,f):wh(),Xg(n);else return n.lanes=n.childLanes=536870912,up(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(nu(n,f.cachePool),lg(n,f),tr(),n.memoizedState=null):(t!==null&&nu(n,null),wh(),tr());return Le(t,n,h,r),n.child}function up(t,n,r,l){var h=Eh();return h=h===null?null:{parent:Ae._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},t!==null&&nu(n,null),wh(),Xg(n),t!==null&&hl(t,n,l,!0),null}function vu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Kh(t,n,r,l,h){return oa(n),r=Dh(t,n,r,l,void 0,h),l=Nh(),t!==null&&!De?(Ih(t,n,h),Ci(t,n,h)):(jt&&l&&fh(n),n.flags|=1,Le(t,n,r,h),n.child)}function cp(t,n,r,l,h,f){return oa(n),n.updateQueue=null,r=ug(n,l,r,h),og(t),l=Nh(),t!==null&&!De?(Ih(t,n,f),Ci(t,n,f)):(jt&&l&&fh(n),n.flags|=1,Le(t,n,r,f),n.child)}function hp(t,n,r,l,h){if(oa(n),n.stateNode===null){var f=Ga,v=r.contextType;typeof v=="object"&&v!==null&&(f=He(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Ah(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?He(v):Ga,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Fh(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Gh.enqueueReplaceState(f,f.state,null),_l(n,l,f,h),yl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=ha(r,T);f.props=C;var B=f.context,Z=r.contextType;v=Ga,typeof Z=="object"&&Z!==null&&(v=He(Z));var W=r.getDerivedStateFromProps;Z=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||B!==v)&&Zg(n,f,l,v),Xi=!1;var G=n.memoizedState;f.state=G,_l(n,l,f,h),yl(),B=n.memoizedState,T||G!==B||Xi?(typeof W=="function"&&(Fh(n,r,W,l),B=n.memoizedState),(C=Xi||$g(n,r,C,l,G,B,v))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=v,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,bh(t,n),v=n.memoizedProps,Z=ha(r,v),f.props=Z,W=n.pendingProps,G=f.context,B=r.contextType,C=Ga,typeof B=="object"&&B!==null&&(C=He(B)),T=r.getDerivedStateFromProps,(B=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==W||G!==C)&&Zg(n,f,l,C),Xi=!1,G=n.memoizedState,f.state=G,_l(n,l,f,h),yl();var Q=n.memoizedState;v!==W||G!==Q||Xi||t!==null&&t.dependencies!==null&&tu(t.dependencies)?(typeof T=="function"&&(Fh(n,r,T,l),Q=n.memoizedState),(Z=Xi||$g(n,r,Z,l,G,Q,C)||t!==null&&t.dependencies!==null&&tu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),f.props=l,f.state=Q,f.context=C,l=Z):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,vu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=es(n,t.child,null,h),n.child=es(n,null,r,h)):Le(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Ci(t,n,h),t}function fp(t,n,r,l){return ul(),n.flags|=256,Le(t,n,r,l),n.child}var Yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xh(t){return{baseLanes:t,cachePool:Wm()}}function $h(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function dp(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(jt){if(h?Wi(n):tr(),jt){var T=le,C;if(C=T){t:{for(C=T,T=Xn;C.nodeType!==8;){if(!T){T=null;break t}if(C=Mn(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(n.memoizedState={dehydrated:T,treeContext:ia!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},C=on(18,null,null,0),C.stateNode=T,C.return=n,n.child=C,Ze=n,le=null,C=!0):C=!1}C||sa(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Of(T)?n.lanes=32:n.lanes=536870912,null;wi(n)}return T=l.children,l=l.fallback,h?(tr(),h=n.mode,T=Eu({mode:"hidden",children:T},h),l=na(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=Xh(r),h.childLanes=$h(t,v,r),n.memoizedState=Yh,l):(Wi(n),Zh(n,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Wi(n),n.flags&=-257,n=Jh(t,n,r)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),h=l.fallback,T=n.mode,l=Eu({mode:"visible",children:l.children},T),h=na(h,T,r,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,es(n,t.child,null,r),l=n.child,l.memoizedState=Xh(r),l.childLanes=$h(t,v,r),n.memoizedState=Yh,n=h);else if(Wi(n),Of(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,cl({value:l,source:null,stack:null}),n=Jh(t,n,r)}else if(De||hl(t,n,r,!1),v=(r&t.childLanes)!==0,De||v){if(v=Jt,v!==null&&(l=r&-r,l=(l&42)!==0?1:Bi(l),l=(l&(v.suspendedLanes|r))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Fa(t,l),dn(v,t,l),rp;T.data==="$?"||yf(),n=Jh(t,n,r)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,le=Mn(T.nextSibling),Ze=n,jt=!0,aa=null,Xn=!1,t!==null&&(bn[Sn++]=Ti,bn[Sn++]=Ai,bn[Sn++]=ia,Ti=t.id,Ai=t.overflow,ia=n),n=Zh(n,l.children),n.flags|=4096);return n}return h?(tr(),h=l.fallback,T=n.mode,C=t.child,B=C.sibling,l=Ei(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?h=Ei(B,h):(h=na(h,T,r,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=Xh(r):(C=T.cachePool,C!==null?(B=Ae._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=Wm(),T={baseLanes:T.baseLanes|r,cachePool:C}),h.memoizedState=T,h.childLanes=$h(t,v,r),n.memoizedState=Yh,l):(Wi(n),r=t.child,t=r.sibling,r=Ei(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function Zh(t,n){return n=Eu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Eu(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Jh(t,n,r){return es(n,t.child,null,r),t=Zh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function mp(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ph(t.return,n,r)}function Wh(t,n,r,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=h)}function gp(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mp(t,r,n);else if(t.tag===19)mp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(rt(be,l),h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&pu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Wh(n,!1,h,r,f);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&pu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Wh(n,!0,r,null,f);break;case"together":Wh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ci(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ar|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(hl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Ei(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ei(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function tf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&tu(t)))}function GE(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Yi(n,Ae,t.memoizedState.cache),ul();break;case 27:case 5:ji(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Yi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?dp(t,n,r):(Wi(n),t=Ci(t,n,r),t!==null?t.sibling:null);Wi(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(hl(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return gp(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,op(t,n,r);case 24:Yi(n,Ae,t.memoizedState.cache)}return Ci(t,n,r)}function pp(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!tf(t,r)&&(n.flags&128)===0)return De=!1,GE(t,n,r);De=(t.flags&131072)!==0}else De=!1,jt&&(n.flags&1048576)!==0&&Qm(n,Wo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")uh(l)?(t=ha(l,t),n.tag=1,n=hp(null,n,l,t,r)):(n.tag=0,n=Kh(null,n,l,t,r));else{if(l!=null){if(h=l.$$typeof,h===at){n.tag=11,n=ap(null,n,l,t,r);break t}else if(h===O){n.tag=14,n=sp(null,n,l,t,r);break t}}throw n=Me(l)||l,Error(s(306,n,""))}}return n;case 0:return Kh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=ha(l,n.pendingProps),hp(t,n,l,h,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,bh(t,n),_l(n,l,null,r);var v=n.memoizedState;if(l=v.cache,Yi(n,Ae,l),l!==f.cache&&yh(n,[Ae],r,!0),yl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=fp(t,n,l,r);break t}else if(l!==h){h=Tn(Error(s(424)),n),cl(h),n=fp(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=Mn(t.firstChild),Ze=n,jt=!0,aa=null,Xn=!0,r=Yg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ul(),l===h){n=Ci(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return vu(t,n),t===null?(r=Ey(n.type,null,n.pendingProps,null))?n.memoizedState=r:jt||(r=n.type,t=n.pendingProps,l=Ou(Tt.current).createElement(r),l[ve]=n,l[de]=t,ke(l,r,t),ue(l),n.stateNode=l):n.memoizedState=Ey(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ji(n),t===null&&jt&&(l=n.stateNode=yy(n.type,n.pendingProps,Tt.current),Ze=n,Xn=!0,h=le,ur(n.type)?(Uf=h,le=Mn(l.firstChild)):le=h),Le(t,n,n.pendingProps.children,r),vu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&jt&&((h=l=le)&&(l=vT(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,Ze=n,le=Mn(l.firstChild),Xn=!1,h=!0):h=!1),h||sa(n)),ji(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,If(h,f)?l=null:v!==null&&If(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Dh(t,n,PE,null,null,r),jl._currentValue=h),vu(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&jt&&((t=r=le)&&(r=ET(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,Ze=n,le=null,t=!0):t=!1),t||sa(n)),null;case 13:return dp(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=es(n,null,l,r):Le(t,n,l,r),n.child;case 11:return ap(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Yi(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,oa(n),h=He(h),l=l(h),n.flags|=1,Le(t,n,l,r),n.child;case 14:return sp(t,n,n.type,n.pendingProps,r);case 15:return lp(t,n,n.type,n.pendingProps,r);case 19:return gp(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Eu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ei(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return op(t,n,r);case 24:return oa(n),l=He(Ae),t===null?(h=Eh(),h===null&&(h=Jt,f=_h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},Ah(n),Yi(n,Ae,h)):((t.lanes&r)!==0&&(bh(t,n),_l(n,null,null,r),yl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Yi(n,Ae,l)):(l=f.cache,Yi(n,Ae,l),l!==h.cache&&yh(n,[Ae],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function xi(t){t.flags|=4}function yp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ry(n)){if(n=Rn.current,n!==null&&((Ut&4194048)===Ut?$n!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==$n))throw gl=Th,tg;t.flags|=8192}}function Tu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?qs():536870912,t.lanes|=n,as|=n)}function Rl(t,n){if(!jt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function QE(t,n,r){var l=n.pendingProps;switch(dh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Ae),Pn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ol(n)?xi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xm())),ie(n),null;case 26:return r=n.memoizedState,t===null?(xi(n),r!==null?(ie(n),yp(n,r)):(ie(n),n.flags&=-16777217)):r?r!==t.memoizedState?(xi(n),ie(n),yp(n,r)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&xi(n),ie(n),n.flags&=-16777217),null;case 27:li(n),r=Tt.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=pt.current,ol(n)?Km(n):(t=yy(h,l,r),n.stateNode=t,xi(n))}return ie(n),null;case 5:if(li(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(t=pt.current,ol(n))Km(n);else{switch(h=Ou(Tt.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(r,{is:l.is}):h.createElement(r)}}t[ve]=n,t[de]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(ke(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&xi(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Tt.current,ol(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ve]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||cy(t.nodeValue,r)),t||sa(n)}else t=Ou(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ol(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=n}else ul(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Xm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wi(n),n):(wi(n),null)}if(wi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Tu(n,n.updateQueue),ie(n),null;case 4:return Pn(),t===null&&wf(n.stateNode.containerInfo),ie(n),null;case 10:return Si(n.type),ie(n),null;case 19:if(ut(be),h=n.memoizedState,h===null)return ie(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Rl(h,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=pu(t),f!==null){for(n.flags|=128,Rl(h,!1),t=f.updateQueue,n.updateQueue=t,Tu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Gm(r,t),r=r.sibling;return rt(be,be.current&1|2),n.child}t=t.sibling}h.tail!==null&&gn()>Su&&(n.flags|=128,l=!0,Rl(h,!1),n.lanes=4194304)}else{if(!l)if(t=pu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Tu(n,t),Rl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!jt)return ie(n),null}else 2*gn()-h.renderingStartTime>Su&&r!==536870912&&(n.flags|=128,l=!0,Rl(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=gn(),n.sibling=null,t=be.current,rt(be,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return wi(n),Ch(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&Tu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ut(ua),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Ae),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function KE(t,n){switch(dh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Ae),Pn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return li(n),null;case 13:if(wi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ul()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ut(be),null;case 4:return Pn(),null;case 10:return Si(n.type),null;case 22:case 23:return wi(n),Ch(),t!==null&&ut(ua),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Ae),null;case 25:return null;default:return null}}function _p(t,n){switch(dh(n),n.tag){case 3:Si(Ae),Pn();break;case 26:case 27:case 5:li(n);break;case 4:Pn();break;case 13:wi(n);break;case 19:ut(be);break;case 10:Si(n.type);break;case 22:case 23:wi(n),Ch(),t!==null&&ut(ua);break;case 24:Si(Ae)}}function wl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==h)}}catch(T){$t(n,n.return,T)}}function er(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var C=r,B=T;try{B()}catch(Z){$t(h,C,Z)}}}l=l.next}while(l!==f)}}catch(Z){$t(n,n.return,Z)}}function vp(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{sg(n,r)}catch(l){$t(t,t.return,l)}}}function Ep(t,n,r){r.props=ha(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){$t(t,n,l)}}function Cl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){$t(t,n,h)}}function Zn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){$t(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$t(t,n,h)}else r.current=null}function Tp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){$t(t,t.return,h)}}function ef(t,n,r){try{var l=t.stateNode;mT(l,t.type,r,n),l[de]=n}catch(h){$t(t,t.return,h)}}function Ap(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ur(t.type)||t.tag===4}function nf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ap(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Mu));else if(l!==4&&(l===27&&ur(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(rf(t,n,r),t=t.sibling;t!==null;)rf(t,n,r),t=t.sibling}function Au(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ur(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Au(t,n,r),t=t.sibling;t!==null;)Au(t,n,r),t=t.sibling}function bp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ke(n,l,r),n[ve]=t,n[de]=r}catch(f){$t(t,t.return,f)}}var Di=!1,he=!1,af=!1,Sp=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function YE(t,n){if(t=t.containerInfo,Df=ju,t=Um(t),nh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,T=-1,C=-1,B=0,Z=0,W=t,G=null;e:for(;;){for(var Q;W!==r||h!==0&&W.nodeType!==3||(T=v+h),W!==f||l!==0&&W.nodeType!==3||(C=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(Q=W.firstChild)!==null;)G=W,W=Q;for(;;){if(W===t)break e;if(G===r&&++B===h&&(T=v),G===f&&++Z===l&&(C=v),(Q=W.nextSibling)!==null)break;W=G,G=W.parentNode}W=Q}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Nf={focusedElem:t,selectionRange:r},ju=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var vt=ha(r.type,h,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(vt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){$t(r,r.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Mf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Mf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}}function Rp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:nr(t,r),l&4&&wl(5,r);break;case 1:if(nr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){$t(r,r.return,v)}else{var h=ha(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(r,r.return,v)}}l&64&&vp(r),l&512&&Cl(r,r.return);break;case 3:if(nr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{sg(t,n)}catch(v){$t(r,r.return,v)}}break;case 27:n===null&&l&4&&bp(r);case 26:case 5:nr(t,r),n===null&&l&4&&Tp(r),l&512&&Cl(r,r.return);break;case 12:nr(t,r);break;case 13:nr(t,r),l&4&&xp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=iT.bind(null,r),TT(t,r))));break;case 22:if(l=r.memoizedState!==null||Di,!l){n=n!==null&&n.memoizedState!==null||he,h=Di;var f=he;Di=l,(he=n)&&!f?ir(t,r,(r.subtreeFlags&8772)!==0):nr(t,r),Di=h,he=f}break;case 30:break;default:nr(t,r)}}function wp(t){var n=t.alternate;n!==null&&(t.alternate=null,wp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Fi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,We=!1;function Ni(t,n,r){for(r=r.child;r!==null;)Cp(t,n,r),r=r.sibling}function Cp(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:he||Zn(r,n),Ni(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:he||Zn(r,n);var l=ee,h=We;ur(r.type)&&(ee=r.stateNode,We=!1),Ni(t,n,r),Ll(r.stateNode),ee=l,We=h;break;case 5:he||Zn(r,n);case 6:if(l=ee,h=We,ee=null,Ni(t,n,r),ee=l,We=h,ee!==null)if(We)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{ee.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:ee!==null&&(We?(t=ee,gy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Fl(t)):gy(ee,r.stateNode));break;case 4:l=ee,h=We,ee=r.stateNode.containerInfo,We=!0,Ni(t,n,r),ee=l,We=h;break;case 0:case 11:case 14:case 15:he||er(2,r,n),he||er(4,r,n),Ni(t,n,r);break;case 1:he||(Zn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Ep(r,n,l)),Ni(t,n,r);break;case 21:Ni(t,n,r);break;case 22:he=(l=he)||r.memoizedState!==null,Ni(t,n,r),he=l;break;default:Ni(t,n,r)}}function xp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fl(t)}catch(r){$t(n,n.return,r)}}function XE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Sp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Sp),n;default:throw Error(s(435,t.tag))}}function sf(t,n){var r=XE(t);n.forEach(function(l){var h=rT.bind(null,t,l);r.has(l)||(r.add(l),l.then(h,h))})}function un(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(ur(T.type)){ee=T.stateNode,We=!1;break t}break;case 5:ee=T.stateNode,We=!1;break t;case 3:case 4:ee=T.stateNode.containerInfo,We=!0;break t}T=T.return}if(ee===null)throw Error(s(160));Cp(f,v,h),ee=null,We=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Dp(n,t),n=n.sibling}var Vn=null;function Dp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(er(3,t,t.return),wl(3,t),er(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(he||r===null||Zn(r,r.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Vn;if(un(n,t),cn(t),l&512&&(he||r===null||Zn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[jr]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),ke(f,l,r),f[ve]=t,ue(f),l=f;break t;case"link":var v=by("link","href",h).get(l+(r.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),ke(f,l,r),h.head.appendChild(f);break;case"meta":if(v=by("meta","content",h).get(l+(r.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(T,1);break e}}f=h.createElement(l),ke(f,l,r),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[ve]=t,ue(f),l=f}t.stateNode=l}else Sy(h,t.type,t.stateNode);else t.stateNode=Ay(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Sy(h,t.type,t.stateNode):Ay(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ef(t,t.memoizedProps,r.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(he||r===null||Zn(r,r.return)),r!==null&&l&4&&ef(t,t.memoizedProps,r.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(he||r===null||Zn(r,r.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(Q){$t(t,t.return,Q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ef(t,h,r!==null?r.memoizedProps:h)),l&1024&&(af=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(Q){$t(t,t.return,Q)}}break;case 3:if(Pu=null,h=Vn,Vn=Uu(n.containerInfo),un(n,t),Vn=h,cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Fl(n.containerInfo)}catch(Q){$t(t,t.return,Q)}af&&(af=!1,Np(t));break;case 4:l=Vn,Vn=Uu(t.stateNode.containerInfo),un(n,t),cn(t),Vn=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ff=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sf(t,l)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,B=Di,Z=he;if(Di=B||h,he=Z||C,un(n,t),he=Z,Di=B,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||Di||he||fa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var W=C.memoizedProps.style,G=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Q){$t(C,C.return,Q)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(Q){$t(C,C.return,Q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,sf(t,r))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sf(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ap(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=nf(t);Au(t,f,h);break;case 5:var v=r.stateNode;r.flags&32&&(yn(v,""),r.flags&=-33);var T=nf(t);Au(t,T,v);break;case 3:case 4:var C=r.stateNode.containerInfo,B=nf(t);rf(t,B,C);break;default:throw Error(s(161))}}catch(Z){$t(t,t.return,Z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Np(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Np(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function nr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rp(t,n.alternate,n),n=n.sibling}function fa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:er(4,n,n.return),fa(n);break;case 1:Zn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ep(n,n.return,r),fa(n);break;case 27:Ll(n.stateNode);case 26:case 5:Zn(n,n.return),fa(n);break;case 22:n.memoizedState===null&&fa(n);break;case 30:fa(n);break;default:fa(n)}t=t.sibling}}function ir(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:ir(h,f,r),wl(4,f);break;case 1:if(ir(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){$t(l,l.return,B)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ag(C[h],T)}catch(B){$t(l,l.return,B)}}r&&v&64&&vp(f),Cl(f,f.return);break;case 27:bp(f);case 26:case 5:ir(h,f,r),r&&l===null&&v&4&&Tp(f),Cl(f,f.return);break;case 12:ir(h,f,r);break;case 13:ir(h,f,r),r&&v&4&&xp(h,f);break;case 22:f.memoizedState===null&&ir(h,f,r),Cl(f,f.return);break;case 30:break;default:ir(h,f,r)}n=n.sibling}}function lf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&fl(r))}function of(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ip(t,n,r,l),n=n.sibling}function Ip(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),h&2048&&wl(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t)));break;case 12:if(h&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){$t(n,n.return,C)}}else Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):xl(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,ns(t,n,r,l,(n.subtreeFlags&10256)!==0)),h&2048&&lf(v,n);break;case 24:Jn(t,n,r,l),h&2048&&of(n.alternate,n);break;default:Jn(t,n,r,l)}}function ns(t,n,r,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,T=r,C=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:ns(f,v,T,C,h),wl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?ns(f,v,T,C,h):xl(f,v):(Z._visibility|=2,ns(f,v,T,C,h)),h&&B&2048&&lf(v.alternate,v);break;case 24:ns(f,v,T,C,h),h&&B&2048&&of(v.alternate,v);break;default:ns(f,v,T,C,h)}n=n.sibling}}function xl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:xl(r,l),h&2048&&lf(l.alternate,l);break;case 24:xl(r,l),h&2048&&of(l.alternate,l);break;default:xl(r,l)}n=n.sibling}}var Dl=8192;function is(t){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)Vp(t),t=t.sibling}function Vp(t){switch(t.tag){case 26:is(t),t.flags&Dl&&t.memoizedState!==null&&OT(Vn,t.memoizedState,t.memoizedProps);break;case 5:is(t);break;case 3:case 4:var n=Vn;Vn=Uu(t.stateNode.containerInfo),is(t),Vn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Dl,Dl=16777216,is(t),Dl=n):is(t));break;default:is(t)}}function Mp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Nl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,Up(l,t)}Mp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Op(t),t=t.sibling}function Op(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&er(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,bu(t)):Nl(t);break;default:Nl(t)}}function bu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,Up(l,t)}Mp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:er(8,n,n.return),bu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,bu(n));break;default:bu(n)}t=t.sibling}}function Up(t,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:er(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ne=l;else t:for(r=t;Ne!==null;){l=Ne;var h=l.sibling,f=l.return;if(wp(l),l===r){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}var $E={getCacheForType:function(t){var n=He(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},ZE=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Jt=null,Nt=null,Ut=0,Gt=0,hn=null,rr=!1,rs=!1,uf=!1,Ii=0,oe=0,ar=0,da=0,cf=0,wn=0,as=0,Il=null,tn=null,hf=!1,ff=0,Su=1/0,Ru=null,sr=null,Pe=0,lr=null,ss=null,ls=0,df=0,mf=null,Lp=null,Vl=0,gf=null;function fn(){if((Ft&2)!==0&&Ut!==0)return Ut&-Ut;if($.T!==null){var t=Ya;return t!==0?t:Af()}return qi()}function Pp(){wn===0&&(wn=(Ut&536870912)===0||jt?Bs():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),wn}function dn(t,n,r){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(os(t,0),or(t,Ut,wn,!1)),ui(t,r),((Ft&2)===0||t!==Jt)&&(t===Jt&&((Ft&2)===0&&(da|=r),oe===4&&or(t,Ut,wn,!1)),Wn(t))}function kp(t,n,r){if((Ft&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||zr(t,n),h=l?tT(t,n):_f(t,n,!0),f=l;do{if(h===0){rs&&!l&&or(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!JE(r)){h=_f(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=Il;var C=T.current.memoizedState.isDehydrated;if(C&&(os(T,v).flags|=256),v=_f(T,v,!1),v!==2){if(uf&&!C){T.errorRecoveryDisabledLanes|=f,da|=f,h=4;break t}f=tn,tn=h,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){os(t,0),or(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:or(l,n,wn,!rr);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=ff+300-gn(),10<h)){if(or(l,n,wn,!rr),Ra(l,0,!0)!==0)break t;l.timeoutHandle=dy(zp.bind(null,l,r,tn,Ru,hf,n,wn,da,as,rr,f,2,-0,0),h);break t}zp(l,r,tn,Ru,hf,n,wn,da,as,rr,f,0,-0,0)}}break}while(!0);Wn(t)}function zp(t,n,r,l,h,f,v,T,C,B,Z,W,G,Q){if(t.timeoutHandle=-1,W=n.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:MT},Vp(n),W=UT(),W!==null)){t.cancelPendingCommit=W(Qp.bind(null,t,n,f,r,l,h,v,T,C,Z,1,G,Q)),or(t,f,v,!B);return}Qp(t,n,f,r,l,h,v,T,C)}function JE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!ln(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function or(t,n,r,l){n&=~cf,n&=~da,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-qe(h),v=1<<f;l[f]=-1,h&=~v}r!==0&&kn(t,r,n)}function wu(){return(Ft&6)===0?(Ml(0),!1):!0}function pf(){if(Nt!==null){if(Gt===0)var t=Nt.return;else t=Nt,bi=la=null,Vh(t),ts=null,bl=0,t=Nt;for(;t!==null;)_p(t.alternate,t),t=t.return;Nt=null}}function os(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,pT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),pf(),Jt=t,Nt=r=Ei(t.current,null),Ut=n,Gt=0,hn=null,rr=!1,rs=zr(t,n),uf=!1,as=wn=cf=da=ar=oe=0,tn=Il=null,hf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-qe(l),f=1<<h;n|=t[h],l&=~f}return Ii=n,Yo(),r}function jp(t,n){wt=null,$.H=du,n===ml||n===iu?(n=ig(),Gt=3):n===tg?(n=ig(),Gt=4):Gt=n===rp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Nt===null&&(oe=1,_u(t,Tn(n,t.current)))}function Bp(){var t=$.H;return $.H=du,t===null?du:t}function qp(){var t=$.A;return $.A=$E,t}function yf(){oe=4,rr||(Ut&4194048)!==Ut&&Rn.current!==null||(rs=!0),(ar&134217727)===0&&(da&134217727)===0||Jt===null||or(Jt,Ut,wn,!1)}function _f(t,n,r){var l=Ft;Ft|=2;var h=Bp(),f=qp();(Jt!==t||Ut!==n)&&(Ru=null,os(t,n)),n=!1;var v=oe;t:do try{if(Gt!==0&&Nt!==null){var T=Nt,C=hn;switch(Gt){case 8:pf(),v=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var B=Gt;if(Gt=0,hn=null,us(t,T,C,B),r&&rs){v=0;break t}break;default:B=Gt,Gt=0,hn=null,us(t,T,C,B)}}WE(),v=oe;break}catch(Z){jp(t,Z)}while(!0);return n&&t.shellSuspendCounter++,bi=la=null,Ft=l,$.H=h,$.A=f,Nt===null&&(Jt=null,Ut=0,Yo()),v}function WE(){for(;Nt!==null;)Hp(Nt)}function tT(t,n){var r=Ft;Ft|=2;var l=Bp(),h=qp();Jt!==t||Ut!==n?(Ru=null,Su=gn()+500,os(t,n)):rs=zr(t,n);t:do try{if(Gt!==0&&Nt!==null){n=Nt;var f=hn;e:switch(Gt){case 1:Gt=0,hn=null,us(t,n,f,1);break;case 2:case 9:if(eg(f)){Gt=0,hn=null,Fp(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),Wn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:eg(f)?(Gt=0,hn=null,Fp(n)):(Gt=0,hn=null,us(t,n,f,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||Ry(v)){Gt=0,hn=null;var C=T.sibling;if(C!==null)Nt=C;else{var B=T.return;B!==null?(Nt=B,Cu(B)):Nt=null}break e}}Gt=0,hn=null,us(t,n,f,5);break;case 6:Gt=0,hn=null,us(t,n,f,6);break;case 8:pf(),oe=6;break t;default:throw Error(s(462))}}eT();break}catch(Z){jp(t,Z)}while(!0);return bi=la=null,$.H=l,$.A=h,Ft=r,Nt!==null?0:(Jt=null,Ut=0,Yo(),oe)}function eT(){for(;Nt!==null&&!Ps();)Hp(Nt)}function Hp(t){var n=pp(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,n===null?Cu(t):Nt=n}function Fp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=cp(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=cp(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Vh(n);default:_p(r,n),n=Nt=Gm(n,Ii),n=pp(r,n,Ii)}t.memoizedProps=t.pendingProps,n===null?Cu(t):Nt=n}function us(t,n,r,l){bi=la=null,Vh(n),ts=null,bl=0;var h=n.return;try{if(FE(t,h,n,r,Ut)){oe=1,_u(t,Tn(r,t.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;oe=1,_u(t,Tn(r,t.current)),Nt=null;return}n.flags&32768?(jt||l===1?t=!0:rs||(Ut&536870912)!==0?t=!1:(rr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gp(n,t)):Cu(n)}function Cu(t){var n=t;do{if((n.flags&32768)!==0){Gp(n,rr);return}t=n.return;var r=QE(n.alternate,n,Ii);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);oe===0&&(oe=5)}function Gp(t,n){do{var r=KE(t.alternate,t);if(r!==null){r.flags&=32767,Nt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=r}while(t!==null);oe=6,Nt=null}function Qp(t,n,r,l,h,f,v,T,C){t.cancelPendingCommit=null;do xu();while(Pe!==0);if((Ft&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=lh,Hs(t,r,f,v,T,C),t===Jt&&(Nt=Jt=null,Ut=0),ss=n,lr=t,ls=r,df=f,mf=h,Lp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,aT(Ur,function(){return Zp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=ot.p,ot.p=2,v=Ft,Ft|=4;try{YE(t,n,r)}finally{Ft=v,ot.p=h,$.T=l}}Pe=1,Kp(),Yp(),Xp()}}function Kp(){if(Pe===1){Pe=0;var t=lr,n=ss,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=$.T,$.T=null;var l=ot.p;ot.p=2;var h=Ft;Ft|=4;try{Dp(n,t);var f=Nf,v=Um(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Om(T.ownerDocument.documentElement,T)){if(C!==null&&nh(T)){var B=C.start,Z=C.end;if(Z===void 0&&(Z=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Z,T.value.length);else{var W=T.ownerDocument||document,G=W&&W.defaultView||window;if(G.getSelection){var Q=G.getSelection(),vt=T.textContent.length,yt=Math.min(C.start,vt),Xt=C.end===void 0?yt:Math.min(C.end,vt);!Q.extend&&yt>Xt&&(v=Xt,Xt=yt,yt=v);var P=Mm(T,yt),M=Mm(T,Xt);if(P&&M&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var j=W.createRange();j.setStart(P.node,P.offset),Q.removeAllRanges(),yt>Xt?(Q.addRange(j),Q.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),Q.addRange(j))}}}}for(W=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var J=W[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ju=!!Df,Nf=Df=null}finally{Ft=h,ot.p=l,$.T=r}}t.current=n,Pe=2}}function Yp(){if(Pe===2){Pe=0;var t=lr,n=ss,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=$.T,$.T=null;var l=ot.p;ot.p=2;var h=Ft;Ft|=4;try{Rp(t,n.alternate,n)}finally{Ft=h,ot.p=l,$.T=r}}Pe=3}}function Xp(){if(Pe===4||Pe===3){Pe=0,bo();var t=lr,n=ss,r=ls,l=Lp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,ss=lr=null,$p(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(sr=null),wa(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=$.T,h=ot.p,ot.p=2,$.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{$.T=n,ot.p=h}}(ls&3)!==0&&xu(),Wn(t),h=t.pendingLanes,(r&4194090)!==0&&(h&42)!==0?t===gf?Vl++:(Vl=0,gf=t):Vl=0,Ml(0)}}function $p(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,fl(n)))}function xu(t){return Kp(),Yp(),Xp(),Zp()}function Zp(){if(Pe!==5)return!1;var t=lr,n=df;df=0;var r=wa(ls),l=$.T,h=ot.p;try{ot.p=32>r?32:r,$.T=null,r=mf,mf=null;var f=lr,v=ls;if(Pe=0,ss=lr=null,ls=0,(Ft&6)!==0)throw Error(s(331));var T=Ft;if(Ft|=4,Op(f.current),Ip(f,f.current,v,r),Ft=T,Ml(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{ot.p=h,$.T=l,$p(t,n)}}function Jp(t,n,r){n=Tn(r,n),n=Qh(t.stateNode,n,2),t=Zi(t,n,2),t!==null&&(ui(t,2),Wn(t))}function $t(t,n,r){if(t.tag===3)Jp(t,t,r);else for(;n!==null;){if(n.tag===3){Jp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(sr===null||!sr.has(l))){t=Tn(r,t),r=np(2),l=Zi(n,r,2),l!==null&&(ip(r,l,n,t),ui(l,2),Wn(l));break}}n=n.return}}function vf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new ZE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(uf=!0,h.add(r),t=nT.bind(null,t,n,r),n.then(t,t))}function nT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(Ut&r)===r&&(oe===4||oe===3&&(Ut&62914560)===Ut&&300>gn()-ff?(Ft&2)===0&&os(t,0):cf|=r,as===Ut&&(as=0)),Wn(t)}function Wp(t,n){n===0&&(n=qs()),t=Fa(t,n),t!==null&&(ui(t,n),Wn(t))}function iT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Wp(t,r)}function rT(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Wp(t,r)}function aT(t,n){return Mr(t,n)}var Du=null,cs=null,Ef=!1,Nu=!1,Tf=!1,ma=0;function Wn(t){t!==cs&&t.next===null&&(cs===null?Du=cs=t:cs=cs.next=t),Nu=!0,Ef||(Ef=!0,lT())}function Ml(t,n){if(!Tf&&Nu){Tf=!0;do for(var r=!1,l=Du;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-qe(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,iy(l,f))}else f=Ut,f=Ra(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zr(l,f)||(r=!0,iy(l,f));l=l.next}while(r);Tf=!1}}function sT(){ty()}function ty(){Nu=Ef=!1;var t=0;ma!==0&&(gT()&&(t=ma),ma=0);for(var n=gn(),r=null,l=Du;l!==null;){var h=l.next,f=ey(l,n);f===0?(l.next=null,r===null?Du=h:r.next=h,h===null&&(cs=r)):(r=l,(t!==0||(f&3)!==0)&&(Nu=!0)),l=h}Ml(t)}function ey(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-qe(f),T=1<<v,C=h[v];C===-1?((T&r)===0||(T&l)!==0)&&(h[v]=js(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=Jt,r=Ut,r=Ra(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Or(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||zr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Or(l),wa(r)){case 2:case 8:r=ba;break;case 32:r=Ur;break;case 268435456:r=Sa;break;default:r=Ur}return l=ny.bind(null,t),r=Mr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Or(l),t.callbackPriority=2,t.callbackNode=null,2}function ny(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(xu()&&t.callbackNode!==r)return null;var l=Ut;return l=Ra(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(kp(t,l,n),ey(t,gn()),t.callbackNode!=null&&t.callbackNode===r?ny.bind(null,t):null)}function iy(t,n){if(xu())return null;kp(t,n,!0)}function lT(){yT(function(){(Ft&6)!==0?Mr(ks,sT):ty()})}function Af(){return ma===0&&(ma=Bs()),ma}function ry(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Va(""+t)}function ay(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function oT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=ry((h[de]||null).action),v=l.submitter;v&&(n=(n=v[de]||null)?ry(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new Ma("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ma!==0){var C=v?ay(h,v):new FormData(h);Bh(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=v?ay(h,v):new FormData(h),Bh(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var bf=0;bf<sh.length;bf++){var Sf=sh[bf],uT=Sf.toLowerCase(),cT=Sf[0].toUpperCase()+Sf.slice(1);In(uT,"on"+cT)}In(km,"onAnimationEnd"),In(zm,"onAnimationIteration"),In(jm,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(CE,"onTransitionRun"),In(xE,"onTransitionStart"),In(DE,"onTransitionCancel"),In(Bm,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function sy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,B=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=B;try{f(h)}catch(Z){yu(Z)}h.currentTarget=null,f=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,B=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=B;try{f(h)}catch(Z){yu(Z)}h.currentTarget=null,f=C}}}}function It(t,n){var r=n[Gs];r===void 0&&(r=n[Gs]=new Set);var l=t+"__bubble";r.has(l)||(ly(n,t,2,!1),r.add(l))}function Rf(t,n,r){var l=0;n&&(l|=4),ly(r,t,l,n)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function wf(t){if(!t[Iu]){t[Iu]=!0,Qs.forEach(function(r){r!=="selectionchange"&&(hT.has(r)||Rf(r,!1,t),Rf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Iu]||(n[Iu]=!0,Rf("selectionchange",!1,n))}}function ly(t,n,r,l){switch(Iy(n)){case 2:var h=kT;break;case 8:h=zT;break;default:h=jf}r=h.bind(null,n,r,t),h=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Cf(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=ci(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=f=v;continue t}T=T.parentNode}}l=l.return}Mo(function(){var B=f,Z=_n(r),W=[];t:{var G=qm.get(t);if(G!==void 0){var Q=Ma,vt=t;switch(t){case"keypress":if(Fn(r)===0)break t;case"keydown":case"keyup":Q=za;break;case"focusin":vt="focus",Q=La;break;case"focusout":vt="blur",Q=La;break;case"beforeblur":case"afterblur":Q=La;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Bo;break;case km:case zm:case jm:Q=Pa;break;case Bm:Q=Ho;break;case"scroll":case"scrollend":Q=Oo;break;case"wheel":Q=ja;break;case"copy":case"cut":case"paste":Q=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=rl;break;case"toggle":case"beforetoggle":Q=Go}var yt=(n&4)!==0,Xt=!yt&&(t==="scroll"||t==="scrollend"),P=yt?G!==null?G+"Capture":null:G;yt=[];for(var M=B,j;M!==null;){var J=M;if(j=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||j===null||P===null||(J=Kr(M,P),J!=null&&yt.push(Ul(M,J,j))),Xt)break;M=M.return}0<yt.length&&(G=new Q(G,vt,null,r,Z),W.push({event:G,listeners:yt}))}}if((n&7)===0){t:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&r!==mi&&(vt=r.relatedTarget||r.fromElement)&&(ci(vt)||vt[pn]))break t;if((Q||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(vt=r.relatedTarget||r.toElement,Q=B,vt=vt?ci(vt):null,vt!==null&&(Xt=c(vt),yt=vt.tag,vt!==Xt||yt!==5&&yt!==27&&yt!==6)&&(vt=null)):(Q=null,vt=B),Q!==vt)){if(yt=En,J="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(yt=rl,J="onPointerLeave",P="onPointerEnter",M="pointer"),Xt=Q==null?G:jn(Q),j=vt==null?G:jn(vt),G=new yt(J,M+"leave",Q,r,Z),G.target=Xt,G.relatedTarget=j,J=null,ci(Z)===B&&(yt=new yt(P,M+"enter",vt,r,Z),yt.target=j,yt.relatedTarget=Xt,J=yt),Xt=J,Q&&vt)e:{for(yt=Q,P=vt,M=0,j=yt;j;j=hs(j))M++;for(j=0,J=P;J;J=hs(J))j++;for(;0<M-j;)yt=hs(yt),M--;for(;0<j-M;)P=hs(P),j--;for(;M--;){if(yt===P||P!==null&&yt===P.alternate)break e;yt=hs(yt),P=hs(P)}yt=null}else yt=null;Q!==null&&oy(W,G,Q,yt,!1),vt!==null&&Xt!==null&&oy(W,Xt,vt,yt,!0)}}t:{if(G=B?jn(B):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var ht=Cm;else if(Te(G))if(xm)ht=SE;else{ht=AE;var Dt=TE}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?B&&Zs(B.elementType)&&(ht=Cm):ht=bE;if(ht&&(ht=ht(t,B))){vi(W,ht,r,Z);break t}Dt&&Dt(t,G,B),t==="focusout"&&B&&G.type==="number"&&B.memoizedProps.value!=null&&Qi(G,"number",G.value)}switch(Dt=B?jn(B):window,t){case"focusin":(Te(Dt)||Dt.contentEditable==="true")&&(Ba=Dt,ih=B,ll=null);break;case"focusout":ll=ih=Ba=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,Lm(W,r,Z);break;case"selectionchange":if(wE)break;case"keydown":case"keyup":Lm(W,r,Z)}var dt;if(Kn)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Mt?Y(t,r)&&(_t="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_t="onCompositionStart");_t&&(_&&r.locale!=="ko"&&(Mt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Mt&&(dt=Ws()):(Hn=Z,Ki="value"in Hn?Hn.value:Hn.textContent,Mt=!0)),Dt=Vu(B,_t),0<Dt.length&&(_t=new nl(_t,t,null,r,Z),W.push({event:_t,listeners:Dt}),dt?_t.data=dt:(dt=lt(r),dt!==null&&(_t.data=dt)))),(dt=g?Ee(t,r):Ot(t,r))&&(_t=Vu(B,"onBeforeInput"),0<_t.length&&(Dt=new nl("onBeforeInput","beforeinput",null,r,Z),W.push({event:Dt,listeners:_t}),Dt.data=dt)),oT(W,t,B,r,Z)}sy(W,n)})}function Ul(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Vu(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kr(t,r),h!=null&&l.unshift(Ul(t,h,f)),h=Kr(t,n),h!=null&&l.push(Ul(t,h,f))),t.tag===3)return l;t=t.return}return[]}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function oy(t,n,r,l,h){for(var f=n._reactName,v=[];r!==null&&r!==l;){var T=r,C=T.alternate,B=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||B===null||(C=B,h?(B=Kr(r,f),B!=null&&v.unshift(Ul(r,B,C))):h||(B=Kr(r,f),B!=null&&v.push(Ul(r,B,C)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var fT=/\r\n?/g,dT=/\u0000|\uFFFD/g;function uy(t){return(typeof t=="string"?t:""+t).replace(fT,`
`).replace(dT,"")}function cy(t,n){return n=uy(n),uy(t)===n}function Mu(){}function Yt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,r,l);break;case"style":$s(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Va(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",h.name,h,null),Yt(t,n,"formEncType",h.formEncType,h,null),Yt(t,n,"formMethod",h.formMethod,h,null),Yt(t,n,"formTarget",h.formTarget,h,null)):(Yt(t,n,"encType",h.encType,h,null),Yt(t,n,"method",h.method,h,null),Yt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Va(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Mu);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Gi(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Gi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=$c.get(r)||r,Gi(t,r,l))}}function xf(t,n,r,l,h,f){switch(r){case"style":$s(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[de]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Gi(t,r,l)}}}function ke(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,v,r,null)}}h&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var T=f=v=h=null,C=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var Z=r[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":v=Z;break;case"checked":C=Z;break;case"defaultChecked":B=Z;break;case"value":f=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:Yt(t,n,l,Z,r,null)}}Fr(t,f,T,C,B,v,h,!1),Ia(t);return;case"select":It("invalid",t),l=v=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Yt(t,n,h,T,r,null)}n=f,r=v,t.multiple=!!l,n!=null?di(t,!!l,n,!1):r!=null&&di(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=h=l=null;for(v in r)if(r.hasOwnProperty(v)&&(T=r[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(t,n,v,T,r,null)}Gr(t,l,h,f),Ia(t);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,C,l,r,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)It(Ol[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,B,l,r,null)}return;default:if(Zs(n)){for(Z in r)r.hasOwnProperty(Z)&&(l=r[Z],l!==void 0&&xf(t,n,Z,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Yt(t,n,T,l,r,null))}function mT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,C=null,B=null,Z=null;for(Q in r){var W=r[Q];if(r.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=W;default:l.hasOwnProperty(Q)||Yt(t,n,Q,null,l,W)}}for(var G in l){var Q=l[G];if(W=r[G],l.hasOwnProperty(G)&&(Q!=null||W!=null))switch(G){case"type":f=Q;break;case"name":h=Q;break;case"checked":B=Q;break;case"defaultChecked":Z=Q;break;case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Q!==W&&Yt(t,n,G,Q,l,W)}}sn(t,v,T,C,B,Z,f,h);return;case"select":Q=v=T=G=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":Q=C;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=r[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":G=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==C&&Yt(t,n,h,f,l,C)}n=T,r=v,l=Q,G!=null?di(t,!!r,G,!1):!!l!=!!r&&(n!=null?di(t,!!r,n,!0):di(t,!!r,r?[]:"",!1));return;case"textarea":Q=G=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(t,n,T,null,l,h)}for(v in l)if(h=l[v],f=r[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Yt(t,n,v,h,l,f)}Qt(t,G,Q);return;case"option":for(var vt in r)if(G=r[vt],r.hasOwnProperty(vt)&&G!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":t.selected=!1;break;default:Yt(t,n,vt,null,l,G)}for(C in l)if(G=l[C],Q=r[C],l.hasOwnProperty(C)&&G!==Q&&(G!=null||Q!=null))switch(C){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Yt(t,n,C,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in r)G=r[yt],r.hasOwnProperty(yt)&&G!=null&&!l.hasOwnProperty(yt)&&Yt(t,n,yt,null,l,G);for(B in l)if(G=l[B],Q=r[B],l.hasOwnProperty(B)&&G!==Q&&(G!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(t,n,B,G,l,Q)}return;default:if(Zs(n)){for(var Xt in r)G=r[Xt],r.hasOwnProperty(Xt)&&G!==void 0&&!l.hasOwnProperty(Xt)&&xf(t,n,Xt,void 0,l,G);for(Z in l)G=l[Z],Q=r[Z],!l.hasOwnProperty(Z)||G===Q||G===void 0&&Q===void 0||xf(t,n,Z,G,l,Q);return}}for(var P in r)G=r[P],r.hasOwnProperty(P)&&G!=null&&!l.hasOwnProperty(P)&&Yt(t,n,P,null,l,G);for(W in l)G=l[W],Q=r[W],!l.hasOwnProperty(W)||G===Q||G==null&&Q==null||Yt(t,n,W,G,l,Q)}var Df=null,Nf=null;function Ou(t){return t.nodeType===9?t:t.ownerDocument}function hy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function If(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vf=null;function gT(){var t=window.event;return t&&t.type==="popstate"?t===Vf?!1:(Vf=t,!0):(Vf=null,!1)}var dy=typeof setTimeout=="function"?setTimeout:void 0,pT=typeof clearTimeout=="function"?clearTimeout:void 0,my=typeof Promise=="function"?Promise:void 0,yT=typeof queueMicrotask=="function"?queueMicrotask:typeof my<"u"?function(t){return my.resolve(null).then(t).catch(_T)}:dy;function _T(t){setTimeout(function(){throw t})}function ur(t){return t==="head"}function gy(t,n){var r=n,l=0,h=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var v=t.ownerDocument;if(r&1&&Ll(v.documentElement),r&2&&Ll(v.body),r&4)for(r=v.head,Ll(r),v=r.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[jr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=T}}if(h===0){t.removeChild(f),Fl(n);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Fl(n)}function Mf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Mf(r),Fi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function vT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[jr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function ET(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Mn(t.nextSibling),t===null))return null;return t}function Of(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function TT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Uf=null;function py(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function yy(t,n,r){switch(n=Ou(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ll(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Fi(t)}var Cn=new Map,_y=new Set;function Uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Vi=ot.d;ot.d={f:AT,r:bT,D:ST,C:RT,L:wT,m:CT,X:DT,S:xT,M:NT};function AT(){var t=Vi.f(),n=wu();return t||n}function bT(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?kg(n):Vi.r(t)}var fs=typeof document>"u"?null:document;function vy(t,n,r){var l=fs;if(l&&typeof n=="string"&&n){var h=me(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),_y.has(h)||(_y.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ke(n,"link",t),ue(n),l.head.appendChild(n)))}}function ST(t){Vi.D(t),vy("dns-prefetch",t,null)}function RT(t,n){Vi.C(t,n),vy("preconnect",t,n)}function wT(t,n,r){Vi.L(t,n,r);var l=fs;if(l&&t&&n){var h='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+me(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+me(r.imageSizes)+'"]')):h+='[href="'+me(t)+'"]';var f=h;switch(n){case"style":f=ds(t);break;case"script":f=ms(t)}Cn.has(f)||(t=E({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Cn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Pl(f))||n==="script"&&l.querySelector(kl(f))||(n=l.createElement("link"),ke(n,"link",t),ue(n),l.head.appendChild(n)))}}function CT(t,n){Vi.m(t,n);var r=fs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ms(t)}if(!Cn.has(f)&&(t=E({rel:"modulepreload",href:t},n),Cn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(kl(f)))return}l=r.createElement("link"),ke(l,"link",t),ue(l),r.head.appendChild(l)}}}function xT(t,n,r){Vi.S(t,n,r);var l=fs;if(l&&t){var h=Ye(l).hoistableStyles,f=ds(t);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Pl(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Cn.get(f))&&Lf(t,r);var C=v=l.createElement("link");ue(C),ke(C,"link",t),C._p=new Promise(function(B,Z){C.onload=B,C.onerror=Z}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Lu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function DT(t,n){Vi.X(t,n);var r=fs;if(r&&t){var l=Ye(r).hoistableScripts,h=ms(t),f=l.get(h);f||(f=r.querySelector(kl(h)),f||(t=E({src:t,async:!0},n),(n=Cn.get(h))&&Pf(t,n),f=r.createElement("script"),ue(f),ke(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function NT(t,n){Vi.M(t,n);var r=fs;if(r&&t){var l=Ye(r).hoistableScripts,h=ms(t),f=l.get(h);f||(f=r.querySelector(kl(h)),f||(t=E({src:t,async:!0,type:"module"},n),(n=Cn.get(h))&&Pf(t,n),f=r.createElement("script"),ue(f),ke(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Ey(t,n,r,l){var h=(h=Tt.current)?Uu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ds(r.href),r=Ye(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ds(r.href);var f=Ye(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Pl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Cn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(t,r),f||IT(h,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ms(r),r=Ye(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ds(t){return'href="'+me(t)+'"'}function Pl(t){return'link[rel="stylesheet"]['+t+"]"}function Ty(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function IT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",r),ue(n),t.head.appendChild(n))}function ms(t){return'[src="'+me(t)+'"]'}function kl(t){return"script[async]"+t}function Ay(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+me(r.href)+'"]');if(l)return n.instance=l,ue(l),l;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),ke(l,"style",h),Lu(l,r.precedence,t),n.instance=l;case"stylesheet":h=ds(r.href);var f=t.querySelector(Pl(h));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=Ty(r),(h=Cn.get(h))&&Lf(l,h),f=(t.ownerDocument||t).createElement("link"),ue(f);var v=f;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),ke(f,"link",l),n.state.loading|=4,Lu(f,r.precedence,t),n.instance=f;case"script":return f=ms(r.src),(h=t.querySelector(kl(f)))?(n.instance=h,ue(h),h):(l=r,(h=Cn.get(f))&&(l=E({},r),Pf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ue(h),ke(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Lu(l,r.precedence,t));return n.instance}function Lu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Lf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Pu=null;function by(t,n,r){if(Pu===null){var l=new Map,h=Pu=new Map;h.set(r,l)}else h=Pu,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[jr]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function Sy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function VT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ry(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var zl=null;function MT(){}function OT(t,n,r){if(zl===null)throw Error(s(475));var l=zl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=ds(r.href),f=t.querySelector(Pl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=ku.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,r=Ty(r),(h=Cn.get(h))&&Lf(r,h),f=f.createElement("link"),ue(f);var v=f;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),ke(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=ku.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function UT(){if(zl===null)throw Error(s(475));var t=zl;return t.stylesheets&&t.count===0&&kf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&kf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function ku(){if(this.count--,this.count===0){if(this.stylesheets)kf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zu=null;function kf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zu=new Map,n.forEach(LT,t),zu=null,ku.call(t))}function LT(t,n){if(!(n.state.loading&4)){var r=zu.get(t);if(r)var l=r.get(null);else{r=new Map,zu.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,h),r.set(v,h),this.count++,l=ku.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var jl={$$typeof:X,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function PT(t,n,r,l,h,f,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function wy(t,n,r,l,h,f,v,T,C,B,Z,W){return t=new PT(t,n,r,v,T,C,B,W),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=_h(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Ah(f),t}function Cy(t){return t?(t=Ga,t):Ga}function xy(t,n,r,l,h,f){h=Cy(h),l.context===null?l.context=h:l.pendingContext=h,l=$i(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Zi(t,l,n),r!==null&&(dn(r,t,n),pl(r,t,n))}function Dy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function zf(t,n){Dy(t,n),(t=t.alternate)&&Dy(t,n)}function Ny(t){if(t.tag===13){var n=Fa(t,67108864);n!==null&&dn(n,t,67108864),zf(t,67108864)}}var ju=!0;function kT(t,n,r,l){var h=$.T;$.T=null;var f=ot.p;try{ot.p=2,jf(t,n,r,l)}finally{ot.p=f,$.T=h}}function zT(t,n,r,l){var h=$.T;$.T=null;var f=ot.p;try{ot.p=8,jf(t,n,r,l)}finally{ot.p=f,$.T=h}}function jf(t,n,r,l){if(ju){var h=Bf(l);if(h===null)Cf(t,n,l,Bu,r),Vy(t,l);else if(BT(h,t,n,r,l))l.stopPropagation();else if(Vy(t,l),n&4&&-1<jT.indexOf(t)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=xn(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-qe(v);T.entanglements[1]|=C,v&=~C}Wn(f),(Ft&6)===0&&(Su=gn()+500,Ml(0))}}break;case 13:T=Fa(f,2),T!==null&&dn(T,f,2),wu(),zf(f,2)}if(f=Bf(l),f===null&&Cf(t,n,l,Bu,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else Cf(t,n,l,null,r)}}function Bf(t){return t=_n(t),qf(t)}var Bu=null;function qf(t){if(Bu=null,t=ci(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Bu=t,null}function Iy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fc()){case ks:return 2;case ba:return 8;case Ur:case Gc:return 32;case Sa:return 268435456;default:return 32}default:return 32}}var Hf=!1,cr=null,hr=null,fr=null,Bl=new Map,ql=new Map,dr=[],jT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vy(t,n){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(n.pointerId)}}function Hl(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=zn(n),n!==null&&Ny(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function BT(t,n,r,l,h){switch(n){case"focusin":return cr=Hl(cr,t,n,r,l,h),!0;case"dragenter":return hr=Hl(hr,t,n,r,l,h),!0;case"mouseover":return fr=Hl(fr,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Bl.set(f,Hl(Bl.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,ql.set(f,Hl(ql.get(f)||null,t,n,r,l,h)),!0}return!1}function My(t){var n=ci(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,wo(t.priority,function(){if(r.tag===13){var l=fn();l=Bi(l);var h=Fa(r,l);h!==null&&dn(h,r,l),zf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Bf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);mi=l,r.target.dispatchEvent(l),mi=null}else return n=zn(r),n!==null&&Ny(n),t.blockedOn=r,!1;n.shift()}return!0}function Oy(t,n,r){qu(t)&&r.delete(n)}function qT(){Hf=!1,cr!==null&&qu(cr)&&(cr=null),hr!==null&&qu(hr)&&(hr=null),fr!==null&&qu(fr)&&(fr=null),Bl.forEach(Oy),ql.forEach(Oy)}function Hu(t,n){t.blockedOn===n&&(t.blockedOn=null,Hf||(Hf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,qT)))}var Fu=null;function Uy(t){Fu!==t&&(Fu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Fu===t&&(Fu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(qf(l||r)===null)continue;break}var f=zn(r);f!==null&&(t.splice(n,3),n-=3,Bh(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Fl(t){function n(C){return Hu(C,t)}cr!==null&&Hu(cr,t),hr!==null&&Hu(hr,t),fr!==null&&Hu(fr,t),Bl.forEach(n),ql.forEach(n);for(var r=0;r<dr.length;r++){var l=dr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<dr.length&&(r=dr[0],r.blockedOn===null);)My(r),r.blockedOn===null&&dr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],v=h[de]||null;if(typeof f=="function")v||Uy(r);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[de]||null)T=v.formAction;else if(qf(h)!==null)continue}else T=v.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),Uy(r)}}}function Ff(t){this._internalRoot=t}Gu.prototype.render=Ff.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=fn();xy(r,l,t,n,null,null)},Gu.prototype.unmount=Ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;xy(t.current,2,null,t,null,null),wu(),n[pn]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var n=qi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<dr.length&&n!==0&&n<dr[r].priority;r++);dr.splice(r,0,t),r===0&&My(t)}};var Ly=e.version;if(Ly!=="19.1.0")throw Error(s(527,Ly,"19.1.0"));ot.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var HT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{se=Qu.inject(HT),Ht=Qu}catch{}}return Ql.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",h=Jg,f=Wg,v=tp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=wy(t,1,!1,null,null,r,l,h,f,v,T,null),t[pn]=n.current,wf(t),new Ff(n)},Ql.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,h="",f=Jg,v=Wg,T=tp,C=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),n=wy(t,1,!0,n,r??null,l,h,f,v,T,C,B),n.context=Cy(null),r=n.current,l=fn(),l=Bi(l),h=$i(l),h.callback=null,Zi(r,h,l),r=l,n.current.lanes=r,ui(n,r),Wn(n),t[pn]=n.current,wf(t),new Gu(n)},Ql.version="19.1.0",Ql}var Qy;function eA(){if(Qy)return Kf.exports;Qy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Kf.exports=tA(),Kf.exports}var nA=eA(),Kl={},Ky;function iA(){if(Ky)return Kl;Ky=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.parse=d,Kl.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function d(S,x){const I=new c,q=S.length;if(q<2)return I;const H=(x==null?void 0:x.decode)||E;let K=0;do{const it=S.indexOf("=",K);if(it===-1)break;const X=S.indexOf(";",K),at=X===-1?q:X;if(it>at){K=S.lastIndexOf(";",it-1)+1;continue}const st=m(S,K,it),St=p(S,it,st),O=S.slice(st,St);if(I[O]===void 0){let R=m(S,it+1,at),w=p(S,at,R);const V=H(S.slice(R,w));I[O]=V}K=at+1}while(K<q);return I}function m(S,x,I){do{const q=S.charCodeAt(x);if(q!==32&&q!==9)return x}while(++x<I);return I}function p(S,x,I){for(;x>I;){const q=S.charCodeAt(--x);if(q!==32&&q!==9)return x+1}return I}function y(S,x,I){const q=(I==null?void 0:I.encode)||encodeURIComponent;if(!a.test(S))throw new TypeError(`argument name is invalid: ${S}`);const H=q(x);if(!e.test(H))throw new TypeError(`argument val is invalid: ${x}`);let K=S+"="+H;if(!I)return K;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);K+="; Max-Age="+I.maxAge}if(I.domain){if(!i.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);K+="; Domain="+I.domain}if(I.path){if(!s.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);K+="; Path="+I.path}if(I.expires){if(!b(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);K+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(K+="; HttpOnly"),I.secure&&(K+="; Secure"),I.partitioned&&(K+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return K}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return Kl}iA();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yy="popstate";function rA(a={}){function e(s,o){let{pathname:c,search:d,hash:m}=s.location;return ld("",{pathname:c,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:ao(o)}return sA(e,i,null,a)}function ne(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function On(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aA(){return Math.random().toString(36).substring(2,10)}function Xy(a,e){return{usr:a.state,key:a.key,idx:e}}function ld(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Ds(e):e,state:i,key:e&&e.key||s||aA()}}function ao({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Ds(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function sA(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,m="POP",p=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function b(){m="POP";let H=E(),K=H==null?null:H-y;y=H,p&&p({action:m,location:q.location,delta:K})}function S(H,K){m="PUSH";let it=ld(q.location,H,K);y=E()+1;let X=Xy(it,y),at=q.createHref(it);try{d.pushState(X,"",at)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;o.location.assign(at)}c&&p&&p({action:m,location:q.location,delta:1})}function x(H,K){m="REPLACE";let it=ld(q.location,H,K);y=E();let X=Xy(it,y),at=q.createHref(it);d.replaceState(X,"",at),c&&p&&p({action:m,location:q.location,delta:0})}function I(H){let K=o.location.origin!=="null"?o.location.origin:o.location.href,it=typeof H=="string"?H:ao(H);return it=it.replace(/ $/,"%20"),ne(K,`No window.location.(origin|href) available to create URL for href: ${it}`),new URL(it,K)}let q={get action(){return m},get location(){return a(o,d)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Yy,b),p=H,()=>{o.removeEventListener(Yy,b),p=null}},createHref(H){return e(o,H)},createURL:I,encodeLocation(H){let K=I(H);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:x,go(H){return d.go(H)}};return q}function dv(a,e,i="/"){return lA(a,e,i,!1)}function lA(a,e,i,s){let o=typeof e=="string"?Ds(e):e,c=Ui(o.pathname||"/",i);if(c==null)return null;let d=mv(a);oA(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let y=vA(c);m=yA(d[p],y,s)}return m}function mv(a,e=[],i=[],s=""){let o=(c,d,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(ne(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Mi([s,p.relativePath]),E=i.concat(p);c.children&&c.children.length>0&&(ne(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),mv(c.children,e,E,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:gA(y,c.index),routesMeta:E})};return a.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,d);else for(let p of gv(c.path))o(c,d,p)}),e}function gv(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=gv(s.join("/")),m=[];return m.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...d),m.map(p=>a.startsWith("/")&&p===""?"/":p)}function oA(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:pA(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var uA=/^:[\w-]+$/,cA=3,hA=2,fA=1,dA=10,mA=-2,$y=a=>a==="*";function gA(a,e){let i=a.split("/"),s=i.length;return i.some($y)&&(s+=mA),e&&(s+=hA),i.filter(o=>!$y(o)).reduce((o,c)=>o+(uA.test(c)?cA:c===""?fA:dA),s)}function pA(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function yA(a,e,i=!1){let{routesMeta:s}=a,o={},c="/",d=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",b=lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),S=p.route;if(!b&&y&&i&&!s[s.length-1].route.index&&(b=lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Mi([c,b.pathname]),pathnameBase:bA(Mi([c,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(c=Mi([c,b.pathnameBase]))}return d}function lc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=_A(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},S)=>{if(E==="*"){let I=m[S]||"";d=c.slice(0,c.length-I.length).replace(/(.)\/+$/,"$1")}const x=m[S];return b&&!x?y[E]=void 0:y[E]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:a}}function _A(a,e=!1,i=!0){On(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function vA(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return On(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Ui(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function EA(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?Ds(a):a;return{pathname:i?i.startsWith("/")?i:TA(i,e):e,search:SA(s),hash:RA(o)}}function TA(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Zf(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AA(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Od(a){let e=AA(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Ud(a,e,i,s=!1){let o;typeof a=="string"?o=Ds(a):(o={...a},ne(!o.pathname||!o.pathname.includes("?"),Zf("?","pathname","search",o)),ne(!o.pathname||!o.pathname.includes("#"),Zf("#","pathname","hash",o)),ne(!o.search||!o.search.includes("#"),Zf("#","search","hash",o)));let c=a===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=i;else{let b=e.length-1;if(!s&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=EA(o,m),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Mi=a=>a.join("/").replace(/\/\/+/g,"/"),bA=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),SA=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,RA=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function wA(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var pv=["POST","PUT","PATCH","DELETE"];new Set(pv);var CA=["GET",...pv];new Set(CA);var Ns=F.createContext(null);Ns.displayName="DataRouter";var Sc=F.createContext(null);Sc.displayName="DataRouterState";var yv=F.createContext({isTransitioning:!1});yv.displayName="ViewTransition";var xA=F.createContext(new Map);xA.displayName="Fetchers";var DA=F.createContext(null);DA.displayName="Await";var Ln=F.createContext(null);Ln.displayName="Navigation";var go=F.createContext(null);go.displayName="Location";var si=F.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var Ld=F.createContext(null);Ld.displayName="RouteError";function NA(a,{relative:e}={}){ne(Is(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=F.useContext(Ln),{hash:o,pathname:c,search:d}=po(a,{relative:e}),m=c;return i!=="/"&&(m=c==="/"?i:Mi([i,c])),s.createHref({pathname:m,search:d,hash:o})}function Is(){return F.useContext(go)!=null}function zi(){return ne(Is(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(go).location}var _v="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vv(a){F.useContext(Ln).static||F.useLayoutEffect(a)}function Rc(){let{isDataRoute:a}=F.useContext(si);return a?HA():IA()}function IA(){ne(Is(),"useNavigate() may be used only in the context of a <Router> component.");let a=F.useContext(Ns),{basename:e,navigator:i}=F.useContext(Ln),{matches:s}=F.useContext(si),{pathname:o}=zi(),c=JSON.stringify(Od(s)),d=F.useRef(!1);return vv(()=>{d.current=!0}),F.useCallback((p,y={})=>{if(On(d.current,_v),!d.current)return;if(typeof p=="number"){i.go(p);return}let E=Ud(p,JSON.parse(c),o,y.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Mi([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,a])}F.createContext(null);function po(a,{relative:e}={}){let{matches:i}=F.useContext(si),{pathname:s}=zi(),o=JSON.stringify(Od(i));return F.useMemo(()=>Ud(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function VA(a,e){return Ev(a,e)}function Ev(a,e,i,s){var it;ne(Is(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=F.useContext(Ln),{matches:d}=F.useContext(si),m=d[d.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let X=b&&b.path||"";Tv(y,!b||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let S=zi(),x;if(e){let X=typeof e=="string"?Ds(e):e;ne(E==="/"||((it=X.pathname)==null?void 0:it.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),x=X}else x=S;let I=x.pathname||"/",q=I;if(E!=="/"){let X=E.replace(/^\//,"").split("/");q="/"+I.replace(/^\//,"").split("/").slice(X.length).join("/")}let H=!c&&i&&i.matches&&i.matches.length>0?i.matches:dv(a,{pathname:q});On(b||H!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),On(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=PA(H&&H.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Mi([E,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:Mi([E,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),d,i,s);return e&&K?F.createElement(go.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},K):K}function MA(){let a=qA(),e=wA(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:c},"ErrorBoundary")," or"," ",F.createElement("code",{style:c},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),i?F.createElement("pre",{style:o},i):null,d)}var OA=F.createElement(MA,null),UA=class extends F.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?F.createElement(si.Provider,{value:this.props.routeContext},F.createElement(Ld.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LA({routeContext:a,match:e,children:i}){let s=F.useContext(Ns);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(si.Provider,{value:a},i)}function PA(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let o=a,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);ne(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,m=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:b}=i,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||S){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let b,S=!1,x=null,I=null;i&&(b=c&&y.route.id?c[y.route.id]:void 0,x=y.route.errorElement||OA,d&&(m<0&&E===0?(Tv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,I=null):m===E&&(S=!0,I=y.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,E+1)),H=()=>{let K;return b?K=x:S?K=I:y.route.Component?K=F.createElement(y.route.Component,null):y.route.element?K=y.route.element:K=p,F.createElement(LA,{match:y,routeContext:{outlet:p,matches:q,isDataRoute:i!=null},children:K})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?F.createElement(UA,{location:i.location,revalidation:i.revalidation,component:x,error:b,children:H(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):H()},null)}function Pd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kA(a){let e=F.useContext(Ns);return ne(e,Pd(a)),e}function zA(a){let e=F.useContext(Sc);return ne(e,Pd(a)),e}function jA(a){let e=F.useContext(si);return ne(e,Pd(a)),e}function kd(a){let e=jA(a),i=e.matches[e.matches.length-1];return ne(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function BA(){return kd("useRouteId")}function qA(){var s;let a=F.useContext(Ld),e=zA("useRouteError"),i=kd("useRouteError");return a!==void 0?a:(s=e.errors)==null?void 0:s[i]}function HA(){let{router:a}=kA("useNavigate"),e=kd("useNavigate"),i=F.useRef(!1);return vv(()=>{i.current=!0}),F.useCallback(async(o,c={})=>{On(i.current,_v),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...c}))},[a,e])}var Zy={};function Tv(a,e,i){!e&&!Zy[a]&&(Zy[a]=!0,On(!1,i))}F.memo(FA);function FA({routes:a,future:e,state:i}){return Ev(a,void 0,i,e)}function ga({to:a,replace:e,state:i,relative:s}){ne(Is(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(Ln);On(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=F.useContext(si),{pathname:d}=zi(),m=Rc(),p=Ud(a,Od(c),d,s==="path"),y=JSON.stringify(p);return F.useEffect(()=>{m(JSON.parse(y),{replace:e,state:i,relative:s})},[m,y,s,e,i]),null}function gr(a){ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GA({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){ne(!Is(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Ds(i));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:S="default"}=i,x=F.useMemo(()=>{let I=Ui(p,d);return I==null?null:{location:{pathname:I,search:y,hash:E,state:b,key:S},navigationType:s}},[d,p,y,E,b,S,s]);return On(x!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:F.createElement(Ln.Provider,{value:m},F.createElement(go.Provider,{children:e,value:x}))}function QA({children:a,location:e}){return VA(od(a),e)}function od(a,e=[]){let i=[];return F.Children.forEach(a,(s,o)=>{if(!F.isValidElement(s))return;let c=[...e,o];if(s.type===F.Fragment){i.push.apply(i,od(s.props.children,c));return}ne(s.type===gr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ne(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=od(s.props.children,c)),i.push(d)}),i}var Wu="get",tc="application/x-www-form-urlencoded";function wc(a){return a!=null&&typeof a.tagName=="string"}function KA(a){return wc(a)&&a.tagName.toLowerCase()==="button"}function YA(a){return wc(a)&&a.tagName.toLowerCase()==="form"}function XA(a){return wc(a)&&a.tagName.toLowerCase()==="input"}function $A(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function ZA(a,e){return a.button===0&&(!e||e==="_self")&&!$A(a)}var Ku=null;function JA(){if(Ku===null)try{new FormData(document.createElement("form"),0),Ku=!1}catch{Ku=!0}return Ku}var WA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jf(a){return a!=null&&!WA.has(a)?(On(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tc}"`),null):a}function tb(a,e){let i,s,o,c,d;if(YA(a)){let m=a.getAttribute("action");s=m?Ui(m,e):null,i=a.getAttribute("method")||Wu,o=Jf(a.getAttribute("enctype"))||tc,c=new FormData(a)}else if(KA(a)||XA(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ui(p,e):null,i=a.getAttribute("formmethod")||m.getAttribute("method")||Wu,o=Jf(a.getAttribute("formenctype"))||Jf(m.getAttribute("enctype"))||tc,c=new FormData(m,a),!JA()){let{name:y,type:E,value:b}=a;if(E==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,b)}}else{if(wc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Wu,s=null,o=tc,d=a}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}function zd(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function eb(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nb(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function ib(a,e,i){let s=await Promise.all(a.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await eb(c,i);return d.links?d.links():[]}return[]}));return lb(s.flat(1).filter(nb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Jy(a,e,i,s,o,c){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,m=(p,y)=>{var E;return i[y].pathname!==p.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>d(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function rb(a,e,{includeHydrateFallback:i}={}){return ab(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function ab(a){return[...new Set(a)]}function sb(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function lb(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let c=JSON.stringify(sb(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function ob(a,e){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname="_root.data":e&&Ui(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Av(){let a=F.useContext(Ns);return zd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function ub(){let a=F.useContext(Sc);return zd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var jd=F.createContext(void 0);jd.displayName="FrameworkContext";function bv(){let a=F.useContext(jd);return zd(a,"You must render this element inside a <HydratedRouter> element"),a}function cb(a,e){let i=F.useContext(jd),[s,o]=F.useState(!1),[c,d]=F.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,S=F.useRef(null);F.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let q=K=>{K.forEach(it=>{d(it.isIntersecting)})},H=new IntersectionObserver(q,{threshold:.5});return S.current&&H.observe(S.current),()=>{H.disconnect()}}},[a]),F.useEffect(()=>{if(s){let q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(q)}}},[s]);let x=()=>{o(!0)},I=()=>{o(!1),d(!1)};return i?a!=="intent"?[c,S,{}]:[c,S,{onFocus:Yl(m,x),onBlur:Yl(p,I),onMouseEnter:Yl(y,x),onMouseLeave:Yl(E,I),onTouchStart:Yl(b,x)}]:[!1,S,{}]}function Yl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function hb({page:a,...e}){let{router:i}=Av(),s=F.useMemo(()=>dv(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?F.createElement(db,{page:a,matches:s,...e}):null}function fb(a){let{manifest:e,routeModules:i}=bv(),[s,o]=F.useState([]);return F.useEffect(()=>{let c=!1;return ib(a,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[a,e,i]),s}function db({page:a,matches:e,...i}){let s=zi(),{manifest:o,routeModules:c}=bv(),{basename:d}=Av(),{loaderData:m,matches:p}=ub(),y=F.useMemo(()=>Jy(a,e,p,o,s,"data"),[a,e,p,o,s]),E=F.useMemo(()=>Jy(a,e,p,o,s,"assets"),[a,e,p,o,s]),b=F.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let I=new Set,q=!1;if(e.forEach(K=>{var X;let it=o.routes[K.route.id];!it||!it.hasLoader||(!y.some(at=>at.route.id===K.route.id)&&K.route.id in m&&((X=c[K.route.id])!=null&&X.shouldRevalidate)||it.hasClientLoader?q=!0:I.add(K.route.id))}),I.size===0)return[];let H=ob(a,d);return q&&I.size>0&&H.searchParams.set("_routes",e.filter(K=>I.has(K.route.id)).map(K=>K.route.id).join(",")),[H.pathname+H.search]},[d,m,s,o,y,e,a,c]),S=F.useMemo(()=>rb(E,o),[E,o]),x=fb(E);return F.createElement(F.Fragment,null,b.map(I=>F.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...i})),S.map(I=>F.createElement("link",{key:I,rel:"modulepreload",href:I,...i})),x.map(({key:I,link:q})=>F.createElement("link",{key:I,...q})))}function mb(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Sv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sv&&(window.__reactRouterVersion="7.4.1")}catch{}function gb({basename:a,children:e,window:i}){let s=F.useRef();s.current==null&&(s.current=rA({window:i,v5Compat:!0}));let o=s.current,[c,d]=F.useState({action:o.action,location:o.location}),m=F.useCallback(p=>{F.startTransition(()=>d(p))},[d]);return F.useLayoutEffect(()=>o.listen(m),[o,m]),F.createElement(GA,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:o})}var Rv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pr=F.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:m,target:p,to:y,preventScrollReset:E,viewTransition:b,...S},x){let{basename:I}=F.useContext(Ln),q=typeof y=="string"&&Rv.test(y),H,K=!1;if(typeof y=="string"&&q&&(H=y,Sv))try{let w=new URL(window.location.href),V=y.startsWith("//")?new URL(w.protocol+y):new URL(y),L=Ui(V.pathname,I);V.origin===w.origin&&L!=null?y=L+V.search+V.hash:K=!0}catch{On(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let it=NA(y,{relative:o}),[X,at,st]=cb(s,S),St=vb(y,{replace:d,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function O(w){e&&e(w),w.defaultPrevented||St(w)}let R=F.createElement("a",{...S,...st,href:H||it,onClick:K||c?e:O,ref:mb(x,at),target:p,"data-discover":!q&&i==="render"?"true":void 0});return X&&!q?F.createElement(F.Fragment,null,R,F.createElement(hb,{page:it})):R});pr.displayName="Link";var pb=F.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:m,children:p,...y},E){let b=po(d,{relative:y.relative}),S=zi(),x=F.useContext(Sc),{navigator:I,basename:q}=F.useContext(Ln),H=x!=null&&Sb(b)&&m===!0,K=I.encodeLocation?I.encodeLocation(b).pathname:b.pathname,it=S.pathname,X=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(it=it.toLowerCase(),X=X?X.toLowerCase():null,K=K.toLowerCase()),X&&q&&(X=Ui(X,q)||X);const at=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let st=it===K||!o&&it.startsWith(K)&&it.charAt(at)==="/",St=X!=null&&(X===K||!o&&X.startsWith(K)&&X.charAt(K.length)==="/"),O={isActive:st,isPending:St,isTransitioning:H},R=st?e:void 0,w;typeof s=="function"?w=s(O):w=[s,st?"active":null,St?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(O):c;return F.createElement(pr,{...y,"aria-current":R,className:w,ref:E,style:V,to:d,viewTransition:m},typeof p=="function"?p(O):p)});pb.displayName="NavLink";var yb=F.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=Wu,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...S},x)=>{let I=Ab(),q=bb(m,{relative:y}),H=d.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&Rv.test(m),it=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let at=X.nativeEvent.submitter,st=(at==null?void 0:at.getAttribute("formmethod"))||d;I(at||X.currentTarget,{fetcherKey:e,method:st,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:b})};return F.createElement("form",{ref:x,method:H,action:q,onSubmit:s?p:it,...S,"data-discover":!K&&a==="render"?"true":void 0})});yb.displayName="Form";function _b(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wv(a){let e=F.useContext(Ns);return ne(e,_b(a)),e}function vb(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let m=Rc(),p=zi(),y=po(a,{relative:c});return F.useCallback(E=>{if(ZA(E,e)){E.preventDefault();let b=i!==void 0?i:ao(p)===ao(y);m(a,{replace:b,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[p,m,y,i,s,e,a,o,c,d])}var Eb=0,Tb=()=>`__${String(++Eb)}__`;function Ab(){let{router:a}=wv("useSubmit"),{basename:e}=F.useContext(Ln),i=BA();return F.useCallback(async(s,o={})=>{let{action:c,method:d,encType:m,formData:p,body:y}=tb(s,e);if(o.navigate===!1){let E=o.fetcherKey||Tb();await a.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function bb(a,{relative:e}={}){let{basename:i}=F.useContext(Ln),s=F.useContext(si);ne(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...po(a||".",{relative:e})},d=zi();if(a==null){c.search=d.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();c.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Mi([i,c.pathname])),ao(c)}function Sb(a,e={}){let i=F.useContext(yv);ne(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wv("useViewTransitionState"),o=po(a,{relative:e.relative});if(!i.isTransitioning)return!1;let c=Ui(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Ui(i.nextLocation.pathname,s)||i.nextLocation.pathname;return lc(o.pathname,d)!=null||lc(o.pathname,c)!=null}new TextEncoder;const Rb=({onLoginSuccess:a})=>{const[e,i]=F.useState(""),[s,o]=F.useState(""),[c,d]=F.useState(""),[m,p]=F.useState([]),[y,E]=F.useState(!1);F.useEffect(()=>{const x=localStorage.getItem("users");if(x)p(JSON.parse(x));else{const I=[{username:"admin",password:"admin123"}];localStorage.setItem("users",JSON.stringify(I)),p(I)}},[]),F.useEffect(()=>{m.length>0&&localStorage.setItem("users",JSON.stringify(m))},[m]);const b=x=>{x.preventDefault();const I=m.find(q=>q.username===e);I&&I.password===s?typeof a=="function"?a({username:I.username}):(console.error("onLoginSuccess is not a function",a),d("Login system error. Please contact support.")):d("Invalid username or password")},S=x=>{if(x.preventDefault(),m.some(q=>q.username===e)){d("Username already exists");return}const I=[...m,{username:e,password:s}];p(I),E(!1),d("Registration successful! Please log in.")};return U.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded-lg shadow-md",children:[U.jsx("h1",{className:"text-2xl font-bold mb-6",children:y?"Register":"Login"}),c&&U.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:c}),U.jsxs("form",{onSubmit:y?S:b,children:[U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{htmlFor:"username",className:"block mb-2 text-sm font-medium",children:"Username"}),U.jsx("input",{type:"text",id:"username",value:e,onChange:x=>i(x.target.value),className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),U.jsxs("div",{className:"mb-6",children:[U.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium",children:"Password"}),U.jsx("input",{type:"password",id:"password",value:s,onChange:x=>o(x.target.value),className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),U.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition-colors mb-4",children:y?"Register":"Login"})]}),U.jsx("button",{onClick:()=>{E(!y),d("")},className:"w-full text-blue-500 py-2 px-4 rounded hover:bg-gray-100 transition-colors",children:y?"Back to Login":"Create an Account"}),!y&&U.jsxs("div",{className:"mt-6 text-sm text-gray-500",children:[U.jsx("h2",{className:"font-medium mb-2",children:"Registered Users:"}),m.length>0?U.jsx("ul",{className:"list-disc pl-5",children:m.map((x,I)=>U.jsx("li",{children:x.username},I))}):U.jsx("p",{children:"No users registered yet."})]})]})},wb=()=>{};var Wy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Cb=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],d=a[i++],m=a[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,m=d?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,E=c>>2,b=(c&3)<<4|m>>4;let S=(m&15)<<2|y>>6,x=y&63;p||(x=64,d||(S=64)),s.push(i[E],i[b],i[S],i[x])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Cv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):Cb(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],m=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const b=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||m==null||y==null||b==null)throw new xb;const S=c<<2|m>>4;if(s.push(S),y!==64){const x=m<<4&240|y>>2;if(s.push(x),b!==64){const I=y<<6&192|b;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class xb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Db=function(a){const e=Cv(a);return xv.encodeByteArray(e,!0)},oc=function(a){return Db(a).replace(/\./g,"")},Nb=function(a){try{return xv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=()=>Ib().__FIREBASE_DEFAULTS__,Mb=()=>{if(typeof process>"u"||typeof Wy>"u")return;const a=Wy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Ob=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Nb(a[1]);return e&&JSON.parse(e)},Bd=()=>{try{return wb()||Vb()||Mb()||Ob()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Ub=a=>{var e,i;return(i=(e=Bd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},Lb=a=>{const e=Ub(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Dv=()=>{var a;return(a=Bd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[oc(JSON.stringify(i)),oc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jb(){var a;const e=(a=Bd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bb(){return!jb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qb(){try{return typeof indexedDB=="object"}catch{return!1}}function Hb(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="FirebaseError";class Vs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=Fb,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nv.prototype.create)}}class Nv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?Gb(c,s):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Vs(o,m,s)}}function Gb(a,e){return a.replace(Qb,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Qb=/\{\$([^}]+)}/g;function uc(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=a[o],d=e[o];if(t_(c)&&t_(d)){if(!uc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function t_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(a){return a&&a._delegate?a._delegate:a}class so{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new Pb;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xb(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Yb(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yb(a){return a===pa?void 0:a}function Xb(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Kb(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pt||(Pt={}));const Zb={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},Jb=Pt.INFO,Wb={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},tS=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=Wb[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iv{constructor(e){this.name=e,this._logLevel=Jb,this._logHandler=tS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const eS=(a,e)=>e.some(i=>a instanceof i);let e_,n_;function nS(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iS(){return n_||(n_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vv=new WeakMap,ud=new WeakMap,Mv=new WeakMap,Wf=new WeakMap,qd=new WeakMap;function rS(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(_r(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Vv.set(i,a)}).catch(()=>{}),qd.set(e,a),e}function aS(a){if(ud.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});ud.set(a,e)}let cd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return ud.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Mv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function sS(a){cd=a(cd)}function lS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(td(this),e,...i);return Mv.set(s,e.sort?e.sort():[e]),_r(s)}:iS().includes(a)?function(...e){return a.apply(td(this),e),_r(Vv.get(this))}:function(...e){return _r(a.apply(td(this),e))}}function oS(a){return typeof a=="function"?lS(a):(a instanceof IDBTransaction&&aS(a),eS(a,nS())?new Proxy(a,cd):a)}function _r(a){if(a instanceof IDBRequest)return rS(a);if(Wf.has(a))return Wf.get(a);const e=oS(a);return e!==a&&(Wf.set(a,e),qd.set(e,a)),e}const td=a=>qd.get(a);function uS(a,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(a,e),m=_r(d);return s&&d.addEventListener("upgradeneeded",p=>{s(_r(d.result),p.oldVersion,p.newVersion,_r(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const cS=["get","getKey","getAll","getAllKeys","count"],hS=["put","add","delete","clear"],ed=new Map;function i_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(ed.get(e))return ed.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=hS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||cS.includes(i)))return;const c=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&p.done]))[0]};return ed.set(e,c),c}sS(a=>({...a,get:(e,i,s)=>i_(e,i)||a.get(e,i,s),has:(e,i)=>!!i_(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(dS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function dS(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hd="@firebase/app",r_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Iv("@firebase/app"),mS="@firebase/app-compat",gS="@firebase/analytics-compat",pS="@firebase/analytics",yS="@firebase/app-check-compat",_S="@firebase/app-check",vS="@firebase/auth",ES="@firebase/auth-compat",TS="@firebase/database",AS="@firebase/data-connect",bS="@firebase/database-compat",SS="@firebase/functions",RS="@firebase/functions-compat",wS="@firebase/installations",CS="@firebase/installations-compat",xS="@firebase/messaging",DS="@firebase/messaging-compat",NS="@firebase/performance",IS="@firebase/performance-compat",VS="@firebase/remote-config",MS="@firebase/remote-config-compat",OS="@firebase/storage",US="@firebase/storage-compat",LS="@firebase/firestore",PS="@firebase/vertexai",kS="@firebase/firestore-compat",zS="firebase",jS="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="[DEFAULT]",BS={[hd]:"fire-core",[mS]:"fire-core-compat",[pS]:"fire-analytics",[gS]:"fire-analytics-compat",[_S]:"fire-app-check",[yS]:"fire-app-check-compat",[vS]:"fire-auth",[ES]:"fire-auth-compat",[TS]:"fire-rtdb",[AS]:"fire-data-connect",[bS]:"fire-rtdb-compat",[SS]:"fire-fn",[RS]:"fire-fn-compat",[wS]:"fire-iid",[CS]:"fire-iid-compat",[xS]:"fire-fcm",[DS]:"fire-fcm-compat",[NS]:"fire-perf",[IS]:"fire-perf-compat",[VS]:"fire-rc",[MS]:"fire-rc-compat",[OS]:"fire-gcs",[US]:"fire-gcs-compat",[LS]:"fire-fst",[kS]:"fire-fst-compat",[PS]:"fire-vertex","fire-js":"fire-js",[zS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new Map,qS=new Map,dd=new Map;function a_(a,e){try{a.container.addComponent(e)}catch(i){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function hc(a){const e=a.name;if(dd.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;dd.set(e,a);for(const i of cc.values())a_(i,a);for(const i of qS.values())a_(i,a);return!0}function HS(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function FS(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new Nv("app","Firebase",GS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=jS;function Cc(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:fd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw vr.create("bad-app-name",{appName:String(o)});if(i||(i=Dv()),!i)throw vr.create("no-options");const c=cc.get(o);if(c){if(uc(i,c.options)&&uc(s,c.config))return c;throw vr.create("duplicate-app",{appName:o})}const d=new $b(o);for(const p of dd.values())d.addComponent(p);const m=new QS(i,s,d);return cc.set(o,m),m}function YS(a=fd){const e=cc.get(a);if(!e&&a===fd&&Dv())return Cc();if(!e)throw vr.create("no-app",{appName:a});return e}function vs(a,e,i){var s;let o=(s=BS[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const m=[`Unable to register library "${o}" with version "${e}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(m.join(" "));return}hc(new so(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="firebase-heartbeat-database",$S=1,lo="firebase-heartbeat-store";let nd=null;function Ov(){return nd||(nd=uS(XS,$S,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(lo)}catch(i){console.warn(i)}}}}).catch(a=>{throw vr.create("idb-open",{originalErrorMessage:a.message})})),nd}async function ZS(a){try{const i=(await Ov()).transaction(lo),s=await i.objectStore(lo).get(Uv(a));return await i.done,s}catch(e){if(e instanceof Vs)Li.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Li.warn(i.message)}}}async function s_(a,e){try{const s=(await Ov()).transaction(lo,"readwrite");await s.objectStore(lo).put(e,Uv(a)),await s.done}catch(i){if(i instanceof Vs)Li.warn(i.message);else{const s=vr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Li.warn(s.message)}}}function Uv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=1024,WS=30;class t1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new n1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=l_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>WS){const d=i1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Li.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=l_(),{heartbeatsToSend:s,unsentEntries:o}=e1(this._heartbeatsCache.heartbeats),c=oc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Li.warn(i),""}}}function l_(){return new Date().toISOString().substring(0,10)}function e1(a,e=JS){const i=[];let s=a.slice();for(const o of a){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),o_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),o_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class n1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qb()?Hb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ZS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return s_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return s_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function o_(a){return oc(JSON.stringify({version:2,heartbeats:a})).length}function i1(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(a){hc(new so("platform-logger",e=>new fS(e),"PRIVATE")),hc(new so("heartbeat",e=>new t1(e),"PRIVATE")),vs(hd,r_,a),vs(hd,r_,"esm2017"),vs("fire-js","")}r1("");var u_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Er,Lv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function w(){}w.prototype=R.prototype,O.D=R.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(V,L,k){for(var D=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)D[Me-2]=arguments[Me];return R.prototype[L].apply(V,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,w){w||(w=0);var V=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)V[L]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(L=0;16>L;++L)V[L]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=O.g[0],w=O.g[1],L=O.g[2];var k=O.g[3],D=R+(k^w&(L^k))+V[0]+3614090360&4294967295;R=w+(D<<7&4294967295|D>>>25),D=k+(L^R&(w^L))+V[1]+3905402710&4294967295,k=R+(D<<12&4294967295|D>>>20),D=L+(w^k&(R^w))+V[2]+606105819&4294967295,L=k+(D<<17&4294967295|D>>>15),D=w+(R^L&(k^R))+V[3]+3250441966&4294967295,w=L+(D<<22&4294967295|D>>>10),D=R+(k^w&(L^k))+V[4]+4118548399&4294967295,R=w+(D<<7&4294967295|D>>>25),D=k+(L^R&(w^L))+V[5]+1200080426&4294967295,k=R+(D<<12&4294967295|D>>>20),D=L+(w^k&(R^w))+V[6]+2821735955&4294967295,L=k+(D<<17&4294967295|D>>>15),D=w+(R^L&(k^R))+V[7]+4249261313&4294967295,w=L+(D<<22&4294967295|D>>>10),D=R+(k^w&(L^k))+V[8]+1770035416&4294967295,R=w+(D<<7&4294967295|D>>>25),D=k+(L^R&(w^L))+V[9]+2336552879&4294967295,k=R+(D<<12&4294967295|D>>>20),D=L+(w^k&(R^w))+V[10]+4294925233&4294967295,L=k+(D<<17&4294967295|D>>>15),D=w+(R^L&(k^R))+V[11]+2304563134&4294967295,w=L+(D<<22&4294967295|D>>>10),D=R+(k^w&(L^k))+V[12]+1804603682&4294967295,R=w+(D<<7&4294967295|D>>>25),D=k+(L^R&(w^L))+V[13]+4254626195&4294967295,k=R+(D<<12&4294967295|D>>>20),D=L+(w^k&(R^w))+V[14]+2792965006&4294967295,L=k+(D<<17&4294967295|D>>>15),D=w+(R^L&(k^R))+V[15]+1236535329&4294967295,w=L+(D<<22&4294967295|D>>>10),D=R+(L^k&(w^L))+V[1]+4129170786&4294967295,R=w+(D<<5&4294967295|D>>>27),D=k+(w^L&(R^w))+V[6]+3225465664&4294967295,k=R+(D<<9&4294967295|D>>>23),D=L+(R^w&(k^R))+V[11]+643717713&4294967295,L=k+(D<<14&4294967295|D>>>18),D=w+(k^R&(L^k))+V[0]+3921069994&4294967295,w=L+(D<<20&4294967295|D>>>12),D=R+(L^k&(w^L))+V[5]+3593408605&4294967295,R=w+(D<<5&4294967295|D>>>27),D=k+(w^L&(R^w))+V[10]+38016083&4294967295,k=R+(D<<9&4294967295|D>>>23),D=L+(R^w&(k^R))+V[15]+3634488961&4294967295,L=k+(D<<14&4294967295|D>>>18),D=w+(k^R&(L^k))+V[4]+3889429448&4294967295,w=L+(D<<20&4294967295|D>>>12),D=R+(L^k&(w^L))+V[9]+568446438&4294967295,R=w+(D<<5&4294967295|D>>>27),D=k+(w^L&(R^w))+V[14]+3275163606&4294967295,k=R+(D<<9&4294967295|D>>>23),D=L+(R^w&(k^R))+V[3]+4107603335&4294967295,L=k+(D<<14&4294967295|D>>>18),D=w+(k^R&(L^k))+V[8]+1163531501&4294967295,w=L+(D<<20&4294967295|D>>>12),D=R+(L^k&(w^L))+V[13]+2850285829&4294967295,R=w+(D<<5&4294967295|D>>>27),D=k+(w^L&(R^w))+V[2]+4243563512&4294967295,k=R+(D<<9&4294967295|D>>>23),D=L+(R^w&(k^R))+V[7]+1735328473&4294967295,L=k+(D<<14&4294967295|D>>>18),D=w+(k^R&(L^k))+V[12]+2368359562&4294967295,w=L+(D<<20&4294967295|D>>>12),D=R+(w^L^k)+V[5]+4294588738&4294967295,R=w+(D<<4&4294967295|D>>>28),D=k+(R^w^L)+V[8]+2272392833&4294967295,k=R+(D<<11&4294967295|D>>>21),D=L+(k^R^w)+V[11]+1839030562&4294967295,L=k+(D<<16&4294967295|D>>>16),D=w+(L^k^R)+V[14]+4259657740&4294967295,w=L+(D<<23&4294967295|D>>>9),D=R+(w^L^k)+V[1]+2763975236&4294967295,R=w+(D<<4&4294967295|D>>>28),D=k+(R^w^L)+V[4]+1272893353&4294967295,k=R+(D<<11&4294967295|D>>>21),D=L+(k^R^w)+V[7]+4139469664&4294967295,L=k+(D<<16&4294967295|D>>>16),D=w+(L^k^R)+V[10]+3200236656&4294967295,w=L+(D<<23&4294967295|D>>>9),D=R+(w^L^k)+V[13]+681279174&4294967295,R=w+(D<<4&4294967295|D>>>28),D=k+(R^w^L)+V[0]+3936430074&4294967295,k=R+(D<<11&4294967295|D>>>21),D=L+(k^R^w)+V[3]+3572445317&4294967295,L=k+(D<<16&4294967295|D>>>16),D=w+(L^k^R)+V[6]+76029189&4294967295,w=L+(D<<23&4294967295|D>>>9),D=R+(w^L^k)+V[9]+3654602809&4294967295,R=w+(D<<4&4294967295|D>>>28),D=k+(R^w^L)+V[12]+3873151461&4294967295,k=R+(D<<11&4294967295|D>>>21),D=L+(k^R^w)+V[15]+530742520&4294967295,L=k+(D<<16&4294967295|D>>>16),D=w+(L^k^R)+V[2]+3299628645&4294967295,w=L+(D<<23&4294967295|D>>>9),D=R+(L^(w|~k))+V[0]+4096336452&4294967295,R=w+(D<<6&4294967295|D>>>26),D=k+(w^(R|~L))+V[7]+1126891415&4294967295,k=R+(D<<10&4294967295|D>>>22),D=L+(R^(k|~w))+V[14]+2878612391&4294967295,L=k+(D<<15&4294967295|D>>>17),D=w+(k^(L|~R))+V[5]+4237533241&4294967295,w=L+(D<<21&4294967295|D>>>11),D=R+(L^(w|~k))+V[12]+1700485571&4294967295,R=w+(D<<6&4294967295|D>>>26),D=k+(w^(R|~L))+V[3]+2399980690&4294967295,k=R+(D<<10&4294967295|D>>>22),D=L+(R^(k|~w))+V[10]+4293915773&4294967295,L=k+(D<<15&4294967295|D>>>17),D=w+(k^(L|~R))+V[1]+2240044497&4294967295,w=L+(D<<21&4294967295|D>>>11),D=R+(L^(w|~k))+V[8]+1873313359&4294967295,R=w+(D<<6&4294967295|D>>>26),D=k+(w^(R|~L))+V[15]+4264355552&4294967295,k=R+(D<<10&4294967295|D>>>22),D=L+(R^(k|~w))+V[6]+2734768916&4294967295,L=k+(D<<15&4294967295|D>>>17),D=w+(k^(L|~R))+V[13]+1309151649&4294967295,w=L+(D<<21&4294967295|D>>>11),D=R+(L^(w|~k))+V[4]+4149444226&4294967295,R=w+(D<<6&4294967295|D>>>26),D=k+(w^(R|~L))+V[11]+3174756917&4294967295,k=R+(D<<10&4294967295|D>>>22),D=L+(R^(k|~w))+V[2]+718787259&4294967295,L=k+(D<<15&4294967295|D>>>17),D=w+(k^(L|~R))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+L&4294967295,O.g[3]=O.g[3]+k&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var w=R-this.blockSize,V=this.B,L=this.h,k=0;k<R;){if(L==0)for(;k<=w;)o(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<R;)if(V[L++]=O.charCodeAt(k++),L==this.blockSize){o(this,V),L=0;break}}else for(;k<R;)if(V[L++]=O[k++],L==this.blockSize){o(this,V),L=0;break}}this.h=L,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var w=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=w&255,w/=256;for(this.u(O),O=Array(16),R=w=0;4>R;++R)for(var V=0;32>V;V+=8)O[w++]=this.g[R]>>>V&255;return O};function c(O,R){var w=m;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=R(O)}function d(O,R){this.h=R;for(var w=[],V=!0,L=O.length-1;0<=L;L--){var k=O[L]|0;V&&k==R||(w[L]=k,V=!1)}this.g=w}var m={};function p(O){return-128<=O&&128>O?c(O,function(R){return new d([R|0],0>R?-1:0)}):new d([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return H(y(-O));for(var R=[],w=1,V=0;O>=w;V++)R[V]=O/w|0,w*=4294967296;return new d(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return H(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(R,8)),V=b,L=0;L<O.length;L+=8){var k=Math.min(8,O.length-L),D=parseInt(O.substring(L,L+k),R);8>k?(k=y(Math.pow(R,k)),V=V.j(k).add(y(D))):(V=V.j(w),V=V.add(y(D)))}return V}var b=p(0),S=p(1),x=p(16777216);a=d.prototype,a.m=function(){if(q(this))return-H(this).m();for(var O=0,R=1,w=0;w<this.g.length;w++){var V=this.i(w);O+=(0<=V?V:4294967296+V)*R,R*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(I(this))return"0";if(q(this))return"-"+H(this).toString(O);for(var R=y(Math.pow(O,6)),w=this,V="";;){var L=at(w,R).g;w=K(w,L.j(R));var k=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=L,I(w))return k+V;for(;6>k.length;)k="0"+k;V=k+V}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function I(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function q(O){return O.h==-1}a.l=function(O){return O=K(this,O),q(O)?-1:I(O)?0:1};function H(O){for(var R=O.g.length,w=[],V=0;V<R;V++)w[V]=~O.g[V];return new d(w,~O.h).add(S)}a.abs=function(){return q(this)?H(this):this},a.add=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],V=0,L=0;L<=R;L++){var k=V+(this.i(L)&65535)+(O.i(L)&65535),D=(k>>>16)+(this.i(L)>>>16)+(O.i(L)>>>16);V=D>>>16,k&=65535,D&=65535,w[L]=D<<16|k}return new d(w,w[w.length-1]&-2147483648?-1:0)};function K(O,R){return O.add(H(R))}a.j=function(O){if(I(this)||I(O))return b;if(q(this))return q(O)?H(this).j(H(O)):H(H(this).j(O));if(q(O))return H(this.j(H(O)));if(0>this.l(x)&&0>O.l(x))return y(this.m()*O.m());for(var R=this.g.length+O.g.length,w=[],V=0;V<2*R;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<O.g.length;L++){var k=this.i(V)>>>16,D=this.i(V)&65535,Me=O.i(L)>>>16,ae=O.i(L)&65535;w[2*V+2*L]+=D*ae,it(w,2*V+2*L),w[2*V+2*L+1]+=k*ae,it(w,2*V+2*L+1),w[2*V+2*L+1]+=D*Me,it(w,2*V+2*L+1),w[2*V+2*L+2]+=k*Me,it(w,2*V+2*L+2)}for(V=0;V<R;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=R;V<2*R;V++)w[V]=0;return new d(w,0)};function it(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function X(O,R){this.g=O,this.h=R}function at(O,R){if(I(R))throw Error("division by zero");if(I(O))return new X(b,b);if(q(O))return R=at(H(O),R),new X(H(R.g),H(R.h));if(q(R))return R=at(O,H(R)),new X(H(R.g),R.h);if(30<O.g.length){if(q(O)||q(R))throw Error("slowDivide_ only works with positive integers.");for(var w=S,V=R;0>=V.l(O);)w=st(w),V=st(V);var L=St(w,1),k=St(V,1);for(V=St(V,2),w=St(w,2);!I(V);){var D=k.add(V);0>=D.l(O)&&(L=L.add(w),k=D),V=St(V,1),w=St(w,1)}return R=K(O,L.j(R)),new X(L,R)}for(L=b;0<=O.l(R);){for(w=Math.max(1,Math.floor(O.m()/R.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),k=y(w),D=k.j(R);q(D)||0<D.l(O);)w-=V,k=y(w),D=k.j(R);I(k)&&(k=S),L=L.add(k),O=K(O,D)}return new X(L,O)}a.A=function(O){return at(this,O).h},a.and=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],V=0;V<R;V++)w[V]=this.i(V)&O.i(V);return new d(w,this.h&O.h)},a.or=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],V=0;V<R;V++)w[V]=this.i(V)|O.i(V);return new d(w,this.h|O.h)},a.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],V=0;V<R;V++)w[V]=this.i(V)^O.i(V);return new d(w,this.h^O.h)};function st(O){for(var R=O.g.length+1,w=[],V=0;V<R;V++)w[V]=O.i(V)<<1|O.i(V-1)>>>31;return new d(w,O.h)}function St(O,R){var w=R>>5;R%=32;for(var V=O.g.length-w,L=[],k=0;k<V;k++)L[k]=0<R?O.i(k+w)>>>R|O.i(k+w+1)<<32-R:O.i(k+w);return new d(L,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Lv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Er=d}).apply(typeof u_<"u"?u_:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pv,Zl,kv,ec,md,zv,jv,Bv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,g){if(g)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in _))break t;_=_[z]}u=u[u.length-1],A=_[u],g=g(A),g!=A&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var _=0,A=!1,z={next:function(){if(!A&&_<u.length){var Y=_++;return{value:g(Y,u[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function E(u,g,_){return u.call.apply(u.bind,arguments)}function b(u,g,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),u.apply(g,z)}}return function(){return u.apply(g,arguments)}}function S(u,g,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,S.apply(null,arguments)}function x(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function I(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,z,Y){for(var lt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)lt[Mt-2]=arguments[Mt];return g.prototype[z].apply(A,lt)}}function q(u){const g=u.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=u[A];return _}return[]}function H(u,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const z=u.length||0,Y=A.length||0;u.length=z+Y;for(let lt=0;lt<Y;lt++)u[z+lt]=A[lt]}else u.push(A)}}class K{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function it(u){return/^[\s\xa0]*$/.test(u)}function X(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function at(u){return at[" "](u),u}at[" "]=function(){};var st=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function St(u,g,_){for(const A in u)g.call(_,u[A],A,u)}function O(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function R(u){const g={};for(const _ in u)g[_]=u[_];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,g){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)u[_]=A[_];for(let Y=0;Y<w.length;Y++)_=w[Y],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function L(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function k(u){m.setTimeout(()=>{throw u},0)}function D(){var u=zt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Me{constructor(){this.h=this.g=null}add(g,_){const A=ae.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new K(()=>new $,u=>u.reset());class ${constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,mt=!1,zt=new Me,N=()=>{const u=m.Promise.resolve(void 0);ot=()=>{u.then(nt)}};var nt=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){k(_)}var g=ae;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}mt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return u}();function xt(u,g){if(rt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(st){t:{try{at(g.nodeName);var z=!0;break t}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xt.aa.h.call(this)}}I(xt,rt);var Tt={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Pn(u,g,_,A,z){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function ji(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function li(u){this.src=u,this.g={},this.h=0}li.prototype.add=function(u,g,_,A,z){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var lt=Mr(u,g,A,z);return-1<lt?(g=u[lt],_||(g.fa=!1)):(g=new Pn(g,this.src,Y,!!A,z),g.fa=_,u.push(g)),g};function Vr(u,g){var _=g.type;if(_ in u.g){var A=u.g[_],z=Array.prototype.indexOf.call(A,g,void 0),Y;(Y=0<=z)&&Array.prototype.splice.call(A,z,1),Y&&(ji(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Mr(u,g,_,A){for(var z=0;z<u.length;++z){var Y=u[z];if(!Y.da&&Y.listener==g&&Y.capture==!!_&&Y.ha==A)return z}return-1}var Or="closure_lm_"+(1e6*Math.random()|0),Ps={};function bo(u,g,_,A,z){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)bo(u,g[Y],_,A,z);return null}return _=So(_),u&&u[we]?u.K(g,_,y(A)?!!A.capture:!1,z):gn(u,g,_,!1,A,z)}function gn(u,g,_,A,z,Y){if(!g)throw Error("Invalid event type");var lt=y(z)?!!z.capture:!!z,Mt=Sa(u);if(Mt||(u[Or]=Mt=new li(u)),_=Mt.add(g,_,A,lt,Y),_.proxy)return _;if(A=Fc(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)pt||(z=lt),z===void 0&&(z=!1),u.addEventListener(g.toString(),A,z);else if(u.attachEvent)u.attachEvent(Ur(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Fc(){function u(_){return g.call(u.src,u.listener,_)}const g=Gc;return u}function ks(u,g,_,A,z){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)ks(u,g[Y],_,A,z);else A=y(A)?!!A.capture:!!A,_=So(_),u&&u[we]?(u=u.i,g=String(g).toString(),g in u.g&&(Y=u.g[g],_=Mr(Y,_,A,z),-1<_&&(ji(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete u.g[g],u.h--)))):u&&(u=Sa(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Mr(g,_,A,z)),(_=-1<u?g[u]:null)&&ba(_))}function ba(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[we])Vr(g.i,u);else{var _=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(_,A,u.capture):g.detachEvent?g.detachEvent(Ur(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=Sa(g))?(Vr(_,u),_.h==0&&(_.src=null,g[Or]=null)):ji(u)}}}function Ur(u){return u in Ps?Ps[u]:Ps[u]="on"+u}function Gc(u,g){if(u.da)u=!0;else{g=new xt(g,this);var _=u.listener,A=u.ha||u.src;u.fa&&ba(u),u=_.call(A,g)}return u}function Sa(u){return u=u[Or],u instanceof li?u:null}var zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function So(u){return typeof u=="function"?u:(u[zs]||(u[zs]=function(g){return u.handleEvent(g)}),u[zs])}function se(){ut.call(this),this.i=new li(this),this.M=this,this.F=null}I(se,ut),se.prototype[we]=!0,se.prototype.removeEventListener=function(u,g,_,A){ks(this,u,g,_,A)};function Ht(u,g){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new rt(g,u);else if(g instanceof rt)g.target=g.target||u;else{var z=g;g=new rt(A,u),V(g,z)}if(z=!0,_)for(var Y=_.length-1;0<=Y;Y--){var lt=g.g=_[Y];z=an(lt,A,!0,g)&&z}if(lt=g.g=u,z=an(lt,A,!0,g)&&z,z=an(lt,A,!1,g)&&z,_)for(Y=0;Y<_.length;Y++)lt=g.g=_[Y],z=an(lt,A,!1,g)&&z}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],A=0;A<_.length;A++)ji(_[A]);delete u.g[g],u.h--}}this.F=null},se.prototype.K=function(u,g,_,A){return this.i.add(String(u),g,!1,_,A)},se.prototype.L=function(u,g,_,A){return this.i.add(String(u),g,!0,_,A)};function an(u,g,_,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,Y=0;Y<g.length;++Y){var lt=g[Y];if(lt&&!lt.da&&lt.capture==_){var Mt=lt.listener,Ee=lt.ha||lt.src;lt.fa&&Vr(u.i,lt),z=Mt.call(Ee,A)!==!1&&z}}return z&&!A.defaultPrevented}function qe(u,g,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function Ro(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,Ro(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Qc extends ut{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ro(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(u){ut.call(this),this.h=u,this.g={}}I(Lr,ut);var Pr=[];function kr(u){St(u.g,function(g,_){this.g.hasOwnProperty(_)&&ba(g)},u),u.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),kr(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=m.JSON.stringify,Ra=m.JSON.parse,zr=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function js(){}js.prototype.h=null;function Bs(u){return u.h||(u.h=u.i())}function qs(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){rt.call(this,"d")}I(ui,rt);function Hs(){rt.call(this,"c")}I(Hs,rt);var kn={},Fs=null;function Bi(){return Fs=Fs||new se}kn.La="serverreachability";function wa(u){rt.call(this,kn.La,u)}I(wa,rt);function qi(u){const g=Bi();Ht(g,new wa(g))}kn.STAT_EVENT="statevent";function wo(u,g){rt.call(this,kn.STAT_EVENT,u),this.stat=g}I(wo,rt);function te(u){const g=Bi();Ht(g,new wo(g,u))}kn.Ma="timingevent";function ve(u,g){rt.call(this,kn.Ma,u),this.size=g}I(ve,rt);function de(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function Gs(u,g,_,A,z,Y){u.info(function(){if(u.g)if(Y)for(var lt="",Mt=Y.split("&"),Ee=0;Ee<Mt.length;Ee++){var Ot=Mt[Ee].split("=");if(1<Ot.length){var xe=Ot[0];Ot=Ot[1];var Te=xe.split("_");lt=2<=Te.length&&Te[1]=="type"?lt+(xe+"="+Ot+"&"):lt+(xe+"=redacted&")}}else lt=null;else lt=Y;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+_+`
`+lt})}function Kc(u,g,_,A,z,Y,lt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+_+`
`+Y+" "+lt})}function Hi(u,g,_,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+jr(u,_)+(A?" "+A:"")})}function Co(u,g){u.info(function(){return"TIMEOUT: "+g})}pn.prototype.info=function(){};function jr(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var Y=z[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var lt=1;lt<z.length;lt++)z[lt]=""}}}}return xn(_)}catch{return g}}var Fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function jn(){}I(jn,js),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},zn=new jn;function Ye(u,g,_,A){this.j=u,this.i=g,this.l=_,this.R=A||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var Qs={},Ca={};function Dn(u,g,_){u.L=1,u.v=Gr(sn(g)),u.m=_,u.P=!0,hi(u,null)}function hi(u,g){u.F=Date.now(),Br(u),u.A=sn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Js(_.i,"t",A),u.C=0,_=u.j.J,u.h=new ue,u.g=Ho(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Qc(S(u.Y,u,u.g),u.O)),g=u.U,_=u.g,A=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Pr[0]=z.toString()),z=Pr);for(var Y=0;Y<z.length;Y++){var lt=bo(_,z[Y],A||g.handleEvent,!1,g.h||g);if(!lt)break;g.g[lt.key]=lt}g=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),qi(),Gs(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const g=this.M;g&&En(u)==3?g.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const Te=En(this.g);var g=this.g.Ba();const vi=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Uo(this.g)))){this.J||Te!=4||g==7||(g==8||0>=vi?qi(3):qi(2)),Gi(this);var _=this.g.Z();this.X=_;e:if(xo(this)){var A=Uo(this.g);u="";var z=A.length,Y=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),Bn(this);var lt="";break e}this.h.i=new m.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(Y&&g==z-1)});A.length=0,this.h.g+=u,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=_==200,Kc(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Ee=this.g;if((Mt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(Mt)){var Ot=Mt;break e}}Ot=null}if(_=Ot)Hi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qr(this,_);else{this.o=!1,this.s=3,te(12),Oe(this),Bn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<lt.length;)if(Ue=Do(this,lt),Ue==Ca){Te==4&&(this.s=4,te(14),_=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Qs){this.s=4,te(15),Hi(this.i,this.l,lt,"[Invalid Chunk]"),_=!1;break}else Hi(this.i,this.l,Ue,null),qr(this,Ue);if(xo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||lt.length!=0||this.h.h||(this.s=1,te(16),_=!1),this.o=this.o&&_,!_)Hi(this.i,this.l,lt,"[Invalid Chunked Response]"),Oe(this),Bn(this);else if(0<lt.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),Wr(xe),xe.M=!0,te(11))}}else Hi(this.i,this.l,lt,null),qr(this,lt);Te==4&&Oe(this),this.o&&!this.J&&(Te==4?jo(this.j,this):(this.o=!1,Br(this)))}else Jc(this.g),_==400&&0<lt.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Oe(this),Bn(this)}}}catch{}finally{}};function xo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Do(u,g){var _=u.C,A=g.indexOf(`
`,_);return A==-1?Ca:(_=Number(g.substring(_,A)),isNaN(_)?Qs:(A+=1,A+_>g.length?Ca:(g=g.slice(A,A+_),u.C=A+_,g)))}Ye.prototype.cancel=function(){this.J=!0,Oe(this)};function Br(u){u.S=Date.now()+u.I,No(u,u.I)}function No(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(S(u.ba,u),g)}function Gi(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Co(this.i,this.A),this.L!=2&&(qi(),te(17)),Oe(this),this.s=2,Bn(this)):No(this,this.S-u)};function Bn(u){u.j.G==0||u.J||jo(u.j,u)}function Oe(u){Gi(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,kr(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function qr(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||Ks(_.h,u))){if(!u.K&&Ks(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)za(_),Pa(_);else break t;il(_),te(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=de(S(_.Za,_),6e3));if(1>=Da(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else _i(_,11)}else if((u.K||_.g==u)&&za(_),!it(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let Ot=z[g];if(_.T=Ot[0],Ot=Ot[1],_.G==2)if(Ot[0]=="c"){_.K=Ot[1],_.ia=Ot[2];const xe=Ot[3];xe!=null&&(_.la=xe,_.j.info("VER="+_.la));const Te=Ot[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const vi=Ot[5];vi!=null&&typeof vi=="number"&&0<vi&&(A=1.5*vi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=u.g;if(Ue){const Yn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var Y=A.h;Y.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Na(Y,Y.h),Y.h=null))}if(A.D){const al=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(A.ya=al,Qt(A.I,A.D,al))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var lt=u;if(A.qa=qo(A,A.J?A.ia:null,A.W),lt.K){Xe(A.h,lt);var Mt=lt,Ee=A.L;Ee&&(Mt.I=Ee),Mt.B&&(Gi(Mt),Br(Mt)),A.g=lt}else ko(A);0<_.i.length&&ka(_)}else Ot[0]!="stop"&&Ot[0]!="close"||_i(_,7);else _.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?_i(_,7):el(_):Ot[0]!="noop"&&_.l&&_.l.ta(Ot),_.v=0)}}qi(4)}catch{}}var Io=class{constructor(u,g){this.g=u,this.map=g}};function fi(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Da(u){return u.h?1:u.g?u.g.size:0}function Ks(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Na(u,g){u.g?u.g.add(g):u.h=g}function Xe(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}fi.prototype.cancel=function(){if(this.i=Ys(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ys(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return q(u.i)}function Yc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],_=u.length,A=0;A<_;A++)g.push(u[A]);return g}g=[],_=0;for(A in u)g[_++]=u[A];return g}function Ia(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const A in u)g[_++]=A;return g}}}function Xs(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Ia(u),A=Yc(u),z=A.length,Y=0;Y<z;Y++)g.call(void 0,A[Y],_&&_[Y],u)}var Hr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xc(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),z=null;if(0<=A){var Y=u[_].substring(0,A);z=u[_].substring(A+1)}else Y=u[_];g(Y,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Fr(this,u.j),this.o=u.o,this.g=u.g,Qi(this,u.s),this.l=u.l;var g=u.i,_=new mi;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),di(this,_),this.m=u.m}else u&&(g=String(u).match(Hr))?(this.h=!1,Fr(this,g[1]||"",!0),this.o=yn(g[2]||""),this.g=yn(g[3]||"",!0),Qi(this,g[4]),this.l=yn(g[5]||"",!0),di(this,g[6]||"",!0),this.m=yn(g[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}me.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Qr(g,$s,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Qr(g,$s,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Qr(_,_.charAt(0)=="/"?$c:Zs,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Qr(_,Va)),u.join("")};function sn(u){return new me(u)}function Fr(u,g,_){u.j=_?yn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Qi(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function di(u,g,_){g instanceof mi?(u.i=g,Mo(u.i,u.h)):(_||(g=Qr(g,Zc)),u.i=new mi(g,u.h))}function Qt(u,g,_){u.i.set(g,_)}function Gr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qr(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Vo),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Vo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $s=/[#\/\?@]/g,Zs=/[#\?:]/g,$c=/[#\?]/g,Zc=/[#\?@]/g,Va=/#/g;function mi(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Xc(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}a=mi.prototype,a.add=function(u,g){_n(this),this.i=null,u=qn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function gi(u,g){_n(u),g=qn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function pi(u,g){return _n(u),g=qn(u,g),u.g.has(g)}a.forEach=function(u,g){_n(this),this.g.forEach(function(_,A){_.forEach(function(z){u.call(g,z,A,this)},this)},this)},a.na=function(){_n(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const z=u[A];for(let Y=0;Y<z.length;Y++)_.push(g[A])}return _},a.V=function(u){_n(this);let g=[];if(typeof u=="string")pi(this,u)&&(g=g.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},a.set=function(u,g){return _n(this),this.i=null,u=qn(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},a.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Js(u,g,_){gi(u,g),0<_.length&&(u.i=null,u.g.set(qn(u,g),q(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const Y=encodeURIComponent(String(A)),lt=this.V(A);for(A=0;A<lt.length;A++){var z=Y;lt[A]!==""&&(z+="="+encodeURIComponent(String(lt[A]))),u.push(z)}}return this.i=u.join("&")};function qn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Mo(u,g){g&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(gi(this,A),Js(this,z,_))},u)),u.j=g}function Kr(u,g){const _=new pn;if(m.Image){const A=new Image;A.onload=x(vn,_,"TestLoadImage: loaded",!0,g,A),A.onerror=x(vn,_,"TestLoadImage: error",!1,g,A),A.onabort=x(vn,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=x(vn,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function Nn(u,g){const _=new pn,A=new AbortController,z=setTimeout(()=>{A.abort(),vn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(Y=>{clearTimeout(z),Y.ok?vn(_,"TestPingServer: ok",!0,g):vn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),vn(_,"TestPingServer: error",!1,g)})}function vn(u,g,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function Yr(){this.g=new zr}function Hn(u,g,_){const A=_||"";try{Xs(u,function(z,Y){let lt=z;y(z)&&(lt=xn(z)),g.push(A+Y+"="+encodeURIComponent(lt))})}catch(z){throw g.push(A+"type="+encodeURIComponent("_badmap")),z}}function Ki(u){this.l=u.Ub||null,this.j=u.eb||!1}I(Ki,js),Ki.prototype.g=function(){return new yi(this.l,this.j)},Ki.prototype.i=function(u){return function(){return u}}({});function yi(u,g){se.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(yi,se),a=yi.prototype,a.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Gn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ws(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ws(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Fn(this):Gn(this),this.readyState==3&&Ws(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},a.Qa=function(u){this.g&&(this.response=u,Fn(this))},a.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}a.setRequestHeader=function(u,g){this.u.append(u,g)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function tl(u){let g="";return St(u,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Ce(u,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=tl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Qt(u,g,_))}function Bt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Bt,se);var Ma=/^https?$/i,Xr=["POST","PUT"];a=Bt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Bs(this.o):Bs(zn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(Y){Oo(this,Y);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())_.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Xr,g,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,lt]of _)this.g.setRequestHeader(Y,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$r(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){Oo(this,Y)}};function Oo(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Oa(u),Qn(u)}function Oa(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Qn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),Bt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},a.bb=function(){Ua(this)};function Ua(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)qe(u.Ea,0,u);else if(Ht(u,"readystatechange"),En(u)==4){u.h=!1;try{const lt=u.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=lt===0){var z=String(u.D).match(Hr)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!Ma.test(z?z.toLowerCase():"")}_=A}if(_)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var Y=2<En(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",Oa(u)}}finally{Qn(u)}}}}function Qn(u,g){if(u.g){$r(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ht(u,"ready");try{_.onreadystatechange=A}catch{}}}function $r(u){u.I&&(m.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Ra(g)}};function Uo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Jc(u){const g={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(it(u[A]))continue;var _=L(u[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=g[z]||[];g[z]=Y,Y.push(_)}O(g,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function La(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zr("baseRetryDelayMs",5e3,u),this.cb=Zr("retryDelaySeedMs",1e4,u),this.Wa=Zr("forwardChannelMaxRetries",2,u),this.wa=Zr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(u&&u.concurrentRequestLimit),this.Da=new Yr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=La.prototype,a.la=8,a.G=1,a.connect=function(u,g,_,A){te(0),this.W=u,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=qo(this,null,this.W),ka(this)};function el(u){if(Lo(u),u.G==3){var g=u.U++,_=sn(u.I);if(Qt(_,"SID",u.K),Qt(_,"RID",g),Qt(_,"TYPE","terminate"),Jr(u,_),g=new Ye(u,u.j,g),g.L=2,g.v=Gr(sn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Ho(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Br(g)}Bo(u)}function Pa(u){u.g&&(Wr(u),u.g.cancel(),u.g=null)}function Lo(u){Pa(u),u.u&&(m.clearTimeout(u.u),u.u=null),za(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function ka(u){if(!xa(u.h)&&!u.s){u.s=!0;var g=u.Ga;ot||N(),mt||(ot(),mt=!0),zt.add(g,u),u.B=0}}function Wc(u,g){return Da(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(S(u.Ga,u,g),rl(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Ye(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=R(Y),V(Y,this.S)):Y=this.S),this.m!==null||this.O||(z.H=Y,Y=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=Po(this,z,g),_=sn(this.I),Qt(_,"RID",u),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),Jr(this,_),Y&&(this.O?g="headers="+encodeURIComponent(String(tl(Y)))+"&"+g:this.m&&Ce(_,this.m,Y)),Na(this.h,z),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",g),Qt(_,"SID","null"),z.T=!0,Dn(z,_,null)):Dn(z,_,g),this.G=2}}else this.G==3&&(u?nl(this,u):this.i.length==0||xa(this.h)||nl(this))};function nl(u,g){var _;g?_=g.l:_=u.U++;const A=sn(u.I);Qt(A,"SID",u.K),Qt(A,"RID",_),Qt(A,"AID",u.T),Jr(u,A),u.m&&u.o&&Ce(A,u.m,u.o),_=new Ye(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Po(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Na(u.h,_),Dn(_,A,g)}function Jr(u,g){u.H&&St(u.H,function(_,A){Qt(g,A,_)}),u.l&&Xs({},function(_,A){Qt(g,A,_)})}function Po(u,g,_){_=Math.min(u.i.length,_);var A=u.l?S(u.l.Na,u.l,u):null;t:{var z=u.i;let Y=-1;for(;;){const lt=["count="+_];Y==-1?0<_?(Y=z[0].g,lt.push("ofs="+Y)):Y=0:lt.push("ofs="+Y);let Mt=!0;for(let Ee=0;Ee<_;Ee++){let Ot=z[Ee].g;const xe=z[Ee].map;if(Ot-=Y,0>Ot)Y=Math.max(0,z[Ee].g-100),Mt=!1;else try{Hn(xe,lt,"req"+Ot+"_")}catch{A&&A(xe)}}if(Mt){A=lt.join("&");break t}}}return u=u.i.splice(0,_),g.D=u,A}function ko(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ot||N(),mt||(ot(),mt=!0),zt.add(g,u),u.v=0}}function il(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(S(u.Fa,u),rl(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,zo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(S(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Pa(this),zo(this))};function Wr(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function zo(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=sn(u.qa);Qt(g,"RID","rpc"),Qt(g,"SID",u.K),Qt(g,"AID",u.T),Qt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(g,"TO",u.ja),Qt(g,"TYPE","xmlhttp"),Jr(u,g),u.m&&u.o&&Ce(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Gr(sn(g)),_.m=null,_.P=!0,hi(_,u)}a.Za=function(){this.C!=null&&(this.C=null,Pa(this),il(this),te(19))};function za(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function jo(u,g){var _=null;if(u.g==g){za(u),Wr(u),u.g=null;var A=2}else if(Ks(u.h,g))_=g.D,Xe(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=u.B;A=Bi(),Ht(A,new ve(A,_)),ka(u)}else ko(u);else if(z=g.s,z==3||z==0&&0<g.X||!(A==1&&Wc(u,g)||A==2&&il(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),z){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function rl(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function _i(u,g){if(u.j.info("Error code "+g),g==2){var _=S(u.fb,u),A=u.Xa;const z=!A;A=new me(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Fr(A,"https"),Gr(A),z?Kr(A.toString(),_):Nn(A.toString(),_)}else te(2);u.G=0,u.l&&u.l.sa(g),Bo(u),Lo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Bo(u){if(u.G=0,u.ka=[],u.l){const g=Ys(u.h);(g.length!=0||u.i.length!=0)&&(H(u.ka,g),H(u.ka,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.ra()}}function qo(u,g,_){var A=_ instanceof me?sn(_):new me(_);if(A.g!="")g&&(A.g=g+"."+A.g),Qi(A,A.s);else{var z=m.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var Y=new me(null);A&&Fr(Y,A),g&&(Y.g=g),z&&Qi(Y,z),_&&(Y.l=_),A=Y}return _=u.D,g=u.ya,_&&g&&Qt(A,_,g),Qt(A,"VER",u.la),Jr(u,A),A}function Ho(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Bt(new Ki({eb:_})):new Bt(u.pa),g.Ha(u.J),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fo(){}a=Fo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function ja(){}ja.prototype.g=function(u,g){return new $e(u,g)};function $e(u,g){se.call(this),this.g=new La(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!it(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!it(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Kn(this)}I($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){el(this.g)},$e.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=xn(u),u=_);g.i.push(new Io(g.Ya++,u)),g.G==3&&ka(g)},$e.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,$e.aa.N.call(this)};function Go(u){ui.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const _ in g){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}I(Go,ui);function Qo(){Hs.call(this),this.status=1}I(Qo,Hs);function Kn(u){this.g=u}I(Kn,Fo),Kn.prototype.ua=function(){Ht(this.g,"a")},Kn.prototype.ta=function(u){Ht(this.g,new Go(u))},Kn.prototype.sa=function(u){Ht(this.g,new Qo)},Kn.prototype.ra=function(){Ht(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,Bv=function(){return new ja},jv=function(){return Bi()},zv=kn,md={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,ec=Fi,ci.COMPLETE="complete",kv=ci,qs.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",se.prototype.listen=se.prototype.K,Zl=qs,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,Pv=Bt}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const c_="@firebase/firestore",h_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ms="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new Iv("@firebase/firestore");function gs(){return _a.logLevel}function ct(a,...e){if(_a.logLevel<=Pt.DEBUG){const i=e.map(Hd);_a.debug(`Firestore (${Ms}): ${a}`,...i)}}function Pi(a,...e){if(_a.logLevel<=Pt.ERROR){const i=e.map(Hd);_a.error(`Firestore (${Ms}): ${a}`,...i)}}function Ts(a,...e){if(_a.logLevel<=Pt.WARN){const i=e.map(Hd);_a.warn(`Firestore (${Ms}): ${a}`,...i)}}function Hd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(a="Unexpected state"){const e=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: `+a;throw Pi(e),new Error(e)}function qt(a,e){a||Et()}function bt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class s1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class l1{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Tr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Tr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string"),new qv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new Qe(e)}}class o1{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class u1{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new o1(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c1{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,FS(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0);const s=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new f_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string"),this.R=i.token,new f_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=h1(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Ct(a,e){return a<e?-1:a>e?1:0}function gd(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const c=Hv(),d=f1(c.encode(d_(a,i)),c.encode(d_(e,i)));return d!==0?d:Ct(s,o)}}i+=s>65535?2:1}return Ct(a.length,e.length)}function d_(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function f1(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return Ct(a[i],e[i]);return Ct(a.length,e.length)}function As(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=-62135596800,g_=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*g_);return new Se(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ft(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<m_)throw new ft(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g_}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-m_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new Se(0,0))}static max(){return new At(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="__name__";class ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&Et(),s===void 0?s=e.length-i:s>e.length-i&&Et(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=ti.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ct(e.length,i.length)}static compareSegments(e,i){const s=ti.isNumericId(e),o=ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):gd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class Wt extends ti{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ft(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const d1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends ti{construct(e,i,s){return new je(e,i,s)}static isValidIdentifier(e){return d1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p_}static keyField(){return new je([p_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ft(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ft(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ft(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(s+=m,o++):(c(),o++)}if(c(),d)throw new ft(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Wt.fromString(e))}static fromName(e){return new gt(Wt.fromString(e).popFirst(5))}static empty(){return new gt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=-1;function m1(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new Se(i+1,0):new Se(i,s));return new br(o,gt.empty(),e)}function g1(a){return new br(a.readTime,a.key,oo)}class br{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new br(At.min(),gt.empty(),oo)}static max(){return new br(At.max(),gt.empty(),oo)}}function p1(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,e.documentKey),i!==0?i:Ct(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(a){if(a.code!==et.FAILED_PRECONDITION||a.message!==y1)throw a;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new tt((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):tt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):tt.reject(i)}static resolve(e){return new tt((i,s)=>{i(e)})}static reject(e){return new tt((i,s)=>{s(e)})}static waitFor(e){return new tt((i,s)=>{let o=0,c=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&i()},p=>s(p))}),d=!0,c===o&&i()})}static or(e){let i=tt.resolve(!1);for(const s of e)i=i.next(o=>o?tt.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new tt((s,o)=>{const c=e.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next(E=>{d[y]=E,++m,m===c&&s(d)},E=>o(E))}})}static doWhile(e,i){return new tt((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function v1(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Us(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}xc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=-1;function Dc(a){return a==null}function fc(a){return a===0&&1/a==-1/0}function E1(a){return typeof a=="number"&&Number.isInteger(a)&&!fc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="";function T1(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=y_(e)),e=A1(a.get(i),e);return y_(e)}function A1(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case Gv:i+="";break;default:i+=c}}return i}function y_(a){return a+Gv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Dr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Qv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new ze(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(e,i,s,o,c){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new v_(this.data.getIterator())}getIteratorFrom(e){return new v_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class v_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(je.comparator)}static empty(){return new mn([])}unionWith(e){let i=new Re(je.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Kv("Invalid base64 string: "+c):c}}(e);return new Be(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const b1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(a){if(qt(!!a),typeof a=="string"){let e=0;const i=b1.exec(a);if(qt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Rr(a){return typeof a=="string"?Be.fromBase64String(a):Be.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="server_timestamp",Xv="__type__",$v="__previous_value__",Zv="__local_write_time__";function Gd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xv])===null||i===void 0?void 0:i.stringValue)===Yv}function Nc(a){const e=a.mapValue.fields[$v];return Gd(e)?Nc(e):e}function uo(a){const e=Sr(a.mapValue.fields[Zv].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,i,s,o,c,d,m,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const dc="(default)";class co{constructor(e,i){this.projectId=e,this.database=i||dc}static empty(){return new co("","")}get isDefaultDatabase(){return this.database===dc}isEqual(e){return e instanceof co&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="__type__",R1="__max__",$u={mapValue:{}},Wv="__vector__",mc="value";function wr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Gd(a)?4:C1(a)?9007199254740991:w1(a)?10:11:Et()}function ai(a,e){if(a===e)return!0;const i=wr(a);if(i!==wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return uo(a).isEqual(uo(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Sr(o.timestampValue),m=Sr(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,c){return Rr(o.bytesValue).isEqual(Rr(c.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,c){return fe(o.geoPointValue.latitude)===fe(c.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(c.geoPointValue.longitude)}(a,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return fe(o.integerValue)===fe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=fe(o.doubleValue),m=fe(c.doubleValue);return d===m?fc(d)===fc(m):isNaN(d)&&isNaN(m)}return!1}(a,e);case 9:return As(a.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(__(d)!==__(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!ai(d[p],m[p])))return!1;return!0}(a,e);default:return Et()}}function ho(a,e){return(a.values||[]).find(i=>ai(i,e))!==void 0}function bs(a,e){if(a===e)return 0;const i=wr(a),s=wr(e);if(i!==s)return Ct(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(a.booleanValue,e.booleanValue);case 2:return function(c,d){const m=fe(c.integerValue||c.doubleValue),p=fe(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(a,e);case 3:return E_(a.timestampValue,e.timestampValue);case 4:return E_(uo(a),uo(e));case 5:return gd(a.stringValue,e.stringValue);case 6:return function(c,d){const m=Rr(c),p=Rr(d);return m.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ct(m[y],p[y]);if(E!==0)return E}return Ct(m.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(c,d){const m=Ct(fe(c.latitude),fe(d.latitude));return m!==0?m:Ct(fe(c.longitude),fe(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return T_(a.arrayValue,e.arrayValue);case 10:return function(c,d){var m,p,y,E;const b=c.fields||{},S=d.fields||{},x=(m=b[mc])===null||m===void 0?void 0:m.arrayValue,I=(p=S[mc])===null||p===void 0?void 0:p.arrayValue,q=Ct(((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0,((E=I==null?void 0:I.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:T_(x,I)}(a.mapValue,e.mapValue);case 11:return function(c,d){if(c===$u.mapValue&&d===$u.mapValue)return 0;if(c===$u.mapValue)return 1;if(d===$u.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const S=gd(p[b],E[b]);if(S!==0)return S;const x=bs(m[p[b]],y[E[b]]);if(x!==0)return x}return Ct(p.length,E.length)}(a.mapValue,e.mapValue);default:throw Et()}}function E_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ct(a,e);const i=Sr(a),s=Sr(e),o=Ct(i.seconds,s.seconds);return o!==0?o:Ct(i.nanos,s.nanos)}function T_(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=bs(i[o],s[o]);if(c)return c}return Ct(i.length,s.length)}function Ss(a){return pd(a)}function pd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Sr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Rr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return gt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=pd(c);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${pd(i.fields[d])}`;return o+"}"}(a.mapValue):Et()}function nc(a){switch(wr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nc(a);return e?16+nc(e):16;case 5:return 2*a.stringValue.length;case 6:return Rr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+nc(c),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Dr(s.fields,(c,d)=>{o+=c.length+nc(d)}),o}(a.mapValue);default:throw Et()}}function A_(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function yd(a){return!!a&&"integerValue"in a}function Qd(a){return!!a&&"arrayValue"in a}function b_(a){return!!a&&"nullValue"in a}function S_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function ic(a){return!!a&&"mapValue"in a}function w1(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Jv])===null||i===void 0?void 0:i.stringValue)===Wv}function eo(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Dr(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=eo(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=eo(a.arrayValue.values[i]);return e}return Object.assign({},a)}function C1(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===R1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!ic(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=eo(i)}setAll(e){let i=je.emptyPath(),s={},o=[];e.forEach((d,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=m.popLast()}d?s[m.lastSegment()]=eo(d):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());ic(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];ic(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Dr(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new nn(eo(this.value))}}function t0(a){const e=[];return Dr(a.fields,(i,s)=>{const o=new je([i]);if(ic(s)){const c=t0(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,c,d,m){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Ke(e,0,At.min(),At.min(),At.min(),nn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,At.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,At.min(),At.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,At.min(),At.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i){this.position=e,this.inclusive=i}}function R_(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const c=e[o],d=a.position[o];if(c.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=bs(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function w_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ai(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i="asc"){this.field=e,this.dir=i}}function x1(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{}class _e extends e0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new N1(e,i,s):i==="array-contains"?new M1(e,s):i==="in"?new O1(e,s):i==="not-in"?new U1(e,s):i==="array-contains-any"?new L1(e,s):new _e(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new I1(e,s):new V1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(bs(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(bs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends e0{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new Un(e,i)}matches(e){return n0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function n0(a){return a.op==="and"}function i0(a){return D1(a)&&n0(a)}function D1(a){for(const e of a.filters)if(e instanceof Un)return!1;return!0}function _d(a){if(a instanceof _e)return a.field.canonicalString()+a.op.toString()+Ss(a.value);if(i0(a))return a.filters.map(e=>_d(e)).join(",");{const e=a.filters.map(i=>_d(i)).join(",");return`${a.op}(${e})`}}function r0(a,e){return a instanceof _e?function(s,o){return o instanceof _e&&s.op===o.op&&s.field.isEqual(o.field)&&ai(s.value,o.value)}(a,e):a instanceof Un?function(s,o){return o instanceof Un&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,m)=>c&&r0(d,o.filters[m]),!0):!1}(a,e):void Et()}function a0(a){return a instanceof _e?function(i){return`${i.field.canonicalString()} ${i.op} ${Ss(i.value)}`}(a):a instanceof Un?function(i){return i.op.toString()+" {"+i.getFilters().map(a0).join(" ,")+"}"}(a):"Filter"}class N1 extends _e{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class I1 extends _e{constructor(e,i){super(e,"in",i),this.keys=s0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class V1 extends _e{constructor(e,i){super(e,"not-in",i),this.keys=s0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function s0(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class M1 extends _e{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Qd(i)&&ho(i.arrayValue,this.value)}}class O1 extends _e{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ho(this.value.arrayValue,i)}}class U1 extends _e{constructor(e,i){super(e,"not-in",i)}matches(e){if(ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!ho(this.value.arrayValue,i)}}class L1 extends _e{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Qd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>ho(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,i=null,s=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.le=null}}function C_(a,e=null,i=[],s=[],o=null,c=null,d=null){return new P1(a,e,i,s,o,c,d)}function Kd(a){const e=bt(a);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>_d(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Dc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ss(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ss(s)).join(",")),e.le=i}return e.le}function Yd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!x1(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!r0(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!w_(a.startAt,e.startAt)&&w_(a.endAt,e.endAt)}function vd(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,i=null,s=[],o=[],c=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function k1(a,e,i,s,o,c,d,m){return new yo(a,e,i,s,o,c,d,m)}function Xd(a){return new yo(a)}function x_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function l0(a){return a.collectionGroup!==null}function no(a){const e=bt(a);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Re(je.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new pc(c,s))}),i.has(je.keyField().canonicalString())||e.he.push(new pc(je.keyField(),s))}return e.he}function ei(a){const e=bt(a);return e.Pe||(e.Pe=z1(e,no(a))),e.Pe}function z1(a,e){if(a.limitType==="F")return C_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new pc(o.field,c)});const i=a.endAt?new gc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new gc(a.startAt.position,a.startAt.inclusive):null;return C_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Ed(a,e){const i=a.filters.concat([e]);return new yo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Td(a,e,i){return new yo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Ic(a,e){return Yd(ei(a),ei(e))&&a.limitType===e.limitType}function o0(a){return`${Kd(ei(a))}|lt:${a.limitType}`}function ps(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>a0(o)).join(", ")}]`),Dc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ss(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ss(o)).join(",")),`Target(${s})`}(ei(a))}; limitType=${a.limitType})`}function Vc(a,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):gt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(a,e)&&function(s,o){for(const c of no(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,m,p){const y=R_(d,m,p);return d.inclusive?y<=0:y<0}(s.startAt,no(s),o)||s.endAt&&!function(d,m,p){const y=R_(d,m,p);return d.inclusive?y>=0:y>0}(s.endAt,no(s),o))}(a,e)}function j1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function u0(a){return(e,i)=>{let s=!1;for(const o of no(a)){const c=B1(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function B1(a,e,i){const s=a.field.isKeyField()?gt.comparator(e.key,i.key):function(c,d,m){const p=d.data.field(c),y=m.data.field(c);return p!==null&&y!==null?bs(p,y):Et()}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Dr(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return Qv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=new re(gt.comparator);function ki(){return q1}const c0=new re(gt.comparator);function Jl(...a){let e=c0;for(const i of a)e=e.insert(i.key,i);return e}function h0(a){let e=c0;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ya(){return io()}function f0(){return io()}function io(){return new Ea(a=>a.toString(),(a,e)=>a.isEqual(e))}const H1=new re(gt.comparator),F1=new Re(gt.comparator);function Vt(...a){let e=F1;for(const i of a)e=e.add(i);return e}const G1=new Re(Ct);function Q1(){return G1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function d0(a){return{integerValue:""+a}}function K1(a,e){return E1(e)?d0(e):$d(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this._=void 0}}function Y1(a,e,i){return a instanceof yc?function(o,c){const d={fields:{[Xv]:{stringValue:Yv},[Zv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Gd(c)&&(c=Nc(c)),c&&(d.fields[$v]=c),{mapValue:d}}(i,e):a instanceof fo?g0(a,e):a instanceof mo?p0(a,e):function(o,c){const d=m0(o,c),m=D_(d)+D_(o.Ie);return yd(d)&&yd(o.Ie)?d0(m):$d(o.serializer,m)}(a,e)}function X1(a,e,i){return a instanceof fo?g0(a,e):a instanceof mo?p0(a,e):i}function m0(a,e){return a instanceof _c?function(s){return yd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class yc extends Mc{}class fo extends Mc{constructor(e){super(),this.elements=e}}function g0(a,e){const i=y0(e);for(const s of a.elements)i.some(o=>ai(o,s))||i.push(s);return{arrayValue:{values:i}}}class mo extends Mc{constructor(e){super(),this.elements=e}}function p0(a,e){let i=y0(e);for(const s of a.elements)i=i.filter(o=>!ai(o,s));return{arrayValue:{values:i}}}class _c extends Mc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function D_(a){return fe(a.integerValue||a.doubleValue)}function y0(a){return Qd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function $1(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof fo&&o instanceof fo||s instanceof mo&&o instanceof mo?As(s.elements,o.elements,ai):s instanceof _c&&o instanceof _c?ai(s.Ie,o.Ie):s instanceof yc&&o instanceof yc}(a.transform,e.transform)}class Z1{constructor(e,i){this.version=e,this.transformResults=i}}class ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Oc{}function _0(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new E0(a.key,ni.none()):new _o(a.key,a.data,ni.none());{const i=a.data,s=nn.empty();let o=new Re(je.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Nr(a.key,s,new mn(o.toArray()),ni.none())}}function J1(a,e,i){a instanceof _o?function(o,c,d){const m=o.value.clone(),p=I_(o.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(a,e,i):a instanceof Nr?function(o,c,d){if(!rc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=I_(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(v0(o)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function ro(a,e,i,s){return a instanceof _o?function(c,d,m,p){if(!rc(c.precondition,d))return m;const y=c.value.clone(),E=V_(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,e,i,s):a instanceof Nr?function(c,d,m,p){if(!rc(c.precondition,d))return m;const y=V_(c.fieldTransforms,p,d),E=d.data;return E.setAll(v0(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(a,e,i,s):function(c,d,m){return rc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(a,e,i)}function W1(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),c=m0(s.transform,o||null);c!=null&&(i===null&&(i=nn.empty()),i.set(s.field,c))}return i||null}function N_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&As(s,o,(c,d)=>$1(c,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class _o extends Oc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Nr extends Oc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function v0(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function I_(a,e,i){const s=new Map;qt(a.length===i.length);for(let o=0;o<i.length;o++){const c=a[o],d=c.transform,m=e.data.field(c.field);s.set(c.field,X1(d,m,i[o]))}return s}function V_(a,e,i){const s=new Map;for(const o of a){const c=o.transform,d=i.data.field(o.field);s.set(o.field,Y1(c,d,e))}return s}class E0 extends Oc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tR extends Oc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&J1(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=ro(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=ro(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=f0();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=i.has(o.key)?null:m;const p=_0(d,m);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,(i,s)=>N_(i,s))&&As(this.baseMutations,e.baseMutations,(i,s)=>N_(i,s))}}class Zd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){qt(e.mutations.length===s.length);let o=function(){return H1}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Zd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Lt;function rR(a){switch(a){case et.OK:return Et();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Et()}}function T0(a){if(a===void 0)return Pi("GRPC error has no .code"),et.UNKNOWN;switch(a){case ye.OK:return et.OK;case ye.CANCELLED:return et.CANCELLED;case ye.UNKNOWN:return et.UNKNOWN;case ye.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case ye.INTERNAL:return et.INTERNAL;case ye.UNAVAILABLE:return et.UNAVAILABLE;case ye.UNAUTHENTICATED:return et.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case ye.NOT_FOUND:return et.NOT_FOUND;case ye.ALREADY_EXISTS:return et.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return et.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case ye.ABORTED:return et.ABORTED;case ye.OUT_OF_RANGE:return et.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return et.UNIMPLEMENTED;case ye.DATA_LOSS:return et.DATA_LOSS;default:return Et()}}(Lt=ye||(ye={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new Er([4294967295,4294967295],0);function M_(a){const e=Hv().encode(a),i=new Lv;return i.update(e),new Uint8Array(i.digest())}function O_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Er([i,s],0),new Er([o,c],0)]}class Jd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Wl(`Invalid padding: ${i}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Er.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Er.fromNumber(s)));return o.compare(aR)===1&&(o=new Er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=M_(e),[s,o]=O_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Jd(c,o,i);return s.forEach(m=>d.insert(m)),d}insert(e){if(this.Ee===0)return;const i=M_(e),[s,o]=O_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,vo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Uc(At.min(),o,new re(Ct),ki(),Vt())}}class vo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new vo(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class A0{constructor(e,i){this.targetId=e,this.ge=i}}class b0{constructor(e,i,s=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class U_{constructor(){this.pe=0,this.ye=L_(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Vt(),i=Vt(),s=Vt();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Et()}}),new vo(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=L_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class sR{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ki(),this.$e=Zu(),this.Ue=Zu(),this.Ke=new re(Ct)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:Et()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const c=o.target;if(vd(c))if(s===0){const d=new gt(c.path);this.ze(i,d,Ke.newNoDocument(d,At.min()))}else qt(s===1);else{const d=this.et(i);if(d!==s){const m=this.tt(e),p=m?this.nt(m,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,m;try{d=Rr(s).toUint8Array()}catch(p){if(p instanceof Kv)return Ts("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Jd(d,o,c)}catch(p){return Ts(p instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.ke.it(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.ze(i,c,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((c,d)=>{const m=this.Xe(d);if(m){if(c.current&&vd(m.target)){const p=new gt(m.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ke.newNoDocument(p,e))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=Vt();this.Ue.forEach((c,d)=>{let m=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const o=new Uc(e,i,this.Ke,this.Qe,s);return this.Qe=ki(),this.$e=Zu(),this.Ue=Zu(),this.Ke=new re(Ct),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new U_,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new Re(Ct),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Re(Ct),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new U_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Zu(){return new re(gt.comparator)}function L_(){return new re(gt.comparator)}const lR={asc:"ASCENDING",desc:"DESCENDING"},oR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uR={and:"AND",or:"OR"};class cR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Ad(a,e){return a.useProto3Json||Dc(e)?e:{value:e}}function vc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S0(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function hR(a,e){return vc(a,e.toTimestamp())}function ii(a){return qt(!!a),At.fromTimestamp(function(i){const s=Sr(i);return new Se(s.seconds,s.nanos)}(a))}function Wd(a,e){return bd(a,e).canonicalString()}function bd(a,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function R0(a){const e=Wt.fromString(a);return qt(N0(e)),e}function Sd(a,e){return Wd(a.databaseId,e.path)}function id(a,e){const i=R0(e);if(i.get(1)!==a.databaseId.projectId)throw new ft(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ft(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(C0(i))}function w0(a,e){return Wd(a.databaseId,e)}function fR(a){const e=R0(a);return e.length===4?Wt.emptyPath():C0(e)}function Rd(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function C0(a){return qt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function P_(a,e,i){return{name:Sd(a,e),fields:i.value.mapValue.fields}}function dR(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(qt(E===void 0||typeof E=="string"),Be.fromBase64String(E||"")):(qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Be.fromUint8Array(E||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(y){const E=y.code===void 0?et.UNKNOWN:T0(y.code);return new ft(E,y.message||"")}(d);i=new b0(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=id(a,s.document.name),c=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):At.min(),m=new nn({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,c,d,m),y=s.targetIds||[],E=s.removedTargetIds||[];i=new ac(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=id(a,s.document),c=s.readTime?ii(s.readTime):At.min(),d=Ke.newNoDocument(o,c),m=s.removedTargetIds||[];i=new ac([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=id(a,s.document),c=s.removedTargetIds||[];i=new ac([],c,o,null)}else{if(!("filter"in e))return Et();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new iR(o,c),m=s.targetId;i=new A0(m,d)}}return i}function mR(a,e){let i;if(e instanceof _o)i={update:P_(a,e.key,e.value)};else if(e instanceof E0)i={delete:Sd(a,e.key)};else if(e instanceof Nr)i={update:P_(a,e.key,e.data),updateMask:bR(e.fieldMask)};else{if(!(e instanceof tR))return Et();i={verify:Sd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const m=d.transform;if(m instanceof yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof fo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof mo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _c)return{fieldPath:d.field.canonicalString(),increment:m.Ie};throw Et()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:hR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et()}(a,e.precondition)),i}function gR(a,e){return a&&a.length>0?(qt(e!==void 0),a.map(i=>function(o,c){let d=o.updateTime?ii(o.updateTime):ii(c);return d.isEqual(At.min())&&(d=ii(c)),new Z1(d,o.transformResults||[])}(i,e))):[]}function pR(a,e){return{documents:[w0(a,e.path)]}}function yR(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=w0(a,o);const c=function(y){if(y.length!==0)return D0(Un.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(S){return{field:ys(S.field),direction:ER(S.dir)}}(E))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const m=Ad(a,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function _R(a){let e=fR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(b){const S=x0(b);return S instanceof Un&&i0(S)?S.getFilters():[S]}(i.where));let d=[];i.orderBy&&(d=function(b){return b.map(S=>function(I){return new pc(_s(I.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(S))}(i.orderBy));let m=null;i.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,Dc(S)?null:S}(i.limit));let p=null;i.startAt&&(p=function(b){const S=!!b.before,x=b.values||[];return new gc(x,S)}(i.startAt));let y=null;return i.endAt&&(y=function(b){const S=!b.before,x=b.values||[];return new gc(x,S)}(i.endAt)),k1(e,o,d,c,m,"F",p,y)}function vR(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function x0(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=_s(i.unaryFilter.field);return _e.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_s(i.unaryFilter.field);return _e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=_s(i.unaryFilter.field);return _e.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_s(i.unaryFilter.field);return _e.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(a):a.fieldFilter!==void 0?function(i){return _e.create(_s(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return Un.create(i.compositeFilter.filters.map(s=>x0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et()}}(i.compositeFilter.op))}(a):Et()}function ER(a){return lR[a]}function TR(a){return oR[a]}function AR(a){return uR[a]}function ys(a){return{fieldPath:a.canonicalString()}}function _s(a){return je.fromServerFormat(a.fieldPath)}function D0(a){return a instanceof _e?function(i){if(i.op==="=="){if(S_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NAN"}};if(b_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(S_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NAN"}};if(b_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(i.field),op:TR(i.op),value:i.value}}}(a):a instanceof Un?function(i){const s=i.getFilters().map(o=>D0(o));return s.length===1?s[0]:{compositeFilter:{op:AR(i.op),filters:s}}}(a):Et()}function bR(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function N0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i,s,o,c=At.min(),d=At.min(),m=Be.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.Tt=e}}function RR(a){const e=_R({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Td(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.Tn=new CR}addToCollectionParentIndex(e,i){return this.Tn.add(i),tt.resolve()}getCollectionParents(e,i){return tt.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return tt.resolve()}deleteFieldIndex(e,i){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,i){return tt.resolve()}getDocumentsMatchingTarget(e,i){return tt.resolve(null)}getIndexType(e,i){return tt.resolve(0)}getFieldIndexes(e,i){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,i){return tt.resolve(br.min())}getMinOffsetFromCollectionGroup(e,i){return tt.resolve(br.min())}updateCollectionGroup(e,i,s){return tt.resolve()}updateIndexEntries(e,i){return tt.resolve()}}class CR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Re(Wt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Re(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I0=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(I0,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Rs(0)}static Kn(){return new Rs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="LruGarbageCollector",xR=1048576;function j_([a,e],[i,s]){const o=Ct(a,i);return o===0?Ct(e,s):o}class DR{constructor(e){this.Hn=e,this.buffer=new Re(j_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();j_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class NR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ct(z_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Us(i)?ct(z_,"Ignoring IndexedDB error during garbage collection: ",i):await Os(i)}await this.er(3e5)})}}class IR{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return tt.resolve(xc.ae);const s=new DR(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(k_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,c,d,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,i))).next(b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),gs()<=Pt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b})))}}function VR(a,e){return new IR(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.changes=new Ea(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?tt.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&ro(s.mutation,o,mn.empty(),Se.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Vt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Vt()){const o=ya();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=Jl();return c.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ya();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Vt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,m)=>{i.set(d,m)})})}computeViews(e,i,s,o){let c=ki();const d=io(),m=function(){return io()}();return i.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Nr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),ro(E.mutation,y,E.mutation.getFieldMask(),Se.now())):d.set(y.key,mn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,E)=>d.set(y,E)),i.forEach((y,E)=>{var b;return m.set(y,new OR(E,(b=d.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,i){const s=io();let o=new re((d,m)=>d-m),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const m of d)m.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||mn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const b=(o.get(m.batchId)||Vt()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=f0();E.forEach(S=>{if(!c.has(S)){const x=_0(i.get(S),s.get(S));x!==null&&b.set(S,x),c=c.add(S)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return tt.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):l0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):tt.resolve(ya());let m=oo,p=c;return d.next(y=>tt.forEach(y,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),c.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Vt())).next(E=>({batchId:m,changes:h0(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=Jl();return this.indexManager.getCollectionParents(e,c).next(m=>tt.forEach(m,p=>{const y=function(b,S){return new yo(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((b,S)=>{d=d.insert(b,S)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Ke.newInvalidDocument(E)))});let m=Jl();return d.forEach((p,y)=>{const E=c.get(p);E!==void 0&&ro(E.mutation,y,mn.empty(),Se.now()),Vc(i,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return tt.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}}(i)),tt.resolve()}getNamedQuery(e,i){return tt.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:RR(o.bundledQuery),readTime:ii(o.readTime)}}(i)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.overlays=new re(gt.comparator),this.Rr=new Map}getOverlay(e,i){return tt.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ya();return tt.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.Et(e,i,c)}),tt.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),tt.resolve()}getOverlaysForCollection(e,i,s){const o=ya(),c=i.length+1,d=new gt(i.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new re((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=ya(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ya(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return tt.resolve(m)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new nR(i,s));let c=this.Rr.get(i);c===void 0&&(c=Vt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this.Vr=new Re(Ve.mr),this.gr=new Re(Ve.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Ve(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Ve(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new gt(new Wt([])),s=new Ve(i,e),o=new Ve(i,e+1),c=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new gt(new Wt([])),s=new Ve(i,e),o=new Ve(i,e+1);let c=Vt();return this.gr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new Ve(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ve{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return gt.comparator(e.key,i.key)||Ct(e.Cr,i.Cr)}static pr(e,i){return Ct(e.Cr,i.Cr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(Ve.mr)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new eR(c,i,s,o);this.mutationQueue.push(d);for(const m of o)this.Mr=this.Mr.add(new Ve(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return tt.resolve(d)}lookupMutationBatch(e,i){return tt.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return tt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Fd:this.Fr-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],d=>{const m=this.Or(d.Cr);c.push(m)}),tt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Re(Ct);return i.forEach(o=>{const c=new Ve(o,0),d=new Ve(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],m=>{s=s.add(m.Cr)})}),tt.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;gt.isDocumentKey(c)||(c=c.child(""));const d=new Ve(new gt(c),0);let m=new Re(Ct);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},d),tt.resolve(this.Br(m))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return tt.forEach(i.mutations,o=>{const c=new Ve(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Ve(i,0),o=this.Mr.firstAfterOrEqual(s);return tt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.kr=e,this.docs=function(){return new re(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return tt.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=ki();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ke.newInvalidDocument(o))}),tt.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=ki();const d=i.path,m=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||p1(g1(E),s)<=0||(o.has(E.key)||Vc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return tt.resolve(c)}getAllFromCollectionGroup(e,i,s,o){Et()}qr(e,i){return tt.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new BR(this)}getSize(e){return tt.resolve(this.size)}}class BR extends MR{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),tt.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.persistence=e,this.Qr=new Ea(i=>Kd(i),Yd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Ur=new tm,this.targetCount=0,this.Kr=Rs.Un()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),tt.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Rs(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,tt.resolve()}updateTargetData(e,i){return this.zn(i),tt.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.Qr.forEach((d,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),tt.waitFor(c).next(()=>o)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return tt.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),tt.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),tt.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),tt.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return tt.resolve(s)}containsKey(e,i){return tt.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new xc(0),this.zr=!1,this.zr=!0,this.jr=new kR,this.referenceDelegate=e(this),this.Hr=new qR(this),this.indexManager=new wR,this.remoteDocumentCache=function(o){return new jR(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new SR(i),this.Yr=new LR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new PR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new zR(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){ct("MemoryPersistence","Starting transaction:",e);const o=new HR(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,i){return tt.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class HR extends _1{constructor(e){super(),this.currentSequenceNumber=e}}class em{constructor(e){this.persistence=e,this.ti=new tm,this.ni=null}static ri(e){return new em(e)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),tt.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),tt.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.ii,s=>{const o=gt.fromPath(s);return this.si(e,o).next(c=>{c||i.removeEntry(o,At.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return tt.or([()=>tt.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Ec{constructor(e,i){this.persistence=e,this.oi=new Ea(s=>T1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=VR(this,i)}static ri(e,i){return new Ec(e,i)}Zr(){}Xr(e){return tt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return tt.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?tt.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(m=>{m||(s++,c.removeEntry(d,At.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),tt.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),tt.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),tt.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),tt.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=nc(e.data.value)),i}ar(e,i,s){return tt.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Vt(),o=Vt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new nm(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Bb()?8:v1(zb())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.rs(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new FR;return this._s(e,i,d).next(m=>{if(c.result=m,this.Xi)return this.us(e,i,d,m.size)})}).next(()=>c.result)}us(e,i,s,o){return s.documentReadCount<this.es?(gs()<=Pt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),tt.resolve()):(gs()<=Pt.DEBUG&&ct("QueryEngine","Query:",ps(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(gs()<=Pt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):tt.resolve())}rs(e,i){if(x_(i))return tt.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Td(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Vt(...c);return this.ns.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,m);return this.ls(i,y,d,p.readTime)?this.rs(e,Td(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return x_(i)||o.isEqual(At.min())?tt.resolve(null):this.ns.getDocuments(e,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,o)?tt.resolve(null):(gs()<=Pt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ps(i)),this.hs(e,d,i,m1(o,oo)).next(m=>m))})}cs(e,i){let s=new Re(u0(e));return i.forEach((o,c)=>{Vc(e,c)&&(s=s.add(c))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,i,s){return gs()<=Pt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",ps(i)),this.ns.getDocumentsMatchingQuery(e,i,br.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="LocalStore",QR=3e8;class KR{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new re(Ct),this.Is=new Ea(c=>Kd(c),Yd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function YR(a,e,i,s){return new KR(a,e,i,s)}async function M0(a,e){const i=bt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],m=[];let p=Vt();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:m}))})})}function XR(a,e){const i=bt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const b=y.batch,S=b.keys();let x=tt.resolve();return S.forEach(I=>{x=x.next(()=>E.getEntry(p,I)).next(q=>{const H=y.docVersions.get(I);qt(H!==null),q.version.compareTo(H)<0&&(b.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),E.addEntry(q)))})}),x.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Vt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function O0(a){const e=bt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function $R(a,e){const i=bt(a),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const m=[];e.targetChanges.forEach((E,b)=>{const S=o.get(b);if(!S)return;m.push(i.Hr.removeMatchingKeys(c,E.removedDocuments,b).next(()=>i.Hr.addMatchingKeys(c,E.addedDocuments,b)));let x=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(Be.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(b,x),function(q,H,K){return q.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=QR?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(S,x,E)&&m.push(i.Hr.updateTargetData(c,x))});let p=ki(),y=Vt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(ZR(c,d,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(At.min())){const E=i.Hr.getLastRemoteSnapshotVersion(c).next(b=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return tt.waitFor(m).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function ZR(a,e,i){let s=Vt(),o=Vt();return i.forEach(c=>s=s.add(c)),e.getEntries(a,s).next(c=>{let d=ki();return i.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):ct(im,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function JR(a,e){const i=bt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Fd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function WR(a,e){const i=bt(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(c=>c?(o=c,tt.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new yr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function wd(a,e,i){const s=bt(a),o=s.Ts.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Us(d))throw d;ct(im,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function B_(a,e,i){const s=bt(a);let o=At.min(),c=Vt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const b=bt(p),S=b.Is.get(E);return S!==void 0?tt.resolve(b.Ts.get(S)):b.Hr.getTargetData(y,E)}(s,d,ei(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,m.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:At.min(),i?c:Vt())).next(m=>(tw(s,j1(e),m),{documents:m,gs:c})))}function tw(a,e,i){let s=a.Es.get(e)||At.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),a.Es.set(e,s)}class q_{constructor(){this.activeTargetIds=Q1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ew{constructor(){this.ho=new q_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new q_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="ConnectivityMonitor";class F_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ct(H_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ct(H_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function Cd(){return Ju===null?Ju=function(){return 268435456+Math.round(2147483648*Math.random())}():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="RestConnection",iw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rw{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===dc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,c){const d=Cd(),m=this.bo(e,i.toUriEncodedString());ct(rd,`Sending RPC '${e}' ${d}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(e,m,p,s).then(y=>(ct(rd,`Received RPC '${e}' ${d}: `,y),y),y=>{throw Ts(rd,`RPC '${e}' ${d} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,i,s,o,c,d){return this.So(e,i,s,o,c)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ms}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}bo(e,i){const s=iw[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class sw extends rw{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const c=Cd();return new Promise((d,m)=>{const p=new Pv;p.setWithCredentials(!0),p.listenOnce(kv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ec.NO_ERROR:const E=p.getResponseJson();ct(Ge,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case ec.TIMEOUT:ct(Ge,`RPC '${e}' ${c} timed out`),m(new ft(et.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:const b=p.getStatus();if(ct(Ge,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const x=S==null?void 0:S.error;if(x&&x.status&&x.message){const I=function(H){const K=H.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(K)>=0?K:et.UNKNOWN}(x.status);m(new ft(I,x.message))}else m(new ft(et.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ft(et.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ct(Ge,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);ct(Ge,`RPC '${e}' ${c} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=Cd(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Bv(),m=jv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=c.join("");ct(Ge,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=d.createWebChannel(E,p);let S=!1,x=!1;const I=new aw({Fo:H=>{x?ct(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(S||(ct(Ge,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),ct(Ge,`RPC '${e}' stream ${o} sending:`,H),b.send(H))},Mo:()=>b.close()}),q=(H,K,it)=>{H.listen(K,X=>{try{it(X)}catch(at){setTimeout(()=>{throw at},0)}})};return q(b,Zl.EventType.OPEN,()=>{x||(ct(Ge,`RPC '${e}' stream ${o} transport opened.`),I.Qo())}),q(b,Zl.EventType.CLOSE,()=>{x||(x=!0,ct(Ge,`RPC '${e}' stream ${o} transport closed`),I.Uo())}),q(b,Zl.EventType.ERROR,H=>{x||(x=!0,Ts(Ge,`RPC '${e}' stream ${o} transport errored:`,H),I.Uo(new ft(et.UNAVAILABLE,"The operation could not be completed")))}),q(b,Zl.EventType.MESSAGE,H=>{var K;if(!x){const it=H.data[0];qt(!!it);const X=it,at=(X==null?void 0:X.error)||((K=X[0])===null||K===void 0?void 0:K.error);if(at){ct(Ge,`RPC '${e}' stream ${o} received error:`,at);const st=at.status;let St=function(w){const V=ye[w];if(V!==void 0)return T0(V)}(st),O=at.message;St===void 0&&(St=et.INTERNAL,O="Unknown error status: "+st+" with message "+at.message),x=!0,I.Uo(new ft(St,O)),b.close()}else ct(Ge,`RPC '${e}' stream ${o} received:`,it),I.Ko(it)}}),q(m,zv.STAT_EVENT,H=>{H.stat===md.PROXY?ct(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===md.NOPROXY&&ct(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function ad(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(a){return new cR(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="PersistentStream";class L0{constructor(e,i,s,o,c,d,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new U0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(Pi(i.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new ft(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ct(G_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(ct(G_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lw extends L0{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=dR(this.serializer,e),s=function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ii(d.readTime):At.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Rd(this.serializer),i.addTarget=function(c,d){let m;const p=d.target;if(m=vd(p)?{documents:pR(c,p)}:{query:yR(c,p).ht},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=S0(c,d.resumeToken);const y=Ad(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){m.readTime=vc(c,d.snapshotVersion.toTimestamp());const y=Ad(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=vR(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Rd(this.serializer),i.removeTarget=e,this.I_(i)}}class ow extends L0{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=gR(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=Rd(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>mR(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{}class cw extends uw{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ft(et.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(e,bd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(et.UNKNOWN,c.toString())})}Co(e,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Co(e,bd(i,s),o,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(et.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class hw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Pi(i),this.N_=!1):ct("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class fw{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{Ta(this)&&(ct(va,"Restarting streams for network reachability change."),await async function(p){const y=bt(p);y.W_.add(4),await Eo(y),y.j_.set("Unknown"),y.W_.delete(4),await Pc(y)}(this))})}),this.j_=new hw(s,o)}}async function Pc(a){if(Ta(a))for(const e of a.G_)await e(!0)}async function Eo(a){for(const e of a.G_)await e(!1)}function P0(a,e){const i=bt(a);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),lm(i)?sm(i):Ls(i).c_()&&am(i,e))}function rm(a,e){const i=bt(a),s=Ls(i);i.K_.delete(e),s.c_()&&k0(i,e),i.K_.size===0&&(s.c_()?s.P_():Ta(i)&&i.j_.set("Unknown"))}function am(a,e){if(a.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ls(a).y_(e)}function k0(a,e){a.H_.Ne(e),Ls(a).w_(e)}function sm(a){a.H_=new sR({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>a.K_.get(e)||null,it:()=>a.datastore.serializer.databaseId}),Ls(a).start(),a.j_.B_()}function lm(a){return Ta(a)&&!Ls(a).u_()&&a.K_.size>0}function Ta(a){return bt(a).W_.size===0}function z0(a){a.H_=void 0}async function dw(a){a.j_.set("Online")}async function mw(a){a.K_.forEach((e,i)=>{am(a,e)})}async function gw(a,e){z0(a),lm(a)?(a.j_.q_(e),sm(a)):a.j_.set("Unknown")}async function pw(a,e,i){if(a.j_.set("Online"),e instanceof b0&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const m of c.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.K_.delete(m),o.H_.removeTarget(m))}(a,e)}catch(s){ct(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Tc(a,s)}else if(e instanceof ac?a.H_.We(e):e instanceof A0?a.H_.Ze(e):a.H_.je(e),!i.isEqual(At.min()))try{const s=await O0(a.localStore);i.compareTo(s)>=0&&await function(c,d){const m=c.H_.ot(d);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.K_.get(y);E&&c.K_.set(y,E.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,y)=>{const E=c.K_.get(p);if(!E)return;c.K_.set(p,E.withResumeToken(Be.EMPTY_BYTE_STRING,E.snapshotVersion)),k0(c,p);const b=new yr(E.target,p,y,E.sequenceNumber);am(c,b)}),c.remoteSyncer.applyRemoteEvent(m)}(a,i)}catch(s){ct(va,"Failed to raise snapshot:",s),await Tc(a,s)}}async function Tc(a,e,i){if(!Us(e))throw e;a.W_.add(1),await Eo(a),a.j_.set("Offline"),i||(i=()=>O0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ct(va,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await Pc(a)})}function j0(a,e){return e().catch(i=>Tc(a,i,e))}async function kc(a){const e=bt(a),i=Cr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Fd;for(;yw(e);)try{const o=await JR(e.localStore,s);if(o===null){e.U_.length===0&&i.P_();break}s=o.batchId,_w(e,o)}catch(o){await Tc(e,o)}B0(e)&&q0(e)}function yw(a){return Ta(a)&&a.U_.length<10}function _w(a,e){a.U_.push(e);const i=Cr(a);i.c_()&&i.S_&&i.b_(e.mutations)}function B0(a){return Ta(a)&&!Cr(a).u_()&&a.U_.length>0}function q0(a){Cr(a).start()}async function vw(a){Cr(a).C_()}async function Ew(a){const e=Cr(a);for(const i of a.U_)e.b_(i.mutations)}async function Tw(a,e,i){const s=a.U_.shift(),o=Zd.from(s,e,i);await j0(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await kc(a)}async function Aw(a,e){e&&Cr(a).S_&&await async function(s,o){if(function(d){return rR(d)&&d!==et.ABORTED}(o.code)){const c=s.U_.shift();Cr(s).h_(),await j0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await kc(s)}}(a,e),B0(a)&&q0(a)}async function Q_(a,e){const i=bt(a);i.asyncQueue.verifyOperationInProgress(),ct(va,"RemoteStore received new credentials");const s=Ta(i);i.W_.add(3),await Eo(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Pc(i)}async function bw(a,e){const i=bt(a);e?(i.W_.delete(2),await Pc(i)):e||(i.W_.add(2),await Eo(i),i.j_.set("Unknown"))}function Ls(a){return a.J_||(a.J_=function(i,s,o){const c=bt(i);return c.M_(),new lw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{xo:dw.bind(null,a),No:mw.bind(null,a),Lo:gw.bind(null,a),p_:pw.bind(null,a)}),a.G_.push(async e=>{e?(a.J_.h_(),lm(a)?sm(a):a.j_.set("Unknown")):(await a.J_.stop(),z0(a))})),a.J_}function Cr(a){return a.Y_||(a.Y_=function(i,s,o){const c=bt(i);return c.M_(),new ow(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:vw.bind(null,a),Lo:Aw.bind(null,a),D_:Ew.bind(null,a),v_:Tw.bind(null,a)}),a.G_.push(async e=>{e?(a.Y_.h_(),await kc(a)):(await a.Y_.stop(),a.U_.length>0&&(ct(va,`Stopping write stream with ${a.U_.length} pending writes`),a.U_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,m=new om(e,i,d,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function um(a,e){if(Pi("AsyncQueue",`${e}: ${a}`),Us(a))return new ft(et.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{static emptySet(e){return new Es(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Jl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Es)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Es;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.Z_=new re(gt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):Et():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class ws{constructor(e,i,s,o,c,d,m,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(m=>{d.push({type:0,doc:m})}),new ws(e,i,Es.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ic(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Rw{constructor(){this.queries=Y_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=bt(i),c=o.queries;o.queries=Y_(),c.forEach((d,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ft(et.ABORTED,"Firestore shutting down"))}}function Y_(){return new Ea(a=>o0(a),Ic)}async function H0(a,e){const i=bt(a);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new Sw,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const m=um(d,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,c),c.ta.push(e),e.sa(i.onlineState),c.ea&&e.oa(c.ea)&&cm(i)}async function F0(a,e){const i=bt(a),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function ww(a,e){const i=bt(a);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const m of d.ta)m.oa(o)&&(s=!0);d.ea=o}}s&&cm(i)}function Cw(a,e,i){const s=bt(a),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(e)}function cm(a){a.ia.forEach(e=>{e.next()})}var xd,X_;(X_=xd||(xd={}))._a="default",X_.Cache="cache";class G0{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ws(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.key=e}}class K0{constructor(e){this.key=e}}class xw{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=u0(e),this.wa=new Es(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new K_,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const S=o.get(E),x=Vc(this.query,b)?b:null,I=!!S&&this.mutatedKeys.has(S.key),q=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let H=!1;S&&x?S.data.isEqual(x.data)?I!==q&&(s.track({type:3,doc:x}),H=!0):this.va(S,x)||(s.track({type:2,doc:x}),H=!0,(p&&this.ya(x,p)>0||y&&this.ya(x,y)<0)&&(m=!0)):!S&&x?(s.track({type:0,doc:x}),H=!0):S&&!x&&(s.track({type:1,doc:S}),H=!0,(p||y)&&(m=!0)),H&&(x?(d=d.add(x),c=q?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{wa:d,Da:s,ls:m,mutatedKeys:c}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((E,b)=>function(x,I){const q=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return q(x)-q(I)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new ws(this.query,e.wa,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new K_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Vt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new K0(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new Q0(s))}),i}Oa(e){this.fa=e.gs,this.pa=Vt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return ws.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const hm="SyncEngine";class Dw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Nw{constructor(e){this.key=e,this.Ba=!1}}class Iw{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ea(m=>o0(m),Ic),this.qa=new Map,this.Qa=new Set,this.$a=new re(gt.comparator),this.Ua=new Map,this.Ka=new tm,this.Wa={},this.Ga=new Map,this.za=Rs.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Vw(a,e,i=!0){const s=W0(a);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await Y0(s,e,i,!0),o}async function Mw(a,e){const i=W0(a);await Y0(i,e,!0,!1)}async function Y0(a,e,i,s){const o=await WR(a.localStore,ei(e)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await Ow(a,e,c,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&P0(a.remoteStore,o),m}async function Ow(a,e,i,s,o){a.Ha=(b,S,x)=>async function(q,H,K,it){let X=H.view.ba(K);X.ls&&(X=await B_(q.localStore,H.query,!1).then(({documents:O})=>H.view.ba(O,X)));const at=it&&it.targetChanges.get(H.targetId),st=it&&it.targetMismatches.get(H.targetId)!=null,St=H.view.applyChanges(X,q.isPrimaryClient,at,st);return Z_(q,H.targetId,St.Ma),St.snapshot}(a,b,S,x);const c=await B_(a.localStore,e,!0),d=new xw(e,c.gs),m=d.ba(c.documents),p=vo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=d.applyChanges(m,a.isPrimaryClient,p);Z_(a,i,y.Ma);const E=new Dw(e,i,d);return a.ka.set(e,E),a.qa.has(i)?a.qa.get(i).push(e):a.qa.set(i,[e]),y.snapshot}async function Uw(a,e,i){const s=bt(a),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(d=>!Ic(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await wd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&rm(s.remoteStore,o.targetId),Dd(s,o.targetId)}).catch(Os)):(Dd(s,o.targetId),await wd(s.localStore,o.targetId,!0))}async function Lw(a,e){const i=bt(a),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),rm(i.remoteStore,s.targetId))}async function Pw(a,e,i){const s=Fw(a);try{const o=await function(d,m){const p=bt(d),y=Se.now(),E=m.reduce((x,I)=>x.add(I.key),Vt());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let I=ki(),q=Vt();return p.ds.getEntries(x,E).next(H=>{I=H,I.forEach((K,it)=>{it.isValidDocument()||(q=q.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,I)).next(H=>{b=H;const K=[];for(const it of m){const X=W1(it,b.get(it.key).overlayedDocument);X!=null&&K.push(new Nr(it.key,X,t0(X.value.mapValue),ni.exists(!0)))}return p.mutationQueue.addMutationBatch(x,y,K,m)}).next(H=>{S=H;const K=H.applyToLocalDocumentSet(b,q);return p.documentOverlayCache.saveOverlays(x,H.batchId,K)})}).then(()=>({batchId:S.batchId,changes:h0(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,m,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new re(Ct)),y=y.insert(m,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await To(s,o.changes),await kc(s.remoteStore)}catch(o){const c=um(o,"Failed to persist write");i.reject(c)}}async function X0(a,e){const i=bt(a);try{const s=await $R(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Ua.get(c);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?qt(d.Ba):o.removedDocuments.size>0&&(qt(d.Ba),d.Ba=!1))}),await To(i,s,e)}catch(s){await Os(s)}}function $_(a,e,i){const s=bt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,d)=>{const m=d.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const p=bt(d);p.onlineState=m;let y=!1;p.queries.forEach((E,b)=>{for(const S of b.ta)S.sa(m)&&(y=!0)}),y&&cm(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function kw(a,e,i){const s=bt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ua.get(e),c=o&&o.key;if(c){let d=new re(gt.comparator);d=d.insert(c,Ke.newNoDocument(c,At.min()));const m=Vt().add(c),p=new Uc(At.min(),new Map,new re(Ct),d,m);await X0(s,p),s.$a=s.$a.remove(c),s.Ua.delete(e),fm(s)}else await wd(s.localStore,e,!1).then(()=>Dd(s,e,i)).catch(Os)}async function zw(a,e){const i=bt(a),s=e.batch.batchId;try{const o=await XR(i.localStore,e);Z0(i,s,null),$0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await To(i,o)}catch(o){await Os(o)}}async function jw(a,e,i){const s=bt(a);try{const o=await function(d,m){const p=bt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(b=>(qt(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);Z0(s,e,i),$0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await To(s,o)}catch(o){await Os(o)}}function $0(a,e){(a.Ga.get(e)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(e)}function Z0(a,e,i){const s=bt(a);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Dd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.qa.get(e))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(e),a.isPrimaryClient&&a.Ka.br(e).forEach(s=>{a.Ka.containsKey(s)||J0(a,s)})}function J0(a,e){a.Qa.delete(e.path.canonicalString());const i=a.$a.get(e);i!==null&&(rm(a.remoteStore,i),a.$a=a.$a.remove(e),a.Ua.delete(i),fm(a))}function Z_(a,e,i){for(const s of i)s instanceof Q0?(a.Ka.addReference(s.key,e),Bw(a,s)):s instanceof K0?(ct(hm,"Document no longer in limbo: "+s.key),a.Ka.removeReference(s.key,e),a.Ka.containsKey(s.key)||J0(a,s.key)):Et()}function Bw(a,e){const i=e.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(ct(hm,"New document in limbo: "+i),a.Qa.add(s),fm(a))}function fm(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const e=a.Qa.values().next().value;a.Qa.delete(e);const i=new gt(Wt.fromString(e)),s=a.za.next();a.Ua.set(s,new Nw(i)),a.$a=a.$a.insert(i,s),P0(a.remoteStore,new yr(ei(Xd(i.path)),s,"TargetPurposeLimboResolution",xc.ae))}}async function To(a,e,i){const s=bt(a),o=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{d.push(s.Ha(p,e,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=nm.Yi(p.targetId,y);c.push(b)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const E=bt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>tt.forEach(y,S=>tt.forEach(S.Hi,x=>E.persistence.referenceDelegate.addReference(b,S.targetId,x)).next(()=>tt.forEach(S.Ji,x=>E.persistence.referenceDelegate.removeReference(b,S.targetId,x)))))}catch(b){if(!Us(b))throw b;ct(im,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const x=E.Ts.get(S),I=x.snapshotVersion,q=x.withLastLimboFreeSnapshotVersion(I);E.Ts=E.Ts.insert(S,q)}}}(s.localStore,c))}async function qw(a,e){const i=bt(a);if(!i.currentUser.isEqual(e)){ct(hm,"User change. New user:",e.toKey());const s=await M0(i.localStore,e);i.currentUser=e,function(c,d){c.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ft(et.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await To(i,s.Rs)}}function Hw(a,e){const i=bt(a),s=i.Ua.get(e);if(s&&s.Ba)return Vt().add(s.key);{let o=Vt();const c=i.qa.get(e);if(!c)return o;for(const d of c){const m=i.ka.get(d);o=o.unionWith(m.view.Sa)}return o}}function W0(a){const e=bt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=X0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kw.bind(null,e),e.La.p_=ww.bind(null,e.eventManager),e.La.Ja=Cw.bind(null,e.eventManager),e}function Fw(a){const e=bt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jw.bind(null,e),e}class Ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return YR(this.persistence,new GR,e.initialUser,this.serializer)}Xa(e){return new V0(em.ri,this.serializer)}Za(e){return new ew}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ac.provider={build:()=>new Ac};class Gw extends Ac{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){qt(this.persistence.referenceDelegate instanceof Ec);const s=this.persistence.referenceDelegate.garbageCollector;return new NR(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new V0(s=>Ec.ri(s,i),this.serializer)}}class Nd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qw.bind(null,this.syncEngine),await bw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Rw}()}createDatastore(e){const i=Lc(e.databaseInfo.databaseId),s=function(c){return new sw(c)}(e.databaseInfo);return function(c,d,m,p){return new cw(c,d,m,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,m){return new fw(s,o,c,d,m)}(this.localStore,this.datastore,e.asyncQueue,i=>$_(this.syncEngine,i,0),function(){return F_.D()?new F_:new nw}())}createSyncEngine(e,i){return function(o,c,d,m,p,y,E){const b=new Iw(o,c,d,m,p,y);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=bt(o);ct(va,"RemoteStore shutting down."),c.W_.add(5),await Eo(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Nd.provider={build:()=>new Nd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="FirestoreClient";class Qw{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=Fv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ct(xr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ct(xr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=um(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function sd(a,e){a.asyncQueue.verifyOperationInProgress(),ct(xr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await M0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function J_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Kw(a);ct(xr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>Q_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>Q_(e.remoteStore,o)),a._onlineComponents=e}async function Kw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ct(xr,"Using user provided OfflineComponentProvider");try{await sd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ts("Error using user provided cache. Falling back to memory cache: "+i),await sd(a,new Ac)}}else ct(xr,"Using default OfflineComponentProvider"),await sd(a,new Gw(void 0));return a._offlineComponents}async function eE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ct(xr,"Using user provided OnlineComponentProvider"),await J_(a,a._uninitializedComponentsProvider._online)):(ct(xr,"Using default OnlineComponentProvider"),await J_(a,new Nd))),a._onlineComponents}function Yw(a){return eE(a).then(e=>e.syncEngine)}async function Id(a){const e=await eE(a),i=e.eventManager;return i.onListen=Vw.bind(null,e.syncEngine),i.onUnlisten=Uw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Mw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Lw.bind(null,e.syncEngine),i}function Xw(a,e,i={}){const s=new Tr;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,y){const E=new tE({next:S=>{E.su(),d.enqueueAndForget(()=>F0(c,b)),S.fromCache&&p.source==="server"?y.reject(new ft(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new G0(m,E,{includeMetadataChanges:!0,Ta:!0});return H0(c,b)}(await Id(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(a,e,i){if(!i)throw new ft(et.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function $w(a,e,i,s){if(e===!0&&s===!0)throw new ft(et.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function tv(a){if(!gt.isDocumentKey(a))throw new ft(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function ev(a){if(gt.isDocumentKey(a))throw new ft(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function zc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Et()}function Oi(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ft(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=zc(a);throw new ft(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="firestore.googleapis.com",nv=!0;class iv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ft(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rE,this.ssl=nv}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:nv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=I0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xR)throw new ft(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$w("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ft(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new a1;switch(s.type){case"firstParty":return new u1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=W_.get(i);s&&(ct("ComponentProvider","Removing Datastore"),W_.delete(i),s.terminate())}(this),Promise.resolve()}}function Zw(a,e,i,s={}){var o;const c=(a=Oi(a,jc))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:a._getEmulatorOptions()}),m=`${e}:${i}`;c.host!==rE&&c.host!==m&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:s});if(!uc(p,d)&&(a._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Qe.MOCK_USER;else{y=kb(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ft(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Qe(b)}a._authCredentials=new s1(new qv(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Aa(this.firestore,e,this._query)}}class rn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class Ar extends Aa{constructor(e,i,s){super(e,i,Xd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new gt(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function dm(a,e,...i){if(a=ri(a),iE("collection","path",e),a instanceof jc){const s=Wt.fromString(e,...i);return ev(s),new Ar(a,null,s)}{if(!(a instanceof rn||a instanceof Ar))throw new ft(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return ev(s),new Ar(a.firestore,null,s)}}function aE(a,e,...i){if(a=ri(a),arguments.length===1&&(e=Fv.newId()),iE("doc","path",e),a instanceof jc){const s=Wt.fromString(e,...i);return tv(s),new rn(a,null,new gt(s))}{if(!(a instanceof rn||a instanceof Ar))throw new ft(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return tv(s),new rn(a.firestore,a instanceof Ar?a.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="AsyncQueue";class av{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new U0(this,"async_queue_retry"),this.Su=()=>{const s=ad();s&&ct(rv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=ad();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=ad();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Tr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Us(e))throw e;ct(rv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(s);throw Pi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=om.createAndSchedule(this,e,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function sv(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(a,["next","error","complete"])}class Cs extends jc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new av,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new av(e),this._firestoreClient=void 0,await e}}}function mm(a,e){const i=typeof a=="object"?a:YS(),s=typeof a=="string"?a:dc,o=HS(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=Lb("firestore");c&&Zw(o,...c)}return o}function gm(a){if(a._terminated)throw new ft(et.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Jw(a),a._firestoreClient}function Jw(a){var e,i,s;const o=a._freezeSettings(),c=function(m,p,y,E){return new S1(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,nE(E.experimentalLongPollingOptions),E.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new Qw(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xs(Be.fromBase64String(e))}catch(i){throw new ft(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new xs(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ft(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ft(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ft(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=/^__.*__$/;class t2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,i,this.fieldTransforms):new _o(e,this.data,i,this.fieldTransforms)}}class sE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Nr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function lE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class vm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return bc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(lE(this.Lu)&&Ww.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class e2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Lc(e)}ju(e,i,s,o=!1){return new vm({Lu:e,methodName:i,zu:s,path:je.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Em(a){const e=a._freezeSettings(),i=Lc(a._databaseId);return new e2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function n2(a,e,i,s,o,c={}){const d=a.ju(c.merge||c.mergeFields?2:0,e,i,o);Tm("Data must be an object, but it was:",d,s);const m=oE(s,d);let p,y;if(c.merge)p=new mn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const S=Vd(e,b,i);if(!d.contains(S))throw new ft(et.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);cE(E,S)||E.push(S)}p=new mn(E),y=d.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=d.fieldTransforms;return new t2(new nn(m),p,y)}class qc extends pm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qc}}function i2(a,e,i,s){const o=a.ju(1,e,i);Tm("Data must be an object, but it was:",o,s);const c=[],d=nn.empty();Dr(s,(p,y)=>{const E=Am(e,p,i);y=ri(y);const b=o.Uu(E);if(y instanceof qc)c.push(E);else{const S=Ao(y,b);S!=null&&(c.push(E),d.set(E,S))}});const m=new mn(c);return new sE(d,m,o.fieldTransforms)}function r2(a,e,i,s,o,c){const d=a.ju(1,e,i),m=[Vd(e,s,i)],p=[o];if(c.length%2!=0)throw new ft(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)m.push(Vd(e,c[S])),p.push(c[S+1]);const y=[],E=nn.empty();for(let S=m.length-1;S>=0;--S)if(!cE(y,m[S])){const x=m[S];let I=p[S];I=ri(I);const q=d.Uu(x);if(I instanceof qc)y.push(x);else{const H=Ao(I,q);H!=null&&(y.push(x),E.set(x,H))}}const b=new mn(y);return new sE(E,b,d.fieldTransforms)}function a2(a,e,i,s=!1){return Ao(i,a.ju(s?4:3,e))}function Ao(a,e){if(uE(a=ri(a)))return Tm("Unsupported field value:",e,a),oE(a,e);if(a instanceof pm)return function(s,o){if(!lE(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const m of s){let p=Ao(m,o.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(a,e)}return function(s,o){if((s=ri(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return K1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Se.fromDate(s);return{timestampValue:vc(o.serializer,c)}}if(s instanceof Se){const c=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vc(o.serializer,c)}}if(s instanceof ym)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xs)return{bytesValue:S0(o.serializer,s._byteString)};if(s instanceof rn){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _m)return function(d,m){return{mapValue:{fields:{[Jv]:{stringValue:Wv},[mc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return $d(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${zc(s)}`)}(a,e)}function oE(a,e){const i={};return Qv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dr(a,(s,o)=>{const c=Ao(o,e.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function uE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Se||a instanceof ym||a instanceof xs||a instanceof rn||a instanceof pm||a instanceof _m)}function Tm(a,e,i){if(!uE(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=zc(i);throw s==="an object"?e.Wu(a+" a custom object"):e.Wu(a+" "+s)}}function Vd(a,e,i){if((e=ri(e))instanceof Bc)return e._internalPath;if(typeof e=="string")return Am(a,e);throw bc("Field path arguments must be of type string or ",a,!1,void 0,i)}const s2=new RegExp("[~\\*/\\[\\]]");function Am(a,e,i){if(e.search(s2)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Bc(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function bc(a,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new ft(et.INVALID_ARGUMENT,m+a+p)}function cE(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(bm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class l2 extends hE{data(){return super.data()}}function bm(a,e){return typeof e=="string"?Am(a,e):e instanceof Bc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ft(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sm{}class o2 extends Sm{}function dE(a,e,...i){let s=[];e instanceof Sm&&s.push(e),s=s.concat(i),function(c){const d=c.filter(p=>p instanceof Rm).length,m=c.filter(p=>p instanceof Hc).length;if(d>1||d>0&&m>0)throw new ft(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)a=o._apply(a);return a}class Hc extends o2{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Hc(e,i,s)}_apply(e){const i=this._parse(e);return mE(e._query,i),new Aa(e.firestore,e.converter,Ed(e._query,i))}_parse(e){const i=Em(e.firestore);return function(c,d,m,p,y,E,b){let S;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ft(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){ov(b,E);const I=[];for(const q of b)I.push(lv(p,c,q));S={arrayValue:{values:I}}}else S=lv(p,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||ov(b,E),S=a2(m,d,b,E==="in"||E==="not-in");return _e.create(y,E,S)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function u2(a,e,i){const s=e,o=bm("where",a);return Hc._create(o,s,i)}class Rm extends Sm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Rm(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Un.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,c){let d=o;const m=c.getFlattenedFilters();for(const p of m)mE(d,p),d=Ed(d,p)}(e._query,i),new Aa(e.firestore,e.converter,Ed(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lv(a,e,i){if(typeof(i=ri(i))=="string"){if(i==="")throw new ft(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l0(e)&&i.indexOf("/")!==-1)throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Wt.fromString(i));if(!gt.isDocumentKey(s))throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return A_(a,new gt(s))}if(i instanceof rn)return A_(a,i._key);throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zc(i)}.`)}function ov(a,e){if(!Array.isArray(a)||a.length===0)throw new ft(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mE(a,e){const i=function(o,c){for(const d of o)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new ft(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ft(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class c2{convertValue(e,i="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Dr(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[mc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new _m(c)}convertGeoPoint(e){return new ym(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Nc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(uo(e));default:return null}}convertTimestamp(e){const i=Sr(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);qt(N0(s));const o=new co(s.get(1),s.get(3)),c=new gt(s.popFirst(5));return o.isEqual(i)||Pi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gE extends hE{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(bm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class sc extends gE{data(e={}){return super.data(e)}}class pE{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new to(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new sc(this._firestore,this._userDataWriter,s.key,s,new to(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const p=new sc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new to(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new sc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new to(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),E=d.indexOf(m.doc.key)),{type:f2(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function f2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}class wm extends c2{constructor(e){super(),this.firestore=e}convertBytes(e){return new xs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,i)}}function yE(a){a=Oi(a,Aa);const e=Oi(a.firestore,Cs),i=gm(e),s=new wm(e);return fE(a._query),Xw(i,a._query).then(o=>new pE(e,s,a,o))}function d2(a,e,i,...s){a=Oi(a,rn);const o=Oi(a.firestore,Cs),c=Em(o);let d;return d=typeof(e=ri(e))=="string"||e instanceof Bc?r2(c,"updateDoc",a._key,e,i,s):i2(c,"updateDoc",a._key,e),_E(o,[d.toMutation(a._key,ni.exists(!0))])}function m2(a,e){const i=Oi(a.firestore,Cs),s=aE(a),o=h2(a.converter,e);return _E(i,[n2(Em(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,ni.exists(!1))]).then(()=>s)}function g2(a,...e){var i,s,o;a=ri(a);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||sv(e[d])||(c=e[d],d++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(sv(e[d])){const b=e[d];e[d]=(i=b.next)===null||i===void 0?void 0:i.bind(b),e[d+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[d+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let p,y,E;if(a instanceof rn)y=Oi(a.firestore,Cs),E=Xd(a._key.path),p={next:b=>{e[d]&&e[d](p2(y,a,b))},error:e[d+1],complete:e[d+2]};else{const b=Oi(a,Aa);y=Oi(b.firestore,Cs),E=b._query;const S=new wm(y);p={next:x=>{e[d]&&e[d](new pE(y,S,b,x))},error:e[d+1],complete:e[d+2]},fE(a._query)}return function(S,x,I,q){const H=new tE(q),K=new G0(x,H,I);return S.asyncQueue.enqueueAndForget(async()=>H0(await Id(S),K)),()=>{H.su(),S.asyncQueue.enqueueAndForget(async()=>F0(await Id(S),K))}}(gm(y),E,m,p)}function _E(a,e){return function(s,o){const c=new Tr;return s.asyncQueue.enqueueAndForget(async()=>Pw(await Yw(s),o,c)),c.promise}(gm(a),e)}function p2(a,e,i){const s=i.docs.get(e._key),o=new wm(a);return new gE(a,o,e._key,s,new to(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ms=o})(KS),hc(new so("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new Cs(new l1(s.getProvider("auth-internal")),new c1(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ft(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new co(y.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),vs(c_,h_,e),vs(c_,h_,"esm2017")})();var y2="firebase",_2="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(y2,_2,"app");const v2={apiKey:"AIzaSyAPFn9zzoCufbohVJ5VDcUC6gBtPC7IB_o",authDomain:"tabletogether.firebaseapp.com",projectId:"tabletogether",storageBucket:"tabletogether.firebasestorage.app",messagingSenderId:"536905524696",appId:"1:536905524696:web:e93dcac6f4106ca8a73ead"},E2=Cc(v2),T2=mm(E2),A2=()=>{const[a,e]=F.useState(new Date),[i,s]=F.useState({}),[o,c]=F.useState({}),[d,m]=F.useState({}),[p,y]=F.useState(!0),E=Rc();F.useEffect(()=>{const K=setInterval(()=>{e(new Date)},6e4);return()=>clearInterval(K)},[]);const b=K=>K.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),x=(()=>{const K=new Date,it=K.getDay();return Array(7).fill().map((X,at)=>{const st=new Date(K);return st.setDate(K.getDate()-it+at),st})})(),I=async()=>{y(!0);try{const it=(await yE(dm(T2,"recipes"))).docs.map(st=>st.data());if(it.length===0){console.warn("No recipes found in Firestore"),m({}),y(!1);return}const X=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],at={};X.forEach(st=>{at[st]={lunch:it[Math.floor(Math.random()*it.length)],dinner:it[Math.floor(Math.random()*it.length)]}}),m(at)}catch(K){console.error("Error fetching menu:",K)}y(!1)};F.useEffect(()=>{I()},[]);const q=(K,it)=>{const X=`${K}-${it}`;s(at=>{if(at[X]){const st={...at};return delete st[X],st}return{...at,[X]:!0}}),c(at=>{if(at[X]){const st={...at};return delete st[X],st}return at})},H=(K,it)=>{const X=`${K}-${it}`;c(at=>{if(at[X]){const st={...at};return delete st[X],st}return{...at,[X]:!0}}),s(at=>{if(at[X]){const st={...at};return delete st[X],st}return at})};return U.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[U.jsxs("div",{className:"flex justify-between items-center p-4 bg-blue-600 text-white",children:[U.jsx("div",{className:"text-xl font-bold",children:b(a)}),U.jsxs("div",{className:"flex space-x-4",children:[U.jsx("button",{className:"px-4 py-2 bg-blue-700 rounded hover:bg-blue-800",onClick:()=>E("/pantry"),children:"Pantry"}),U.jsx("button",{className:"px-4 py-2 bg-blue-700 rounded hover:bg-blue-800",onClick:()=>E("/recipes"),children:"Recipe Database"}),U.jsx("button",{className:"px-4 py-2 bg-green-600 rounded hover:bg-green-700",onClick:I,children:"Shuffle Menu"})]})]}),U.jsx("div",{className:"flex-grow p-6 overflow-auto",children:U.jsx("div",{className:"rounded-lg shadow bg-white overflow-hidden",children:p?U.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading menu..."}):U.jsxs("table",{className:"min-w-full border-collapse table-fixed",children:[U.jsx("thead",{children:U.jsxs("tr",{children:[U.jsx("th",{className:"w-24 p-3 bg-[#f5e8d5] text-gray-800 border text-left",children:"Meal"}),x.map((K,it)=>{const X=K.toLocaleDateString("en-US",{weekday:"long"});return U.jsxs("th",{className:"w-1/7 p-3 text-center font-semibold border bg-[#f5e8d5] text-gray-800",children:[U.jsx("div",{children:X}),U.jsx("div",{className:"text-sm text-gray-600",children:K.toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},it)})]})}),U.jsx("tbody",{children:["lunch","dinner"].map(K=>U.jsxs("tr",{className:"h-40",children:[U.jsx("td",{className:"w-24 p-3 font-medium bg-gray-50 text-gray-600 border capitalize",children:K}),x.map((it,X)=>{var V;const at=it.toLocaleDateString("en-US",{weekday:"long"}),st=it.toDateString()===a.toDateString(),St=`${at}-${K}`,O=i[St],R=o[St],w=(V=d[at])==null?void 0:V[K];return U.jsx("td",{className:`p-3 text-center border ${st?"bg-blue-50":""}`,children:U.jsxs("div",{className:"flex flex-col items-center h-full justify-between",children:[U.jsxs("div",{className:"flex flex-col items-center",children:[U.jsx("div",{className:"w-24 h-24 flex items-center justify-center mb-2",children:w!=null&&w.image?U.jsx("img",{src:w.image,alt:w.title,className:"w-20 h-16 object-cover rounded"}):U.jsx("div",{className:"w-20 h-16 bg-gray-200 rounded flex items-center justify-center text-xs text-gray-500",children:"No Image"})}),U.jsx("span",{className:"font-medium",children:(w==null?void 0:w.title)||"No Meal Assigned"})]}),U.jsxs("div",{className:"flex space-x-2 mt-2",children:[U.jsx("button",{onClick:()=>q(at,K),className:`p-1 rounded ${O?"bg-green-500 text-white":"bg-gray-200"}`,children:""}),U.jsx("button",{onClick:()=>H(at,K),className:`p-1 rounded ${R?"bg-red-500 text-white":"bg-gray-200"}`,children:""})]})]})},X)})]},K))})]})})})]})},b2=()=>{const[a,e]=F.useState(""),[i,s]=F.useState({vegetarian:!1,vegan:!1,glutenFree:!1,dairyFree:!1}),[o,c]=F.useState([]),[d,m]=F.useState(!1),[p,y]=F.useState(null),E=[{id:1,title:"Vegetable Stir Fry",calories:320,vegetarian:!0,vegan:!0,glutenFree:!0,dairyFree:!0,image:"/api/placeholder/200/150"},{id:2,title:"Chicken Alfredo Pasta",calories:650,vegetarian:!1,vegan:!1,glutenFree:!1,dairyFree:!1,image:"/api/placeholder/200/150"},{id:3,title:"Greek Salad",calories:280,vegetarian:!0,vegan:!1,glutenFree:!0,dairyFree:!1,image:"/api/placeholder/200/150"},{id:4,title:"Vegan Buddha Bowl",calories:420,vegetarian:!0,vegan:!0,glutenFree:!0,dairyFree:!0,image:"/api/placeholder/200/150"},{id:5,title:"Beef Burger",calories:580,vegetarian:!1,vegan:!1,glutenFree:!1,dairyFree:!1,image:"/api/placeholder/200/150"},{id:6,title:"Gluten-Free Pancakes",calories:340,vegetarian:!0,vegan:!1,glutenFree:!0,dairyFree:!1,image:"/api/placeholder/200/150"}];F.useEffect(()=>{(()=>{m(!0),y(null);try{setTimeout(()=>{let I=[...E];a&&(I=I.filter(q=>q.title.toLowerCase().includes(a.toLowerCase()))),Object.keys(i).forEach(q=>{i[q]&&(I=I.filter(H=>H[q]))}),c(I),m(!1)},500)}catch{y("Failed to fetch recipes. Please try again."),m(!1)}})()},[a,i]);const b=x=>{e(x.target.value)},S=x=>{s(I=>({...I,[x]:!I[x]}))};return U.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[U.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Recipe Finder"}),U.jsx("div",{className:"mb-6",children:U.jsx("input",{type:"text",placeholder:"Search recipes...",value:a,onChange:b,className:"w-full p-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),U.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[U.jsx("div",{className:"text-lg font-medium mr-2",children:"Dietary Filters:"}),Object.keys(i).map(x=>U.jsx("button",{onClick:()=>S(x),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${i[x]?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:x.replace(/([A-Z])/g," $1").replace(/^./,I=>I.toUpperCase())},x))]}),d&&U.jsx("div",{className:"text-center py-4",children:"Loading recipes..."}),p&&U.jsx("div",{className:"text-center text-red-500 py-4",children:p}),U.jsxs("div",{className:"space-y-4",children:[!d&&o.length===0&&U.jsx("div",{className:"text-center py-8 text-gray-500",children:"No recipes found. Try adjusting your search or filters."}),o.map(x=>U.jsxs("div",{className:"flex border rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow",children:[U.jsx("div",{className:"w-1/3 max-w-xs bg-gray-200",children:U.jsx("img",{src:x.image,alt:x.title,className:"w-full h-full object-cover"})}),U.jsxs("div",{className:"flex-1 p-4",children:[U.jsx("h2",{className:"text-xl font-semibold mb-2",children:x.title}),U.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[x.vegetarian&&U.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"Vegetarian"}),x.vegan&&U.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"Vegan"}),x.glutenFree&&U.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded",children:"Gluten-Free"}),x.dairyFree&&U.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:"Dairy-Free"})]}),U.jsxs("div",{className:"text-gray-700",children:[U.jsx("span",{className:"font-medium",children:x.calories})," calories per serving"]})]})]},x.id))]})]})},S2=()=>{const e=Cc({apiKey:"AIzaSyAPFn9zzoCufbohVJ5VDcUC6gBtPC7IB_o",authDomain:"tabletogether.firebaseapp.com",projectId:"tabletogether",storageBucket:"tabletogether.firebasestorage.app",messagingSenderId:"536905524696",appId:"1:536905524696:web:e93dcac6f4106ca8a73ead"}),i=mm(e),[s,o]=F.useState(""),[c,d]=F.useState({vegetarian:!1,vegan:!1,glutenFree:!1,dairyFree:!1}),[m,p]=F.useState([]),[y,E]=F.useState(!0),[b,S]=F.useState(null);F.useEffect(()=>{console.log(),E(!0),S(null);try{const q=dm(i,"recipes");let H=dE(q);const K=Object.entries(c).filter(([X,at])=>at).map(([X])=>X),it=g2(H,X=>{let at=[];X.forEach(st=>{at.push({id:st.id,...st.data()})}),s&&(at=at.filter(st=>st.title.toLowerCase().includes(s.toLowerCase()))),K.forEach(st=>{at=at.filter(St=>St[st]===!0)}),p(at),E(!1)},X=>{console.error("Error fetching recipes:",X),S("Failed to fetch recipes. Please try again."),E(!1)});return()=>it()}catch(q){console.error("Error setting up Firestore listener:",q),S("Failed to connect to the database. Please try again."),E(!1)}},[s,c]);const x=q=>{o(q.target.value)},I=q=>{d(H=>({...H,[q]:!H[q]}))};return U.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[U.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Recipe Finder"}),U.jsx("div",{className:"mb-6",children:U.jsx("input",{type:"text",placeholder:"Search recipes...",value:s,onChange:x,className:"w-full p-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),U.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[U.jsx("div",{className:"text-lg font-medium mr-2",children:"Dietary Filters:"}),Object.keys(c).map(q=>U.jsx("button",{onClick:()=>I(q),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${c[q]?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:q.replace(/([A-Z])/g," $1").replace(/^./,H=>H.toUpperCase())},q))]}),y&&U.jsx("div",{className:"text-center py-4",children:"Loading recipes..."}),b&&U.jsx("div",{className:"text-center text-red-500 py-4",children:b}),U.jsxs("div",{className:"space-y-4",children:[!y&&m.length===0&&U.jsx("div",{className:"text-center py-8 text-gray-500",children:"No recipes found. Try adjusting your search or filters."}),m.map(q=>U.jsxs("div",{className:"flex border rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow",children:[U.jsx("div",{className:"w-1/3 max-w-xs bg-gray-200",children:U.jsx("img",{src:q.image||"/api/placeholder/200/150",alt:q.title,className:"w-full h-full object-cover"})}),U.jsxs("div",{className:"flex-1 p-4",children:[U.jsx("h2",{className:"text-xl font-semibold mb-2",children:q.title}),U.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[q.vegetarian&&U.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"Vegetarian"}),q.vegan&&U.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"Vegan"}),q.glutenFree&&U.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded",children:"Gluten-Free"}),q.dairyFree&&U.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:"Dairy-Free"})]}),U.jsxs("div",{className:"text-gray-700",children:[U.jsx("span",{className:"font-medium",children:q.calories})," calories per serving"]})]})]},q.id))]})]})};/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),w2=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),uv=a=>{const e=w2(a);return e.charAt(0).toUpperCase()+e.slice(1)},vE=(...a)=>a.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=F.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,...m},p)=>F.createElement("svg",{ref:p,...C2,width:e,height:e,stroke:a,strokeWidth:s?Number(i)*24/Number(e):i,className:vE("lucide",o),...m},[...d.map(([y,E])=>F.createElement(y,E)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=(a,e)=>{const i=F.forwardRef(({className:s,...o},c)=>F.createElement(x2,{ref:c,iconNode:e,className:vE(`lucide-${R2(uv(a))}`,`lucide-${a}`,s),...o}));return i.displayName=uv(a),i};/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],N2=Ir("book-open",D2);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],V2=Ir("bookmark-plus",I2);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],O2=Ir("calendar",M2);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],L2=Ir("chef-hat",U2);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],cv=Ir("flame",P2);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],z2=Ir("thumbs-down",k2);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],B2=Ir("thumbs-up",j2);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],H2=Ir("triangle-alert",q2),hv=({children:a,className:e="",...i})=>U.jsx("div",{className:`border rounded-lg shadow-md bg-white ${e}`,...i,children:a}),F2=({children:a,className:e="",...i})=>U.jsx("div",{className:`p-4 border-b ${e}`,...i,children:a}),G2=({children:a,className:e="",...i})=>U.jsx("h2",{className:`text-xl font-semibold text-gray-800 ${e}`,...i,children:a}),fv=({children:a,className:e="",...i})=>U.jsx("div",{className:`p-4 ${e}`,...i,children:a}),Xl=({children:a,onClick:e,variant:i="default",className:s="",...o})=>{const c={default:"bg-blue-500 text-white hover:bg-blue-600",outline:"border border-blue-500 text-blue-500 hover:bg-blue-50",ghost:"text-blue-500 hover:bg-blue-50",link:"text-blue-500 underline"};return U.jsx("button",{onClick:e,className:`
        px-4 py-2 rounded-md transition-colors 
        flex items-center justify-center
        ${c[i]}
        ${s}
      `,...o,children:a})},Q2=()=>{var S;const e=(S=zi().state)==null?void 0:S.recipe;if(!e)return console.error("No recipe data was passed to the viewer"),U.jsx("div",{className:"p-6",children:"No recipe data found. Please go back and try again."});const[i,s]=F.useState({name:e.title,servings:"",ingredients:e.ingredients,instructions:e.instructions,additionalSections:e.additionalSections,image:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcS_efsfYCzQtTNE7syTtekzAZuKIItXB7Vh0S8ZsAa_LQIQlSx7lT3sxKhXvB6iXctYZr_OhChfTNyL20fVHTIwtIpPD3EDhO4yOxohcMNh",chefs:["Marco Rossi","Elena Garcia"],calories:650,allergens:["Dairy","Wheat","Eggs"]}),c=Cc({apiKey:"AIzaSyAPFn9zzoCufbohVJ5VDcUC6gBtPC7IB_o",authDomain:"tabletogether.firebaseapp.com",projectId:"tabletogether",storageBucket:"tabletogether.firebasestorage.app",messagingSenderId:"536905524696",appId:"1:536905524696:web:e93dcac6f4106ca8a73ead"}),d=mm(c),[m,p]=F.useState(0),[y,E]=F.useState(0),b=async()=>{try{const x=dm(d,"recipes"),I=dE(x,u2("name","==",i.name)),q=await yE(I);if(q.empty)await m2(x,{name:i.name,servings:i.servings,ingredients:i.ingredients,instructions:i.instructions,additionalSections:i.additionalSections,image:i.image,chefs:i.chefs,calories:i.calories,allergens:i.allergens,likes:0,dislikes:0,createdAt:new Date}),console.log("Recipe created successfully");else{const K=q.docs[0].id;await d2(aE(d,"recipes",K),{name:i.name,servings:i.servings,ingredients:i.ingredients,instructions:i.instructions,additionalSections:i.additionalSections,image:i.image,chefs:i.chefs,calories:i.calories,allergens:i.allergens,updatedAt:new Date}),console.log("Recipe updated successfully")}}catch(x){console.error("Error uploading recipe:",x)}};return U.jsxs("div",{className:"relative p-6",children:[U.jsxs("div",{className:"absolute top-6 right-6 flex space-x-4",children:[U.jsxs(Xl,{variant:"outline",className:"flex items-center",children:[U.jsx(V2,{className:"mr-2"})," Recipe Book"]}),U.jsxs(Xl,{variant:"outline",className:"flex items-center",children:[U.jsx(O2,{className:"mr-2"})," Weekly Menu"]})]}),U.jsxs("div",{className:"flex space-x-6 mt-12",children:[U.jsxs(hv,{className:"w-1/3",children:[U.jsx(F2,{children:U.jsx(G2,{className:"text-center",children:i.name})}),U.jsxs(fv,{className:"flex flex-col items-center space-y-4",children:[U.jsx("img",{src:i.image,alt:i.name,className:"w-full h-64 object-cover rounded-lg"}),U.jsxs("div",{className:"flex space-x-4",children:[U.jsxs(Xl,{variant:"outline",onClick:()=>p(m+1),className:"flex items-center",children:[U.jsx(B2,{className:"mr-2"})," Like (",m,")"]}),U.jsxs(Xl,{variant:"outline",onClick:()=>E(y+1),className:"flex items-center",children:[U.jsx(z2,{className:"mr-2"})," Dislike (",y,")"]})]})]})]}),U.jsx(hv,{className:"w-2/3",children:U.jsx(fv,{className:"p-6",children:U.jsxs("div",{className:"grid grid-rows-5 gap-4",children:[U.jsxs("div",{className:"flex items-center border-b pb-4",children:[U.jsx(L2,{className:"mr-4 text-gray-600"}),U.jsxs("div",{children:[U.jsx("h3",{className:"font-semibold",children:"Chefs"}),U.jsx("p",{children:i.chefs.join(", ")})]})]}),U.jsxs("div",{className:"flex items-center border-b pb-4",children:[U.jsx(cv,{className:"mr-4 text-gray-600"}),U.jsxs("div",{children:[U.jsx("h3",{className:"font-semibold",children:"Calories"}),U.jsxs("p",{children:[i.calories," cal"]})]})]}),U.jsxs("div",{className:"flex items-center border-b pb-4",children:[U.jsx(cv,{className:"mr-4 text-gray-600"}),U.jsx("div",{children:U.jsx("h3",{className:"font-semibold",children:"Price"})})]}),U.jsxs("div",{className:"flex items-center border-b pb-4",children:[U.jsx(H2,{className:"mr-4 text-gray-600"}),U.jsxs("div",{children:[U.jsx("h3",{className:"font-semibold",children:"Allergens"}),U.jsx("p",{children:i.allergens.join(", ")})]})]}),U.jsxs("div",{className:"flex items-center",children:[U.jsx(N2,{className:"mr-4 text-gray-600"}),U.jsx("div",{children:U.jsx(Xl,{variant:"link",className:"p-0",onClick:b,children:"Upload Recipe"})})]})]})})})]})]})},K2=()=>{const{currentUser:a,logout:e}=F.useContext(EE);return U.jsx("nav",{className:"bg-blue-600 text-white p-4",children:U.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[U.jsxs("div",{className:"flex space-x-4",children:[U.jsx(pr,{to:"/",className:"font-bold text-xl",children:"Recipe Planner"}),U.jsx(pr,{to:"/",className:"hover:text-blue-200",children:"Menu"}),U.jsx(pr,{to:"/pantry",className:"hover:text-blue-200",children:"Pantry"}),U.jsx(pr,{to:"/recipes",className:"hover:text-blue-200",children:"Recipes"}),U.jsx(pr,{to:"/viewer",className:"hover:text-blue-200",children:"Recipe Viewer"}),U.jsx(pr,{to:"/addrecipe",className:"hover:text-blue-200",children:"Add"})]}),U.jsxs("div",{className:"flex items-center space-x-4",children:[a&&U.jsxs("span",{className:"text-sm",children:["Welcome, ",a.username]}),U.jsx("button",{onClick:e,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md transition-colors",children:"Logout"})]})]})})};function Y2(a){const e={title:"",servings:"",ingredients:[],instructions:[],additionalSections:{}},i=a.trim().split(`
`);for(const E of i)if(E.trim()){e.title=E.trim();break}const s={ingredients:/^(?:ingredients|what you'll need)[\s:]*$/i,instructions:/^(?:instructions|directions|method|preparation|steps)[\s:]*$/i,servings:/^(?:servings|serves|yield)[\s:]*$/i},o=/^([A-Z][A-Za-z\s]+)[\s:]*$/i,c=/^\s*[\*\-]?\s*(?:\d+(?:[.,\/]\d+)?(?:\s*[+-]\s*\d+%)?(?:\s*[])?(?:\s*to\s*\d+)?(?:\s*(?:cups?|tablespoons?|teaspoons?|tbsps?|tsps?|lbs?|pounds?|ounces?|oz|grams?|kilograms?|kgs?|milliliters?|ml|liters?|l|inches?|in|cm|pieces?|cloves?|heads?|bunche?s?|cans?|jars?|boxes?|packages?|pkgs?))?)?.*$|^\s*[\*\-]?\s*[Ss]alt\s+(?:to\s+)?(?:taste|preference).*$|^\s*[\*\-]?\s*[Pp]epper\s+(?:to\s+)?(?:taste|preference).*$/;let d=null,m=[],p=!1,y=!1;for(let E=0;E<i.length;E++){if(E===0)continue;const b=i[E].trim();if(!b)continue;let S=!1;if(b.match(/^\*\*ingredients:?\*\*$/i)){d&&m.length&&$l(e,d,m),d="ingredients",m=[],S=!0,p=!0;continue}if(b.match(/^\*\*directions:?\*\*$/i)||b.match(/^\*\*instructions:?\*\*$/i)){d&&m.length&&$l(e,d,m),d="instructions",m=[],S=!0;continue}for(const[x,I]of Object.entries(s))if(I.test(b)){d&&m.length&&$l(e,d,m),d=x,m=[],S=!0,x==="ingredients"&&(p=!0);break}if(y=c.test(b),!S&&y&&!d&&!p){d="ingredients",p=!0,m=[b];continue}if(!S&&!y){const x=b.match(o);x&&!/salt|pepper|chicken|beef|pork|lamb|fish|tofu|rice|pasta|cheese|milk|cream|butter|oil|flour|sugar|spice|herb|vegetable|fruit/i.test(x[1])&&(d&&m.length&&$l(e,d,m),d=x[1].replace(/:$/,""),m=[],S=!0)}if(!S){const x=b.match(/(?:yield|serves|servings):?\s*(\d+(?:\s*\(\+?\s*\d+%\s*(?:increase)?\))?)/i);!d&&x?e.servings=b:m.push(b)}}return d&&m.length&&$l(e,d,m),e.ingredients=e.ingredients.map(E=>E.replace(/^\s*[\*\-]\s*/,"").trim()),e.instructions=e.instructions.map(E=>E.match(/^\s*(\d+\.?\s*)/)?E.trim():E.replace(/^\s*[\*\-]\s*/,"").trim()),e}function $l(a,e,i){e in a&&Array.isArray(a[e])?a[e].push(...i):e==="servings"?a[e]=i.join(" "):a.additionalSections[e]=i}const X2=()=>{console.log("Recipe Entry Page Loaded");const[a,e]=F.useState(""),[i,s]=F.useState(null),o=Rc(),c=d=>{if(d.preventDefault(),!a.trim())return;const m=Y2(a);console.log("Parsed recipe:",m),s(m),o("/viewer",{state:{recipe:m}})};return U.jsxs("div",{className:"container mx-auto p-4 max-w-2xl",children:[U.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Recipe Parser"}),U.jsxs("form",{onSubmit:c,children:[U.jsx("div",{className:"mb-4",children:U.jsx("textarea",{className:"w-full p-4 border border-gray-300 rounded-md min-h-64",value:a,onChange:d=>e(d.target.value),placeholder:"Paste your recipe here..."})}),U.jsx("button",{type:"submit",className:"bg-blue-500 text-black py-2 px-4 rounded-md hover:bg-blue-600",children:"Save"})]})]})},EE=F.createContext();function $2(){const[a,e]=F.useState(0),[i,s]=F.useState(()=>localStorage.getItem("isLoggedIn")==="true"),[o,c]=F.useState(()=>{const p=localStorage.getItem("currentUser");return p?JSON.parse(p):null}),d=p=>{console.log("Login success with user:",p),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("currentUser",JSON.stringify(p)),c(p),s(!0)},m=()=>{console.log("Logging out"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("currentUser"),c(null),s(!1)};return console.log("Auth state:",{isAuthenticated:i,currentUser:o}),U.jsxs(EE.Provider,{value:{isAuthenticated:i,currentUser:o,logout:m},children:[i&&U.jsx(K2,{}),U.jsx("div",{className:"container mx-auto px-4 py-4",children:U.jsxs(QA,{children:[U.jsx(gr,{path:"/login",element:i?U.jsx(ga,{to:"/"}):U.jsx(Rb,{onLoginSuccess:d})}),U.jsx(gr,{path:"/",element:i?U.jsx(A2,{}):U.jsx(ga,{to:"/login"})}),U.jsx(gr,{path:"/addrecipe",element:i?U.jsx(X2,{}):U.jsx(ga,{to:"/login"})}),U.jsx(gr,{path:"/pantry",element:i?U.jsx(b2,{}):U.jsx(ga,{to:"/login"})}),U.jsx(gr,{path:"/recipes",element:i?U.jsx(S2,{}):U.jsx(ga,{to:"/login"})}),U.jsx(gr,{path:"/viewer",element:i?U.jsx(Q2,{}):U.jsx(ga,{to:"/login"})}),U.jsx(gr,{path:"*",element:U.jsx(ga,{to:i?"/":"/login"})})]})})]})}nA.createRoot(document.getElementById("root")).render(U.jsx(XT.StrictMode,{children:U.jsx(gb,{children:U.jsx($2,{})})}));
